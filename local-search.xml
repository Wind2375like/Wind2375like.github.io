<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>2023 Summary (In Chinese)</title>
    <link href="/2024/01/01/2024-01-01-2023summary/"/>
    <url>/2024/01/01/2024-01-01-2023summary/</url>
    
    <content type="html"><![CDATA[<p>2023 年的总结.</p><span id="more"></span><p>今天提前写一点年终总结.</p><p>去年有三点愿望: 搞清楚科研, 知道一点跟社会相关的信息, 和坚守自己低头做事</p><p>非常感谢少波 (波神), 我终于是入了科研的门, 也大概有了点成果. 更重要的是, 我对自己想要一个什么风格的科研有了更多的了解. 不过还不够, 还需要继续努力, 能独立开展一段科研.</p><p>二是知道一点跟社会相关的信息, 今年看来也没活在象牙塔里. 每天看看还不错的公众号 (比如人物, 三联), 和内外的视频, 至少能了解一些东西. 我发现针对某件热点事件看一些观点相互冲突的分析, 会非常刺激大脑的思考, 不至于全盘接收. 能够有一个不同观点都能存在的环境, 是多么难能可贵.</p><p>三是坚守自己低头做事. 大概 INFP 人要花很长时间去真正搞清楚自己是个什么样的人, 慢慢来. 低头做事也做了一些, 比如大概能有一些 paper, 有了在两个 lab 科研工作的经历, 结识了一些大佬, 从他们那里学了很多东西, 体验了 TA, 旅游, 还挺丰富精彩的.</p><p><img src="https://raw.githubusercontent.com/Wind2375like/I-m_Ghost/main/img20231231222725.png" alt="去过的地方"></p><hr><p>也开始意识到了新的问题:</p><p>一是理想与现实的平衡. 这就像是工程学问题, 理论是一回事, 但是现实是另一回事. 我觉得需要: 1. 确定自己必须坚守的底线. 2. 学会如何协商剩下的. 这是我将要学会的一门艺术.</p><p>二是需要学会一些有效的交流. 我一直坚信先有能力, 再谈 connection. 然而我发现因为我的 connection 打不开, 能力的提升也被限制. 然而我一直不太擅长此事, 一是经常忽略掉一些细节, 从而注意不到他人想要什么. 二是自己的思考不够快, 不够深, 没发一下子想清楚, 意识到要从别人那里获取些什么. 正因为没有目的, 才没办法实现有效的 connection. 目的, 是我需要在人和人交流中需要思考的问题.</p><p>三是希望自己能够拥有强大的信念, 强大的能量, 能不受外物他人所干扰. 我遇到了若干能量很强的人, 我自然地就被这些人吸引, 和他们在一起我真的受到了鼓舞, 就觉得所有事情都能解决, 真的好羡慕. 怎样能让自己变成一个能量很强的人呢?</p><p>四是不知道如何消解孤独. 有多个方面的因素吧, 一是和 English speakers 之间存在着一些文化的隔阂和 English 交流的障碍, 导致至今我没办法融入到那个圈子里生活. 忙着 research 也没什么时间练习英语, 所以逐渐的我所有圈子里都是 Chinese speakers. 我将来大概就是要么回国, 要么在美/加/新的华人圈里生活了. 但是就算和 Chinese speakers 之间, 我仍然无法做到形成亲密的关系, 因为太亲密会产生冲突, 是我很恐惧的东西, 然后这份关系就没了, 很痛苦, 所以我更倾向于一个 loosely connected relationship, 没了就没了. 当 Chinese speakers 多的时候, 我还没有感觉, 因为很多 loose relations 可以形成一个很强的连接. 而且那时候有很多杂事要做, 我被麻木了, 还没有感觉. 但是来到本身没多少人的地方, 这种连接就格外脆弱. 而且没有那么多杂事要做, 一旦我停下来 research, 停下来做事, 这种孤独感就会袭来, 工作就不敢停下来, 一旦停下来必须马上通过娱乐来麻痹自己, 不知道怎样才能更好地消解孤独.</p><hr><p>心情有一点不是很好, 希望 2024 会更好吧.</p>]]></content>
    
    
    <categories>
      
      <category>Annual Summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Diary</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>How to Block a Website</title>
    <link href="/2023/04/14/2023-04-14-how-to-block-a-website/"/>
    <url>/2023/04/14/2023-04-14-how-to-block-a-website/</url>
    
    <content type="html"><![CDATA[<p>Some websites are really distracting!</p><span id="more"></span><p>The method is totally not helpful at all! I don’t know why the Edge Browser could bypass the hosts file even I cleared the cache of the browser and DNS and restarted my computer. This way only worked for a little while but then the block didn’t work!</p><p>Now I spent 35CHF for the software Cold Turkey to block these websites…</p><hr><p>(Obsoleted)</p><p>OS: Windows 11.</p><ol><li>Edit the hosts file:<br>a. Press <code>Win + S</code> to open the search bar.<br>b. Type “Notepad” in the search bar.<br>c. Right-click on “Notepad” in the search results and select “Run as administrator.”<br>d. Click “Yes” if prompted by the User Account Control.<br>e. In Notepad, click “File” &gt; “Open.”<br>f. Navigate to <code>C:\Windows\System32\drivers\etc</code> and change the “Text Documents” dropdown to “All Files” in the bottom right corner.<br>g. Open the “hosts” file.<br>h. At the end of the file, add the following lines:</li></ol><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">127.0.0.1</span> www.bilibili.com<br><span class="hljs-number">127.0.0.1</span> bilibili.com<br></code></pre></td></tr></table></figure><p>i. Save the changes by clicking “File” &gt; “Save” and then close Notepad.</p><ol start="2"><li>Encrypt the hosts file with a password:<br>a. Download the Wise Folder Hider <a href="https://www.wisecleaner.com/wise-folder-hider.html">https://www.wisecleaner.com/wise-folder-hider.html</a>.<br>b. Generate a random password with use online password generators like <a href="https://passwordsgenerator.net/">https://passwordsgenerator.net/</a>.<br>c. Set the password of the Wise Folder with the one generated above.<br>d. Hide and encrypt the folder <code>C:\Windows\System32\drivers\etc</code> with the password generated above.<br>e. Write down the password on a piece of paper and lock it elsewhere, far from where you usually stay, or <strong>directly throw it into Lake Geneva!</strong></li></ol>]]></content>
    
    
    <categories>
      
      <category>Tech Essays</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Tech Essays</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Reading Notes of How does GPT Obtain its Ability? Tracing Emergent Abilities of Language Models to their Sources</title>
    <link href="/2023/02/19/2023-02-19-reading-notes-chatgpt/"/>
    <url>/2023/02/19/2023-02-19-reading-notes-chatgpt/</url>
    
    <content type="html"><![CDATA[<p>Reading notes of Yao’s notes of <a href="https://yaofu.notion.site/How-does-GPT-Obtain-its-Ability-Tracing-Emergent-Abilities-of-Language-Models-to-their-Sources-b9a57ac0fcf74f30a1ab9e3e36fa1dc1">How does GPT Obtain its Ability? Tracing Emergent Abilities of Language Models to their Sources (notion.site)</a>.</p><span id="more"></span><blockquote><p>Keywords: code and instruction tuning; trade of between in-context learning and instruction tuning; unlock or inject the abilities; instruction-tuning, supervised instruction-tuning, and RLHF instruction-tuning; knowledge and reasoning.</p></blockquote><h2 id="Reference">Reference</h2><blockquote><p>Fu, Yao; Peng, Hao and Khot, Tushar. (Dec 2022). How does GPT Obtain its Ability? Tracing Emergent Abilities of Language Models to their Sources. Yao Fu’s Notion. <a href="https://yaofu.notion.site/How-does-GPT-Obtain-its-Ability-Tracing-Emergent-Abilities-of-Language-Models-to-their-Sources-b9a57ac0fcf74f30a1ab9e3e36fa1dc1">https://yaofu.notion.site/How-does-GPT-Obtain-its-Ability-Tracing-Emergent-Abilities-of-Language-Models-to-their-Sources-b9a57ac0fcf74f30a1ab9e3e36fa1dc1</a></p></blockquote><h2 id="Road-Map">Road Map</h2><img src="https://raw.githubusercontent.com/Wind2375like/I-m_Ghost/main/imgimage-20230218225348976.png" alt="image-20230218225348976"  /><p>Note: The base model for code-davinci-002 is highly likely not be the initial GPT-3 davinci model.</p><h2 id="Summary">Summary</h2><p>The authors’ conclusion:</p><ul><li>The <strong>language generation ability</strong> + <strong>basic world knowledge</strong> + <strong>in-context learning</strong> are from pretraining (<code>davinci</code>)</li><li>The ability to <strong>store a large amount of ==knowledge==</strong> is from the 175B scale.</li><li>The ability to <strong>follow instructions</strong> and <strong>generalizing to new tasks</strong> are from scaling instruction tuning (<code>davinci-instruct-beta</code>)</li><li>The ability to perform <strong>complex ==reasoning==</strong> is likely to be from training on code (<code>code-davinci-002</code>)</li><li>The ability to <strong>generate neutral, objective, safe, and informative answers</strong> are from alignment with human. Specifically:<ul><li>If supervised tuning, the resulting model is <code>text-davinci-002</code></li><li>If RLHF, the resulting model is <code>text-davinci-003</code></li><li>Either supervised or RLHF, the models cannot outperform <code>code-davinci-002</code> on many tasks, which is called the <em>alignment tax</em>. (RLHF on 003 just recovers the in-context learning ability.)</li></ul></li><li>The <strong>dialog ability</strong> is also from RLHF (<code>ChatGPT</code>), specifically it tradeoffs in-context learning for:<ul><li>Modeling dialog history</li><li>Increased informativeness</li><li>Rejecting questions outside the model’s knowledge scope</li></ul></li></ul><table><thead><tr><th>Ability</th><th>OpenAI Model</th><th>Training Method</th><th>OpenAI API</th><th>OpenAI Paper</th><th>Open Source Approximate</th></tr></thead><tbody><tr><td>GPT-3 Series</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Generation  <br>+ World Knowledge  <br>+ In-context Learning</td><td>GPT-3 Initial<br><br><strong>Many abilities already within this model, although superficially weak</strong></td><td>Language Modeling</td><td>Davinci</td><td><a href="https://arxiv.org/abs/2005.14165">GPT 3 Paper</a></td><td><a href="https://arxiv.org/abs/2205.01068">Meta OPT</a><br><a href="https://arxiv.org/abs/2211.05100">BLOOM</a><br><a href="https://arxiv.org/abs/2211.09085">Galactica</a></td></tr><tr><td>+ Follow Human Instruction<br>+ Generalize to unseen task (free lunch of scaling instructions)</td><td>Instruct-GPT initial</td><td>Instruction Tuning</td><td>Davinci-Instruct-Beta</td><td><a href="https://arxiv.org/abs/2203.02155">Instruct-GPT paper</a></td><td><a href="https://arxiv.org/abs/2110.08207">T0 paper</a><br><a href="https://arxiv.org/abs/2109.01652">Google FLAN paper</a><br><a href="https://arxiv.org/abs/2210.11416">Google FLAN paper</a></td></tr><tr><td>+ Code Understanding<br>+ Code Generation</td><td>Codex initial</td><td>Training on Code</td><td>Code-Cushman-001</td><td><a href="https://arxiv.org/abs/2107.03374">Codex Paper</a></td><td><a href="https://arxiv.org/abs/2203.13474">Salesforce CodeGen</a></td></tr><tr><td>GPT-3.5 Series</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>++ Code Understanding<br>++ Code Generation<br>++ Complex Reasoning / Chain of Thought (<em>why</em>?)<br>+ Long-term dependency  (<em>probably</em>)</td><td>Current Codex<br><br><strong>Strongest model in GPT3.5 Series</strong></td><td>Training on text + code <br>Tuning on instructions</td><td>Code-Davinci-002</td><td><a href="https://arxiv.org/abs/2107.03374">Codex Paper</a></td><td>??</td></tr><tr><td>++ Follow Human Instruction<br>- In-context learning<br>- Reasoning<br>++ Zero-shot generation</td><td>Instruct-GPT supervised<br><br><strong>Trade in-context learning for zero-shot generation</strong></td><td>Supervised instruction tuning</td><td>Text-Davinci-002</td><td><a href="https://arxiv.org/abs/2203.02155">Instruct-GPT paper</a>, supervised part</td><td><a href="https://arxiv.org/abs/2110.08207">T0 paper</a><br/><a href="https://arxiv.org/abs/2109.01652">Google FLAN paper</a><br/><a href="https://arxiv.org/abs/2210.11416">Google FLAN paper</a></td></tr><tr><td>+ Follow human value<br>+ More detailed generation<br>+ In-context learning<br>+ Zero-shot generation</td><td>Instruct-GPT RLHF<br><br><strong>More aligned than 002, less performance loss</strong></td><td>Instruction tuning w. RLHF</td><td>Text-Davinci-003</td><td>Instruct-GPT paper, RLHF part <a href="https://arxiv.org/abs/2009.01325">Summarization .w human feedback</a></td><td><a href="https://arxiv.org/abs/2209.14375">DeepMind Sparrow paper</a><br><a href="https://arxiv.org/abs/2210.01241">AI2 RL4LMs</a></td></tr><tr><td>++ Follow human value<br>++ More detailed generation<br>++ Reject questions beyond its knowledge (why?)<br>++ Model dialog context<br>– In-context learning</td><td>ChatGPT<br><br><strong>Trade in-context learning for dialog history modeling</strong></td><td>Tuning on dialog w. RLHF</td><td>-</td><td>-</td><td><a href="https://arxiv.org/abs/2209.14375">DeepMind Sparrow paper</a><br/><a href="https://arxiv.org/abs/2210.01241">AI2 RL4LMs</a></td></tr></tbody></table><h2 id="Limitations">Limitations</h2><ol><li><strong>On-the-fly overwriting the model’s belief</strong>: when the model expresses its belief in something, it might be hard to correct it when the belief is wrong. There seems to be a hierarchy of how strong the belief is, which means that there exists a list of very strong core belief. ==<strong>It is extremely important to ensure such core belief should be absolutely 100% aligned with human.</strong>==</li><li><strong>Formal reasoning</strong>: the GPT-3.5 series cannot do reasoning within formal, strict systems like math or first-order logic.<ol><li>The word “reasoning” is less well-defined. Yet if we view there is a spectrum of ambiguity like (a) very ambiguous, no reasoning; (b) mixture of logic and ambiguous statements; ©. no ambiguity has to be very rigorous, then,</li><li>The model can do very well on type (b) reasoning with ambiguity.</li><li>The model cannot do type © reasoning, <strong>yet whether such reasoning should be done by a language model or a symbolic system is up for discussion.</strong></li><li>Update: <a href="https://writings.stephenwolfram.com/2023/01/wolframalpha-as-the-way-to-bring-computational-knowledge-superpowers-to-chatgpt/">Wolfram|Alpha as the Way to Bring Computational Knowledge Superpowers to ChatGPT—Stephen Wolfram Writings</a></li></ol></li><li><strong>Retrieval from the Internet</strong>: the GPT-3.5 series cannot directly search the internet (for now)<ol><li>Likely tested within OpenAI: <a href="https://openai.com/blog/webgpt/">WebGPT: Improving the Factual Accuracy of Language Models through Web Browsing (openai.com)</a></li><li><strong>Seperate the knowledge and reasoning</strong>: it would be ideal if we could offload the knowledge part to the outside retrieval system and let the language model only focus on reasoning.</li><li><strong>Combining LLMs (reasoning) and search (knowledge) is a good direction</strong>: LLMs are good for reasoning, not for knowledge. The knowledge within LLMs are unreliable and cannot be verified. On the other hand, the knowledge from search engine is orders or magnitude larger than LLM’s internal knowledge, can one can easily verify credibility of search results by checking the source.<ol><li>Retrieval-augmented models?</li><li>Reduce the model size? (175B storing unreliable knowledge -&gt; search engines)</li></ol></li></ol></li></ol><h2 id="Questions-to-be-answered">Questions to be answered</h2><ol><li>How does the GPT-3.5 acquire the reasoning ability (CoT)? (Likely because of code training according to the authors).</li><li>Which kinds of abilities are unlocked/injected by what means<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote">&lt;span class=“hint–top hint–rounded” aria-label=““by what means” is hypothesized in the <a href="##summary">summary</a> section but some of them are not proved.”&gt;[1]</span></a></sup>? The authors’ hypothesis (according to scale):<ol><li>Abilities from code training: injection</li><li>Abilities from instruction tuning: unlock</li></ol></li></ol><h2 id="What-I-need-to-further-know-about">What I need to further know about</h2><ul><li>instruction-tuning? supervised instruction-tuning? RLHF instruction-tuning?</li><li>code training?</li></ul><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>“by what means” is hypothesized in the <a href="##summary">summary</a> section but some of them are not proved.<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Reading Notes</category>
      
      <category>NLP</category>
      
      <category>ChatGPT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reading Notes</tag>
      
      <tag>NLP</tag>
      
      <tag>ChatGPT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Huggingface parallel training for solving the CUDA out of memory issue</title>
    <link href="/2023/02/12/2023-02-12-huggingface-parallel-training-solving-oom/"/>
    <url>/2023/02/12/2023-02-12-huggingface-parallel-training-solving-oom/</url>
    
    <content type="html"><![CDATA[<p>Document a workable solution for the annoying CUDA Out Of Memory (OOM)</p><span id="more"></span><h2 id="Background">Background</h2><p>I am running conditional text generation experiments these days on various seq2seq models. The script went well on other models except for the T5-large model. I continuously got the CUDA OOM error.</p><p>The T5-large model is not so big and I’m running code on a server with 4 NVIDIA Corporation GP102s. Each one has 12G of video memory. It seems that I could run my code. However, even I set the batch size to 1 for each device, I got the CUDA OOM error.</p><h2 id="Environment">Environment</h2><p>My huggingface transformer version is <code>4.20.1</code> and my code looks like <a href="https://github.com/huggingface/notebooks/blob/main/examples/summarization.ipynb">this</a> (<code>preprocess_function</code>, <code>dataset.map</code>, <code>trainer</code>).</p><h2 id="Some-tries">Some tries</h2><p>I followed the <a href="https://github.com/huggingface/transformers/issues/9311">advice</a> and added <code>--fp16</code> and <code>--sharded_ddp</code> but neither of them work.</p><h2 id="Solution">Solution</h2><p><a href="https://huggingface.co/docs/transformers/model_doc/t5#transformers.T5Model.parallelize">Parallelize</a></p><p><code>( device_map = None )</code></p><p>Parameters</p><ul><li><strong>device_map</strong> (<code>Dict[int, list]</code>, optional, defaults to None) — A dictionary that maps attention modules to devices. Note that the embedding module and LMHead are always automatically mapped to the first device (for esoteric reasons). That means that the first device should have fewer attention modules mapped to it than other devices. For reference, the t5 models have the following number of attention modules:<ul><li>t5-small: 6</li><li>t5-base: 12</li><li>t5-large: 24</li><li>t5-3b: 24</li><li>t5-11b: 24</li></ul></li></ul><p>Uses a device map to distribute attention modules of the model across several devices. If no device map is given, it will evenly distribute blocks across all devices.</p><p>Example:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Here is an example of a device map on a machine with 4 GPUs using t5-3b, which has a total of 24 attention modules:</span><br>model = T5ForConditionalGeneration.from_pretrained(<span class="hljs-string">&quot;t5-3b&quot;</span>)<br>device_map = &#123;<br>    <span class="hljs-number">0</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<br>    <span class="hljs-number">1</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],<br>    <span class="hljs-number">2</span>: [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>],<br>    <span class="hljs-number">3</span>: [<span class="hljs-number">17</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>],<br>&#125;<br>model.parallelize(device_map)<br></code></pre></td></tr></table></figure><p>I just copy the code and replace “t5-3b” with “t5-large” and it works!</p>]]></content>
    
    
    <categories>
      
      <category>Tech Essays</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Tech Essays</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>You are very much ON TIME</title>
    <link href="/2023/02/08/2023-02-08-time-zone/"/>
    <url>/2023/02/08/2023-02-08-time-zone/</url>
    
    <content type="html"><![CDATA[<p>Record a decent little poem that I saw~</p><span id="more"></span><hr><center><font face="Comic Sans MS" size=24><p>You are very much <strong>ON TIME</strong></p><p></font></center></p><hr><center><p>New York is 3 hours ahead of California,</p><p>but that doesn’t make California slow.</p><p>Someone graduated at the age of 22,</p><p>but waited 5 years before securing a good job.</p><p>Someone became a CEO at 25 and died at 50.</p><p>While another became a CEO at 50 and lived to 90 years.</p><p>Someone is still single,</p><p>while someone else got married.</p><p>Obama retired at 55,</p><p>while Trump started at 70.</p><p>Everyone in this world works based on <strong>THEIR TIME ZONE</strong>.</p><p>People around you might seem to be ahead of you and some might seem behind you.</p><p>But everyone is running their own race, in their own time.</p><p>Do not envy them and do not mock them.</p><p>They are in <strong>THEIR TIME ZONE</strong> and you are in <strong>YOURS</strong>.</p><p>Life is about waiting for the right time to act.</p><p>So <strong>RELAX</strong>.</p><p><strong>You’re not late. You’re not early.</strong></p><p>You are very much <strong>ON TIME</strong>.</p></center>]]></content>
    
    
    <categories>
      
      <category>Essays</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Essays</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Introduction to How Learning Works: 7 Research-Based Principles for Smart Teaching</title>
    <link href="/2023/01/27/2023-01-27-how-learning-works/"/>
    <url>/2023/01/27/2023-01-27-how-learning-works/</url>
    
    <content type="html"><![CDATA[<p>What is this book about? What is learning? What are the 7 principles of smart teaching? What questions should you ask when learning each principle? How is each chapter organized?</p><span id="more"></span><blockquote><p>I still remember that day when I saw this book: I was busy preparing my final exams and the research project for the next semester, exhausted after came out of the INM study room, and saw this book among other technical books on the public bookshelf. I was attracted to take the book to my home, perhaps because of my curiosity about education and learning. After I have read the abstract on the flap, I am eager to learn more about this book: how to bridge the gap between <strong>science of learning</strong> and <strong>science of instructions</strong> and how to implement the theory to practical use<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="Oh my fucking god:">[2]</span></a></sup>.</p></blockquote><h2 id="What-is-this-book-about">What is this book about?</h2><p>This book is about bridging the <strong>gap</strong> between the <strong>science of learning</strong> and the <strong>science of instruction</strong>. That is, to know how people learn and how to help people learn<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="There's an HSS course called How People Learn in EPFL for CS master students. It is said to be a good course but with a heavy workload so I didn't choose that course:(">[1]</span></a></sup>.</p><p>One interesting thing is that all of the principles in the book are based on <strong>research-based</strong> theory. What’s more interesting is that these are empirical research with evidence, so the principles are also <strong>evidence based</strong>. That’s where the word <em>science</em> is emphasized.</p><p>How could we bridge the gap? In this book we should focus on:</p><ol><li>The <strong>theory</strong> behind each principle</li><li><strong>Generation</strong> and <strong>refinement</strong> of teaching methods based on the theory</li><li><strong>Adaptation</strong> of the methods to different domains/courses.</li></ol><h2 id="What-is-learning">What is learning?</h2><p>The first basic question before diving into the theory of learning is what learning is. In this book, the authors define the concept as the process that causes changes in people’s minds. The changes result from the interpretation and the response to learners’ experience.</p><ol><li>It is a <strong>process</strong>, instead of the result, score, KPI, etc.</li><li>It should cause a <strong>change</strong> in someone’s mind.</li><li>People <strong>learn by themselves</strong>. They learn from their own experience, not something imposed on them.</li></ol><h2 id="Seven-principles-copy-and-paste">Seven principles (copy and paste)</h2><p>The science of learning and teaching is based on these 7 principles:</p><ol><li>Students’ <strong>prior knowledge</strong> can help or hinder learning.</li><li>How students <strong>organize knowledge</strong> influences how they learn and apply what they know.</li><li>Students’ <strong>motivation</strong> determines, directs, and sustains what they do to learn.</li><li>To develop mastery, students must acquire <strong>component skills</strong>, practice integrating them, and know when to apply what they have learned.</li><li><strong>Goal-directed</strong> practice coupled with targeted feedback enhances the quality of students’ learning.</li><li>Students’ current level of development interacts with the social, emotional, and intellectual <strong>climate</strong> of the course to impact learning.</li><li>To become <strong>self-directed</strong> learners, students must learn to monitor and adjust their approaches to learning.</li></ol><p>The <strong>generalizability</strong> of these principles makes the book <strong>powerful</strong>:</p><ol><li><strong>Domain</strong> independence -&gt; all subjects</li><li><strong>Experience</strong> independence -&gt; all educational levels</li><li>Cross <strong>culture</strong> -&gt; all cultures</li></ol><p>Now the question is: what should you know when you are learning these principles?</p><h2 id="What-should-you-ask-when-reading-7-principles">What should you ask when reading 7 principles?</h2><ol><li><strong><em>Research-based</em> theory</strong>: this is the science behind how people learn and how to help people learn.</li><li><strong><em>Evidence-based</em> approach</strong>: knowing the evidence supporting the theory will give us insight into how to design our teaching method.</li><li><strong>The practical implication to teaching</strong>: how do we design, refine, and adapt our teaching method?</li><li><strong>Clear</strong>: do you get the point the authors trying to convey? (To know this, I decide to write the reading notes every day.)</li></ol><h2 id="How-is-each-chapter-organized">How is each chapter organized?</h2><ol><li>From the introduction of some case studies to the core problem behind them.</li><li>The underlying theory and its evidence</li><li>Practical implication</li></ol><h2 id="Footnotes">Footnotes</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><span class="heimu" title="=.=">There’s an HSS course called How People Learn in EPFL for CS master students. It is said to be a good course but with a heavy workload so I didn’t choose that course:(</span><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><span class="heimu" title="=.=">Oh my fucking god:</span><br><img alt="图 1" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/0329ea8bdf6a77873be3eacb0277371a8ff29875d5866f36817b232aa8e8839c.png" /><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Reading Notes</category>
      
      <category>Books</category>
      
      <category>How Learning Works</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reading Notes</tag>
      
      <tag>Books</tag>
      
      <tag>How Learning Works</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Could you give me a hint? Generating inference graphs for defeasible reasoning</title>
    <link href="/2023/01/24/2023-01-24-give-me-a-hint/"/>
    <url>/2023/01/24/2023-01-24-give-me-a-hint/</url>
    
    <content type="html"><![CDATA[<p><strong>Keywords:</strong> Inference Graphs, Transfer Learning, Defeasible Reasoning, Human Aiding.</p><span id="more"></span><img alt="Fig 1" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/5e400103c58e8b20417827784022bd36321554b8932953bc79f3d4cd060d2dee.png" /><p>Link: <a href="https://arxiv.org/pdf/2105.05418.pdf">2105.05418.pdf (arxiv.org)</a></p><h2 id="Contribution">Contribution</h2><ul><li>Inference/Influence Graph for representing defeasible reasoning</li><li>Transfer learning for generating influence graph</li><li>Improvement of human performance with the aid of influence graph</li></ul><h2 id="Method">Method</h2><h3 id="Inference-Graph-and-Influence-Graph">Inference Graph and Influence Graph</h3><img alt="Fig 2" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/aaac32bcb2ab9b58ed0f595dfab10c0f6efec1727fae8cbcdff2ed41aaaf87fe.png" /><p>A typical causal inference is <code>P -&gt; H</code>, where <code>P</code> is the premise and <code>H</code> is the hypothesis, i.e. the outcome of the premise. The arrow shows the causal relationship. Given new evidence, the hypothesis may be strengthened <code>P|U -+-&gt; H</code> or weakened <code>P|U- -x-&gt; H</code>. When it is weakened, this kind of reasoning is called defeasible reasoning. We can treat <code>U</code> as “assumptions” and <code>U-</code> as “defeaters”.</p><p>Then the paper adopted an inference graph (left). Added contextualizers (something related to premises) and mediators (deduction step from <code>U</code> to <code>H</code>). Actually, I think it is the dataset WIQA’s contribution (the two works share the same author Niket) instead of the paper. But anyway the paper switched its context from inference graph to influence graph (right), which is directly from WIQA.</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img alt="Fig 3" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/f36f9ba147a9e2566ea2f9705f2e7b4f06bcabc54772063a67ad538feb065a9b.png" width=50% /></div><div class="group-image-wrap"><img alt="Fig 4" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/24ebec2264b5bf120a465ebce58e4fb71b9800c8f8961b36c594459648f31619.png" width=50%/></div></div></div><p>Green arrow: positive effect. Red arrow: negative effect.</p><h3 id="Transfer-Learning">Transfer Learning</h3><p>Transfer learning is that you want to let your model perform a task on one dataset, but it doesn’t have any label. So you find another similar dataset with labels and adjust it to the same format as your intended task/dataset. Then you train your model on this similar dataset and then do the prediction on your target dataset.</p><p>Since the domain in the test set has changed, a good performance in the test set will indicate not only good accuracy but also excellent generalizability.</p><p>The paper aims to generate an influence graph given <code>P</code>, <code>H</code>, and <code>U</code>. It uses seq2seq architecture. The input of encoder is easy, which is:</p><img alt="Fig 5" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/0b16ab260bf0ce6c2a55d66a46a9991ccd11eee92253b84a7d73dcb479432bf8.png" /><p>The output of decoder is the sequential representation of the influential graph. See the appendix for detail.</p><img alt="Fig 6" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/8a03da0d2851efa544057266c1382199a4b9d3c0e046a6447098927ce7843a07.png" /><p>The authors train the models (GPT2, T5) on WIQA and generate these graphs on SNLI, SOCIAL, and ATOMIC.</p><p>They did a train-test split to WIQA and evaluate their model.</p><img alt="Fig 7" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/90d230c07462707fc530967d3b99a94104cea66b26a27d02879ad817c01eaa5c.png" /><h3 id="Human-Improvement">Human Improvement</h3><p>Then they see if the graph helps people. They sample a challenging subset.</p><img alt="Fig 8" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/91c77c1c460f40ad46021f486a00c1e3b526bd43551bceda704ae511489b4a67.png" /><p>There is some improvement.</p>]]></content>
    
    
    <categories>
      
      <category>Reading Notes</category>
      
      <category>NLP</category>
      
      <category>Causal Reasoning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reading Notes</tag>
      
      <tag>NLP</tag>
      
      <tag>Causal Reasoning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Trash</title>
    <link href="/2023/01/23/2023-01-23-trash/"/>
    <url>/2023/01/23/2023-01-23-trash/</url>
    
    <content type="html"><![CDATA[<p>倒垃圾喽!</p><span id="more"></span><p>专门搞了一个倒垃圾的博客, 在评论区内狂倒, 完全不必在意其他人的感受, 只要碰到点屁大的破事就倒!</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img alt="" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/2055d4bbce1bb72a2a9dfd77eaa4847a6ddca55905ab0e0c500e829127e681e9.png"/></div><div class="group-image-wrap"><img alt="" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/c90bfb873b9a0082e33ca8bc429cf16c14c101efde57d34cf0a2395ec00ced91.png" /></div><div class="group-image-wrap"><img alt="" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/a3cc1f693a0b07e6cc309158b5b05517b2847076b244e422158a5863fe9b081f.png" /></div></div></div>]]></content>
    
    
    <categories>
      
      <category>Trash</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Trash</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022 Summary (In Chinese)</title>
    <link href="/2023/01/01/2023-01-01-2022summary/"/>
    <url>/2023/01/01/2023-01-01-2022summary/</url>
    
    <content type="html"><![CDATA[<p>2022 年的总结.</p><span id="more"></span><p>马上 2022 就要过去了, 这一年真是故事最多的一年了. 三月获得了一些 offer, 四月在纠结中选择去洛村, 五月签证, 六月毕设, 七八月做最后的告别, 然后最后几个月在一种单调紧张刺激痛苦快乐并存的生活中度过.</p><p>2022 年我列了个长长的 list, 又忘了自己眼睛大肚子小的事实 (只是比喻, 我的实际胃口要是也小就好了, 省钱). 到现在看, 除了第一条和倒数第三条, 剩下的一个也没实现😂. 今年开始我拥抱简约主义.</p><img alt="图 1" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/abc0729b1cbf3da778840a07abe84483af1b93677ccdedf346dd0b68d633d49d.png" /><p>去年我认识到信念的力量, 然后我就像动力为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">+\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span><span class="mord">∞</span></span></span></span> 的列车一样冲开一切. 但是另一个问题没有解答: 为啥非要这么拼呢? 而且一定要选择 NLP 的科研呢? <span class="heimu" title="=.="><s>明明是最卷的方向.</s></span> 因为这个问题的困扰, 我仍然无法做到 self-motivated, 也不确定未来的方向.</p><p>这一年我找到了一些答案:</p><ol><li>我发现比起自己获得什么东西, 能给他人留下些什么东西更加令我快乐.</li><li>我更喜欢安静和沉下去学/想些东西的感觉. 我喜欢比较简单的环境和人际关系. 我好像挺享受痛苦的感觉<span class="heimu" title="=.="><s>有点m了</s></span>.</li><li>既然决定投入时间做什么事情, 就在自己的能力范围内做到极致. 当然我需要时间摸鱼, 这是必要的休息. 但假如我一周能干 20h 我就给出 20h 能做的最大成果. 一周能干 40h 就给 40h 我能做到的.</li><li>我并不想改变自己的性格以迎合别的圈子.</li><li>Modeling natural language 这东西似乎挺有魅力的, 我一直想搞个<span class="heimu" title="=.="><s>能当老婆</s></span>的对话系统出来.</li></ol><p>但是还不够 (我究竟想用 NLP 的技术为别人留下什么? 能留下什么?), 还有挑战 (ChatGPT 已经很强了), 还有疑惑 (如果只是性格原因的话, 是不是不一定非要走科研这条路, 而且除了 natural language, 还有很多其他的我感兴趣的方向啊).</p><p>2022 年也颇不太平, 我也尝试给出一些自己的看法, 到头来发现似乎只是变成了别人的工具罢了. 这也给了我一个 shock, 究竟这些事情发生的原因是什么呢?</p><p>想更好地回答这些问题, 我需要一点更宏观的视野. 所以 2023 年希望我能从粗浅地了解多个其他方向的知识, 尽量站在更高的角度看问题.</p><p>同时我也要在 2023 年坚守自己的性格, 我还是要做我自己的, 也要继续低下头做事.</p><p>就这两点, 没别的了, 祝好.</p>]]></content>
    
    
    <categories>
      
      <category>Annual Summary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Diary</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EPFL MSCS First Semester Experience (in Chinese)</title>
    <link href="/2022/12/30/2022-12-30-epfl-1st-semester/"/>
    <url>/2022/12/30/2022-12-30-epfl-1st-semester/</url>
    
    <content type="html"><![CDATA[<p>每一次相遇都是缘分, 把手上的牌打到极致!</p><span id="more"></span><p>四个月前的锅巴:<br><img alt="图 3" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/54c2ee188b05667a9f37af81d9102ba1bfbe5bd9b2bcd164a9cf3a4a398a84d2.png" width="50%"/></p><p>现在的锅巴:<br><img alt="图 5" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/1fa53215c490f62c6dabb83fbcde13551198d2d4cc7ae081caa698081ff62b26.png" width="50%" /></p><hr><p><strong>温馨提示</strong>:</p><ul><li>本文仅代表个人观点</li><li>本文不保证所说信息的真实性</li><li>本文不保证所说信息的时效性 (截至 2022 年末)</li><li>本人的自身水平影响了我对 EPFL 的感受</li></ul><hr><p>去剑桥见大佬被刺激到了, 正好在 EPFL 的这一学期也要过去了, 写点东西记录一下, 希望能提供点信息<span class="heimu" title="=.=">或者噪声=.=</span>?</p><h2 id="没什么用的概况">没什么用的概况</h2><p>EPFL 很牛逼, 是瑞士的唯二两所牛逼<span class="heimu" title="=.="> (希望其他瑞士学校不要打我) </span>学校之一. EPFL 地处瑞士法语区洛桑, 风景如画, 好山好水好风光, 随手一拍就是个壁纸.</p><p>我的专业 MSCS, 120 ECTS (学分), 1 ECTS 代表一周两个小时的<strong>理论</strong>工作量 (可能是教授拍脑袋想的). 这 120 ECTS 里面包括 72 学分的 core 课和 option 课 (core 至少需要 30 学分), 12 学分的 semester project, 6 学分的人文课 (分上下两学期, 一学期 3 学分), 30 学分的 master thesis, 以及 0 学分的<strong>强制</strong>实习 (自己找或者学校平台会挂一些岗位, 基本都是欧洲的). 选课有一定自由度, 你可以选最多 15 学分的方案外课程甚至本科生课程当作 option 课. 其他专业的选课自由度好像也很高, 比如你甚至可以把 EE 上成 CS (<span class="heimu" title="=.=">万物皆可转码</span>). 这边课程强度我和身边的人认为一学期 30 学分已经很极限了, 会很累, 所以两年基本是读不下来的… 这边平均 2.5 年读完 (四学期课, 一学期毕设), 上限是 8 学期, 这里的时间不包括实习所花的时间, 大部分人还有整学期实习, 所以一般三年读完.</p><img alt="图 1" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/6390279235e5785c4ab5bff114e0cf8dc2ebcda67393a03d6573985fb719a381.png" width="50%" class="center"/><p>具体的 study plan 在<a href="https://edu.epfl.ch/studyplan/en/master/computer-science/">这里</a>. 每门课会告诉你授课语言 (全都是英文), 在哪一学期开 (1 代表秋季, 2 代表夏季), LEP 代表 lecture, exercise 和 project. exam 分为 oral, written, 和 during the semester.</p><img alt="图 2" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/3ee1b5312aa8383f74548996be252d6d27dd9280dd22896916f43da5c216fdfa.png" /><p>什么是 specialization?</p><blockquote><p>A specialization is a set of courses that allows students to deepen their knowledge of a particular aspect of their main discipline. Thus, it provides  them with the opportunity to develop expertise in a particular area of their master’s degree.</p><p>Computer science and Communication systems students can choose either a specialization or a minor.</p></blockquote><p>这里的 minor 指的是辅修, 辅修规则我不太了解.</p><p>然后洛桑学联有调查过今年的<a href="https://mp.weixin.qq.com/s/Be_tGu9OdUyFEcW1sXHNlQ">录取情况</a>, 不过填的人不是很多, 因为今年不知道为什么发的特别晚, 导致很多拿到 offer 但是没有去的人没有填信息, 甚至去了的人也没有… (比如 XJTU 去了 4 个 ms, 其实还有两个 phd, 还有拿了 offer 没去的)</p><p>还可以去 <a href="https://luocun.org/"><code>luocun.org</code></a> 进一步了解关于洛桑的各种信息.</p><p>经过一个学期, 我感觉在 CS DS CSE EE 这些想科研的人还是很少很少, 绝大部分都是找工了. 其实我是想走科研的路的, 一个学期之后这种感觉愈发强烈, 但是这里还是有点和我想象的不一样.</p><h2 id="天真的想象">天真的想象</h2><p>当初我在 ETHz, EPFL, UCSD, 和 PSU 四所学校之间痛苦选择. 为了有更多时间准备科研和没那么卷去掉了 UCSD, 然后为了更好的平台去掉了 PSU, 为了更感兴趣的教授选了 EPFL. 当时是这么盘算的 (重要性递减):</p><ul><li>research-based master 科研氛围浓</li><li>Antoine 组好厉害</li><li>资源没那么卷</li><li>多上点课补点基础, 本科啥也不会</li><li>安全且便宜</li><li>而且强制实习可以让我体验一下工业界, 感受不同的道路, 算是加分项</li></ul><p>当时我也有一些风险考虑:</p><ul><li>课程压力太大不好做科研</li><li>人好像并不少, CS 有一二百人呢</li><li>因为人有点多, 所以可能会卷, 资源不一定足</li></ul><p>到现在我发现和我想象的不太一样. 这里的人大部分心思并不在科研, 只想找工. 课程的 workload 被我低估了 (算了一下一学期也就三门课, 应该能抽出时间科研吧), 而且课程对科研的实际作用似乎挺有限的. 我高估了自己的能力, 一学期在 seminar 里基本是跟不上别人, 语言表达也是问题, 直接展现了自己最烂的一面. 我也没有考虑到其他专业也在竞争的 pool 内. 光 CS 就快 200, 还有 DS, CSE, EE, 而且他们真的好强, 上了一学期课发现自己原来就是个 five.</p><p>安全是挺安全的, 甚至比国内安全. 但是便宜… 还是算了. 这边物价是全欧洲最贵 (比英国还贵), 税还高. 一年 15w 的开销似乎打不住, 我这几个月都花了 2000+ CHF, 这还是在每个晚上都在挨饿的情况下 (我食量很大quq)… 如果想省钱就只能住 flatshare (但是房子是随机分的, 你也不知道你有什么房子, 有就不错了), 自己做饭 (后面真的没时间, 外面一顿饭 10+), 不旅游不滑雪只学习 (来这里就知道滑雪有多贵了), 那来欧洲的意义是什么… 然后基本要读三年啊, 也不便宜…</p><p><span class="heimu" title="=.=">总是会想, 如果去 PSU 就好了, 但是没有&quot;如果&quot;. 来这里一定是某种缘分.</span></p><h2 id="这课上得还挺值">这课上得还挺值</h2><p>EPFL 的选课具有一定<strong>自由度</strong>, 允许学科交叉, 像 CS 很多课会在 EE 里出现, 而且方案外也可以选 15 学分的课, 身边有人选本科生的算法, sweng, 而我这学期选了 phd 的 NLP seminar, 之后还打算用这 15 分的 quota 选数学系的 causal thinking.</p><p>EPFL 这边的课讲得不能算惊艳, 老师们上课是都有各种口音, 讲得也不是很有意思, 很多也不易于理解. 但是至少上课讲的<strong>核心部分是尽量让所有人能听懂的</strong>, 听不懂 ppt 上的注释或者讲义材料也能让我课后慢慢看懂, 不至于像我本科的时候讲得啥也听不懂, 期末从头找其他材料自学. 而且这些课都是&quot;免费&quot;的 (学费一学期 780 CHF, 不跟白送一样), 对比 cam 的高价学费, 一节课几千人民币岂不美哉.</p><p>这边的课程<strong>广度和深度</strong>跟本科的垃圾相比完全不在一个层面. 其实本科的培养方案还能看, 但是讲的东西就是又少 (EPFL 本科生课的工作量赶上 XJTU 的 2-4 倍了), 又不结合实际应用 (CS 相关的课的代码量几乎为零, 就算有也不会变, 找去年学长学姐要就行, 只顾刷题好考研), 又和现在的方向脱钩 (EPFL 会结合最新的东西来讲, 而且从算法的层面让所有人搞懂), 所以我在本科大概是浪费了三年的时间. 这学期我选的课既有 heavy math (CS-433 ML), 也有 interesting algos (CS-401 Ada, CS-423 DIS), 还有 heavy coding exercises (all), 还有 phd 课程 (CS-612). 在这里上了一学期课感觉各方面能力提升了不少.</p><p>但是一学期的 workload 真的痛苦, 大部分时间都用在课程上了, 导致很难抽出时间自学/做科研, 这学期还是挺被动的. 我才选了 25 学分, 有的人选 30 学分, 真的痛苦面具. 对了, 学分和工作量并不完全对等, 比如有的 4 学分课想学好可能不是一周 8h 的工作量, 而有的 8 学分课可能很水.</p><p>还有一点是就算课程与时俱进, 但是课程还是比较偏离目前科研的最新方向的 (可能 NLP 发展太快了吧). 感觉一学期过去了, 我更加脱离学术圈的发展, 更落伍了. 当然没有基础也看不明白论文, 还是要花点时间从零积累的, 只不过这个度要平衡好吧.</p><h2 id="老师与学生">老师与学生</h2><p>EPFL 的老师不算勤快, 和剑桥 “student is the king” 相比还是逊色很多, 但是至少讲课这块会认真准备, 每年都会更新 (比如 Bob 的 Ada 课在 ppt 的注释会写自己往年讲课的时间管理情况), 并且不会在自己不懂的情况讲课. 这种敬业精神大部分 XJTU 自动化的老师并没有.</p><p>问题是像 CS 系严重扩招, 选课又自由, 导致课程容量太大 (ML, Ada 全都是 400 人大课), 学生很难能和老师互动 (通常是通过助教, 论坛, etc. 获得帮助).</p><p>这边的 semester project 也是一样, 学生太多了, 老师没空带, 一般都是 phd 带, 可能连老师都见不着几面, 所以建立 connection 并不容易.</p><p>大概的确是我太菜了.</p><h2 id="研究型硕士">研究型硕士?</h2><p>当初我以为瑞士的 master 是 research-based 的, 然后上了半学期课有一天听两个同学讨论, 说他们认识好几个放着美国 phd 不要来这里读 MS 的, 因为以为这里是 research-based master, 而且平台更高, 结果大呼上当受骗. 我当时直接绷不住了, 纳闷我来这儿是图啥啊…</p><p>EPFL 的 MSCS 一点也不 research-based. 别忘了, 法语区文化 == 工程师文化. 这边非常鼓励/强迫你去工业界. EPFL 是有强制实习的. 还有十一连续数天的 career fair, 一整个学期的 career service 一步步指导… EPFL 给了条更容易获得欧洲工签的路, 让不少人其实是为了这些来的. 所以很难找到讨论科研的人… semester project 更多是个 project 给 phd 打下手, 写网页做 demo, 老师基本不认识你, 如果想做 research 可能需要一点决心吧.</p><p>但是这里确实有 research 的机会, 还是看自己吧. 虽然 seminar 上得自闭, 但是能读 paper 开始有自己的想法了, 而且稍微不至于在 NLP 的浪潮中掉队太多. 虽然我一个 1st year master 并没有展现出任何能力, 但是也设法抱到了另一个组大佬的大腿, 并且学了些东西. 怎么说呢, 也得到了一些东西, 至少比在 XJTU 好太多了.</p><h2 id="语言">语言</h2><p>语言是我的主要 emo 来源. 我的英语有很大的障碍, 至今仍然听不懂别人在说什么, 也说不明白. 而且法语区街边的东西都是法语, 大家说的话大部分也都是法语, 我也很难练习, 相比之下在英国这一点就很好. 400 人的大课, 我只想去认识和我熟悉的人, 就变成和中国人一起了, 自然也练不了语言. 而且我本身挺自闭的, 不喜欢花大量时间去 social, 只要没有强制的 social, 我就更愿意把时间投到科研, 导致我的语言没法锻炼…</p><p>其实应该是我的性格问题吧. 要么硬着头皮让自己变得 social 起来, 要么保持自我但是需要花更多时间刻意练习, 都做不到那语言就永远不会进步.</p><h2 id="卷不过啊">卷不过啊</h2><p>感觉反倒其他国家的人真的超级努力, 肝, 而且很强, 我自惭形秽. 不好卷.</p><p>不过读到 master, 还卷吗? 有必要吗? 真的只有这一条路吗? 走到这儿了, 明明有很多路的.</p><hr><h2 id="结语">结语</h2><p>EPFL 读下来很累, 每天都要上课写作业. 这里的科研和我想象的有差距, 目前并不算顺利. 这里的生活很无聊, 馆子少, 没啥可逛的, 也没什么游山玩水的时间和钱. 但是, 这里真正让我有了学到东西的成就感, 让我找到了科研和生活的动力. 还有美丽的湖景, 蓝白相间的山, 和快乐的火锅局, 饺子局, 让我觉得这边的生活其实也还不错~</p><hr><img alt="图 6" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/47bc94816560f1ba90b7cb274fb6a36ab73b6a5154bcbd83c5bbb824cd9d0420.png" /><p>景色可以治愈人心~</p><img alt="图 7" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/00c8bfd01d2c535c6331d160b81f3d0c68962cf4ff39db4695423c926ae8b091.png" /><p>火锅爽吃~</p><img alt="图 8" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost@main/img/4f676dabfa74cf61e62a5104e8a4e0ec3af13ed3f8397ace5db4351303340769.png" /><p>快乐饺子局~</p>]]></content>
    
    
    <categories>
      
      <category>Essays</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Computer Science</tag>
      
      <tag>Master Application</tag>
      
      <tag>Diary</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>My CS Master Application (in Chinese)</title>
    <link href="/2022/05/10/2022-05-10-my-master-application/"/>
    <url>/2022/05/10/2022-05-10-my-master-application/</url>
    
    <content type="html"><![CDATA[<div style="display:none">其实是申请"寄"总结, 寄穿了.</div><p>天天盯着别人怎么厉害, 那最终只会觉得除了去东南门卖卷馍以外啥也干不成.</p><span id="more"></span><blockquote><p>本文介绍我的 cs master 申请总结. 我主申科研向 MSCS, 兼顾找工向 MSCS.</p></blockquote><p>有时候没法去羡慕别人, 别人可能生下来就拿着大量资源, 或是有优渥的家庭, 或是有视野和平台, 或是有极高的智力, 或是有超乎常人的毅力, 或是全都有… 这些都不是我能掌控的了的, 我能做的只是发挥自己最大的主观能动性, 以及相信自己, 在自己的世界里过的开心, 有一点微小的进步, 也能给别人, 给社区带来一点微小的快乐和贡献, 就够了.</p><p><a href="https://www.1point3acres.com/bbs/thread-761193-1-1.html">这篇文章</a>挺好的, 可以看看.<br>这两篇文章对于 PhD 申请和科研向 MSCS 申请挺好的, 后悔没有早看到早准备. <a href="https://tylergu.com/summary.html">Summary of Grad App (tylergu.com)</a> and <a href="https://github.com/jedyang97/awesome-cs-phd-application-advice">jedyang97/awesome-cs-phd-application-advice: A curated list of awesome advice for computer science Ph.D. applicants. (github.com)</a></p><p><span class="heimu" title="你知道的太多了">如果你认真读完以上内容, 我想你已经不需要读接下来的内容了.</span></p><h2 id="关于我">关于我</h2><p>C9, 大类, 自动化 (与 CS 和 AI 的关系很低), 主申 CS, 未来 NLP 科研向, 无 paper.</p><div style="display:none">我来自 Automation@XJTU, 如果你想要学 CS 并且不幸被分到普通大类, 快逃...<p>如果是实验班, 或许还能有点资源, 其实今年我校还真有个大佬. 不过再大佬, 天花板也就是 CS PhD@UW, 还是没能四大…</p><p>总之普通人普通班就是别来 (想学纯 CS).</p><p>但是高考不可控, 总有人不得不来 (比如我), 来就来吧, 也是有机会的, 不过很痛苦就是了.</p></div><p><strong>硬实力:</strong></p><img alt="图 8" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/e77c41a1219cc3584f9d8405d427a62ca71cb5ff78e4e0a8a012049dd644214e.png" /><p><strong>软实力:</strong></p><p>三段 NLP 相关科研, 两段校内一段 PSU remote 暑研, 均无产出. 三封强推 (两封校内一封暑研老板). 无实习.</p><div style="display:none">就这个实力敢申 MSCS 而且是 top 30 的, 我觉得自己也挺有勇气挺莽的, 不过现在看来多亏自己坚持一定要 CS, 绝不向 ECE, CE 和 EE 将就, 才有机会继续尝试追逐自己喜欢的东西...</div><div style="display:none">其实我最开始没打算出国的, 只不过因为性格倒是早就决定将来走科研向了. 大一上大类课和选修课, 我甚至觉得身边的老师都很好, 我在各个方面都学到很多, 很快乐. 但是大二专业分流之后每门课都在消耗我的热情, 偶然知道 NLP 之后很感兴趣于是自学, 搭梯子, 到墙外才发现国外的学术水平, 学术环境, 高校教育水平简直领先 N 档, 而自动化的众人却为了那点竞赛和分越来越卷, 我只想逃离.</div><div style="display:none">而且在国内这辈子就出不去了, 路和上升空间也就那样. 但是出国的话就有更多选择, 代价就是交一笔钱, 我想要选择的自由, 于是选择出国</div><h2 id="结果">结果</h2><p>彩票 4 所, 冲刺 5 所 (CMU, UCLA, Brown, UMich, UvA) + 主申 5 所 (UCSD, USC*2, Columbia, PSU) 比较多, 保底 4 所. 分布比较平均.</p><div style="display:none">后来发现我的认知比较乐观, tmd 全是彩票全是冲刺.</div><img alt="图 9" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/a5ca82b7545c9fd81d2662c04faf376743b809209713ef15aa1ec092c2bc32c6.png" /><h2 id="重要性排序以及我的感觉">重要性排序以及我的感觉</h2><p>我个人并不能排出一个比较大小… 说几个因素吧.</p><p>有<strong>大牛的强推和顶会 1 作这种, 再或者海外厉害 ap 的强推和顶会 paper</strong>, 在以前可能稳了, 但现在不一定… 不知为啥有的学校 GPA 控… 但是没有的话基本上能去的学校得毙掉一大半.</p><div style="display:none">在西交你基本没有这 connection. 顶多能套个 ap 就不错了. 真正做科研的老师都没多少, 论文也不看的... 就算是三维拉满发论文带飞导师的天花板, 最终也只能去 UW 给 ap 读个 nlp phd, 四大还是没有戏的. 前几年有个标兵从电气跨选一堆 CS 课最终去 UWM 读 cv phd 了, 已经是我们学校的神了...</div><p><strong>GPA 的绝对数值</strong>甚至比本科学校重要了(?) 比如 ETH, EPFL, UCSD. 哪怕牛推强推搞到手了 GPA 低排名低都有可能拒… 而且 GPA 这块除了清北感觉甚至华五的 GPA 也得和其他 985/211 一起比, 也挺坑的… <strong>但是</strong>光有 GPA 可申的学校太有限了.</p><div style="display:none">但本科学校还是很重要, 因为提供的平台和资源差太多了. 哪怕清北复交已经开始宣扬留校直博, CS 出国的那种环境, 资源, 教师和科研水平, 简直比傻逼西交不知高多少. 在西交, 四年转瞬即荒废.</div><p>不是 <strong>CS 科班</strong>又得毙掉一批学校. 基本上如果不是科班的话今年保底都不一定能拿到. 看到地里录 NYU Tandon, NEU, UCI, USC 等等 MSCS 的基本就是 CS, SE 这些专业, 哪怕我三围比人家高也没用…</p><div style="display:none">所以想去学 CS 千万不要想不开去西交读自动化, 天天学自控和信号处理, 当初忽悠一堆人转专业进来以为能学人工智能, 结果都不知道看培养计划发现被骗了. 自动化的各位包括我, fly bitch 下 90% 的人代码能力都挺那啥的, CS 基础也不咋懂, 关键没时间自学, 因为还要上大量其他课和做实验... 相比之下 CS 虽然也拉 (背诵, 过时, 理论), 但 title 在那里, 而且同一门课上课+自学比我们上一门课自学另一门要舒服多了. 大部分学自动化的, 最终只能 EE 或者 ECE...</div><p>这三点的重要性, 我也不好比较, 感觉最好都有:sweat_smile:.</p><p>然后 TG 105+320+3.0 感觉就能申 MSCS 了, 不过有的口语得看看. 至于文书我觉得很少有人能写出花来, 如果你觉得自己也是个普通人那就普普通通地按照模板把各个经历用完善的逻辑串起来吧.</p><p>明年申请只会更卷, 一方面去美国的难度 (政策, 签证) 会加大,</p><div style="display:none">另一方面国内的形势, 经济走下坡, 再加上上海疫情这个事肯定会让不少人防止自己被铁拳砸中而逃离 (其实到哪都得被铁拳砸中, 只不过国外看钱多少有一点选择的自由罢了, 不过这跟我这个穷鬼又有什么关系呢?),</div><p>最终会导致申请难度加剧.</p><h2 id="申请中的各个点">申请中的各个点</h2><p>下面介绍一些小点.</p><div style="display:none">以及我踩过的各种大坑.</div><h3 id="信息搜集">信息搜集</h3><p>目前已经被<a href="https://www.1point3acres.com/bbs/">一亩三分地</a>垄断了. 我的建议, 先把新手上路弄了, 拿到 100 米. 剩下的每天签到/写经验贴. 很快就能 200 多米, 申请时发帖看帖啥够了. 搜索全靠 instant search. 也能用.</p><div style="display:none">不要充钱 (在各个方面). 质量配不上收费价格. 国人可能真就是不会有人想着方便他人, 只会想怎么赚钱罢了, 不会真正想着开源方便他人. 再就是信息质量不算很高, 什么人都有, 大佬 ms 和 phd 大部分不会在这个社区过于活跃.</div><h3 id="课程">课程</h3><p>因为 GPA 的绝对数值变得重要, 因此尽量让专业课的分数拿的高一点吧. 我在大三下学期之前都属于认真经营 GPA 的人. 大三下之后中心转到语言备考和暑研上, 成绩下滑, 总体维持在 92/100 (最终 GPA 10/197, 5%).</p><div style="display:none">自动化的课程真烂. 我就没觉得自己学明白过几门课, 索性后买你全靠突击. 而且还卷, 92 综排年级 15%, 算了下 GPA 排名才重新找回一点信心.</div><div style="display:none">不过渣交在 GPA 这一点还算友好, 我们这一届 GPA 给的是真 tm 高, 申请时真香. (听说后面几届开始压分了好像, 果然大趋势都是不让出国吗orz)</div><h3 id="语言">语言</h3><p>有关语言, 我实在不配发表什么高见. 我的英语实在垃圾, 智商不够, 又缺乏自制力, 只能靠氪金了. 我觉得最有效率的氪金应该是找一个过来人一对一, 如果找不到的话, 再就是找一些&quot;营&quot;, 看着别人的刷题方法然后自学自练, 有问题在某群问老师这种. 除此之外普通外语机构的一对一, 大班, 看辅导书都不靠谱.</p><p>建议先 GRE, GRE 有效期五年所以什么时候考都行. GRE 纯靠背单词和刷机经. 单词机经我用的张巍 GRE 的机经和单词. 主要成败在于 Verbal, Verbal 的成败又在与填空. (阅读很难看懂, 大不了蒙). 最终在裸考 Q 和 AW 的情况下 (考前一天背单词, 看作文), 以 155+167+3.0 在大三用四周结束 GRE.</p><p>托福难度反而比 GRE 大. 阅读在 GRE 训练后单词都不是问题了, 降维打击, 但是听力口语写作还是挺麻烦的. 需要点时间积累… 建议早考出来, 便能早早留出时间做后面的事情. 也能享受到出国交换的机会. 但托福有效期短, 还不能考太早, 算好时间 (大二秋冬考, 申请时就能用上). 献上我的<a href="https://github.com/Wind2375like/My-TOEFL-Experience-Chinese-Version-/blob/main/README.md">愚见</a>.</p><h3 id="科研">科研</h3><p>早做科研可以确定自己适不适合, 同时校内科研经历也是暑研的敲门砖.</p><div style="display:none">如果已经完整被别人带了几次, 差不多发了一两篇 paper, 知道大概生活节奏了, 应该就能确定. 如果始终没找到带飞的人, 全靠自己怎么也做不出, 那还不一定不适合 (比如我)...</div><p>最好科研和申请专业相关度较大, 比如我大二开展第一段科研, 大三冬天第二段, 大三暑假第三段, 都和 NLP 有关, 显然是可以试着申请 MSCS 的.</p><div style="display:none">要学会硬凑, 嗯靠, 把自己的研究说成这个方向... 比如我第一段科研就是个伪代码编译器, 通过对话弹出 exception 交给用户修正, 就美其名曰对话系统了.</div><p>在大多数 CS 的申请学校中, <strong>有分量的 paper</strong> 是很重要的 (没有 connection, 没有牛推, 只能发 paper 了), 厉害的学校可能有厉害的老师和实验室可以进, 但是一般的情况还是抱紧大佬的大腿 (博士生/硕士生 &gt; 学长 &gt; 同级 &gt; 学弟), <strong>请一定要跟能发论文的学生做</strong>, 第一次科研最好能被带飞一次, 熟悉流程, 后面逐渐独立起来, 再靠自己.</p><div style="display:none">在 XJTU 没啥老师能带飞, 就是找有没有肯带发论文的博士生/硕士生. 很少有本科生... 这一届天花板大哥 (Bunsen) 发了一堆给导师带飞了, 还建了个 LUD Lab, 是个特例, 后悔没早去... 整个 XJTU 做 NLP 发顶会的也就天地网和网安了大概, 都是学生...</div><div style="display:none">我很后悔第一次科研其实有两个选择, 一个是跟数据结构的老师做对话系统, 另一个是跟一个博士生学长在一个研究组做对话系统. 我一下子就被数据结构的老师画的大饼给吸引住了, 当时还停留在教授绝对学术能力很强的错觉上, 结果最后发现做一个 template-based, 一堆 if 条件的 parser, 和 ML 没有一点关系, 整整耽误了一年...</div><div style="display:none">我一直期待至少在碰到困难的时候导师/学长能给我重要推进, 帮我解决难关. 可惜我三次科研一次也没有完整体验... 我觉得这是能否坚持下去最重要的东西.</div><div style="display:none">再就是能否让我以良好的心态科研, 没有的话完全没法做, 我会对科研彻底失去兴趣, 甚至有更严重的后果.</div><div style="display:none"> 再就是导师/学长愿不愿意积极跟进我, 解决我的问题 (意味着要花他们的时间), 而不是只能我约他们而不是他们找我. 这个没有也能接受, 但是会很累很累, 很耗时.</div><div style="display:none">最后我小小地希望能在一个平和的环境和心境下科研, 可以很累, 但是最好能沉下心做科研, 少一点浮躁的心理. 个人还是觉得能沉住气扎实地做科研, 长期以来会让科研有更大的发展空间. 但这个我就不奢求了😂.</div><h3 id="中介">中介</h3><p>网上都说 DIY, 但我最终还是选择了 GGU, 然后身边的人也选了 GGU, 都是半 DIY. (为了尽量不打广告, 下面黑幕)</p><span class="heimu" title="你知道的太多了">半 DIY 主要就是人家给你名校专业对口的 mentor (master or phd)+一个培训师带你, 给你提供必要指导信息与最后的文书修改. 所有事情 (选校, 网申,文书初稿) 都要自己完成. 主要有如下原因:</span><div style="display:none">说白了就是靠信息不对等赚钱. 40000 rmb, 包含一些 n 年前的套磁邮件, CV, PS 等样稿, 包含培训师 (非 mentor) 回答各种基本问题, 如怎么套暑研, 怎么写邮件, 怎么 presentation, interview 怎么表现, 进度怎么 feedback, 怎么选校等, 包含 mentor 和培训师的心理疏导, 以及最后 mentor+native speaker对文书内容和语言上的修正. 这么一看亏大了, 我也是这么觉得的, 但是没办法啊!</div><div style="display:none">首先说各种样稿和信息, 确实可以上网查, 上一亩三分地查. 但你敢担保信息的准确性吗? 不还是要找个熟悉的人 double check 下? 就算没问题, 干巴巴的教程在使用的过程中又有一堆问题, 总得需要找人问问. 我试过问地里, 信息质量无法保证, 肯定比不上问身边的人或学长学姐. 但是谁让我们学校出国的人少的可怜呢? 大家只想着保研卷 GPA 卷竞赛的, 我不懂的问题问谁呢? 没什么人可以问. 要是清北华五, 有的是人问, 有的是资源, 自然不需要机构, 但我们这种烂学校, 实在没有 connection, 只能花钱买...</div><div style="display:none">这样信息质量还是不如清北华五. 比如说, 我的 mentor 是 pku->欧陆某 mscs 的, 那么 ta 给我指导的信息来源便是来自于 thu & pku, 显然, ta 只能拥有这部分资源的一个子集. 而培训师的信息来源更是 ta 的经验+ ggu 的数据, 是充满噪声的, 所以其实 ggu 也就是给普通学校 (连资源都没有的) 一点不那么优质的资源罢了, 然后再找清北华五宣传宣传广告, 拉拢一部分靠学校资源 DIY 的当 mentor, 就 ok 了.</div><div style="display:none">XJTU 连飞跃手册都是过时的, 唉, 还得看别的学校的飞跃手册...</div><div style="display:none">所以平台太关键了, 想出国就不要来 XJTU 这个平台. (当然另一位 C9 连国都不好润, 更难...)</div><ol><li><span class="heimu" title="你知道的太多了">花钱的服务是稳定的, 而且确实掌握不少信息. 当然也可以麻烦学长学姐或是一亩三分地, 但是他们也很忙, 效率不高. 或是信息需要甄别, 不完全适合自己.</span></li><li><span class="heimu" title="你知道的太多了">身边高中和大学靠谱的同学选的 GGU, 也有选过的学长成功申到很好的学校.</span></li><li><span class="heimu" title="你知道的太多了">GGU 的 mentor 为名校的 CS master/PhD, 专业领域确实很厉害.</span></li><li><span class="heimu" title="你知道的太多了">文书 mentor 润色+native speaker修改, 确实省很多心. (最终也和学长/姐验证了一下文书确实写的可以.)</span></li></ol><p>最终的服务还算满意.</p><div style="display:none">但是结果却很垃圾. 申请上的学校要么靠 GPA, 要么是因为推荐人和学校的 connection. 不是科班, 没 paper, 没实习, 没牛推, 神仙也救不了. 所以说平台很关键, 不要来 XJTU.</div><p>不过关于选择中介, 我只有一点要说… 自己是最靠谱的, 所有环节务必自己掌握, 切勿交给他人. 对中介也不要抱太大期望, 还是要靠自己的. 这样面对中介的时候心态就会好很多, 甚至会 beyond expectation😂. <strong>主动权仍然在自己</strong>.</p><div style="display:none">GGU 只是一般般, 但有的机构更是大坑, 事后看其他同学其他机构对同学申请的帮助一比较, 还不如找世毕盟 (都是同行衬托得好). 在我看来, 如果只有所谓培训老师, 没有名校专业相关培训导师的话. 如果选校只给你几所的话, 申 ECE 和 EE 或许还能应付, CS 基本别想了.</div><h3 id="交换">交换</h3><p>我个人极力推荐交换, <strong>绝对要关注学校的国际交流信息</strong>或者自己找学校官方的交流. 当然<strong>学校的专业档次</strong>和<strong>项目内容</strong> (什么专业内容) 很重要. 交换是很好的补课以及和教授 connection 联系科研, 要推荐信的好机会.</p><p>个人觉得大三后半学期比较合适, 一方面顺理成章的暑研, 一方面本校专业课的 workload 会变少了. (大概吧, 其实交换也得考虑本校的 workload, 不过我真心推荐交换)</p><div style="display:none">比如本专业一大佬也对 NLP 感兴趣, 本来只是 GPA 高的水平, 但是去港大一波交换修了一堆 DS 和 ML 的课, 专业实力大涨. 暑研又直接抱到大腿导师做 NLP, 发了一个 paper, 现在仍然在组里, 科研生活步向正规, 彻底入门. 我在赞叹之余只能后悔为啥没早点考出来托福, 只能在这所烂校继续虚度光阴.</div><div style="display:none">在这种烂校, 想要乌鸦变凤凰, 只能靠校外的资源了...</div><h3 id="暑研">暑研</h3><p>暑研是个很好的要到<strong>推荐信</strong>和发 paper 的机会.</p><div style="display:none">我无法回答怎么做好暑研和科研, 还是找找别的大佬的文章吧.</div><p>我在大三下学期的 3 月份开始套磁套到一位老师, 然后从 4 月一直干到 11 月, 期间保持一两周 feedback 一次, 很幸运地遇到了很好的老师, 拿到了强推.</p><p>不过我是 remote 做的, 我觉得如果可以的话, 一定要<strong>亲自过去</strong>, 效果会很不一样.</p><div style="display:none">暑研也不算成功. 导师大方向一定, 剩下的全靠自己. 我很茫然, 最初有一个 idea, 然后拼接了两个模型的代码得到一个 baseline, 但是后面再不知怎么做, 在专业知识和代码能力上都遇到了瓶颈. 由于这个方向也不是老师的主攻方向, 无博士/硕士指导, 老师的作用也有限, 由于 remote 对我的 expectation 并不大, feedback 完全需要靠我向老师单线联系. 最终我止步于此. 再就是帮人标注了点数据集. 这就是我暑研的全部工作了...</div><div style="display:none">所以我坚定认为硕士一定要重新来过, 把基础先打牢再说, 因此选择去了瑞士上课而不是 PSU 继续跟着老师.</div><h3 id="选校">选校</h3><p><strong>申请策略:</strong> (对<strong>我</strong>而言)</p><ol><li>不考虑小于两年制的项目, 没有能力做充分准备. (或许你能)</li><li>不考虑申请 PhD (NLP), 没顶会 paper. (或许你能)</li><li>无 RA 的退路, 只能硬着头皮申科研向的 MSCS 和一定数量的长时间 CS 找工向硕士, 两边道路都要考虑, 录了哪就选什么路, 两边都录优先科研.</li><li>选的学校只有一个录的话录哪个都会去, <strong>不要选自己不会去的学校</strong>.</li><li><strong>确定能有很大把握保底的学校不要选太多</strong>, 因为就算全录你也只能选一个, 多亏啊, 多把重点放到主申/冲刺/彩票, 看你是什么偏好型, 也看你的保底机会有多大 (不一定指学校). 如果你已经有什么 RA 的 offer 或者保底校的 offer, 那就可以激进一点. 没有的话就稳妥一点. 主申/冲刺/彩票按梯度选, 都要有, 老生常谈了. <strong>因为我的退路也不太稳妥</strong>, 于是我比较保守地选了 4+5+5+4 的组合. (彩票+冲刺+主申+保底)</li><li><strong>多申, 多申, 多申!</strong> (指 CS), 在推荐信可承受范围内多申! (大概得申到 20 个左右)</li><li>主申美国 (科研和工作的机会更大), 考虑了加拿大和欧洲. (10 月末套了几个加拿大的研究型 MSCS 发现老师们本身就说不会回信, 我也真没收到回信, 当时感觉还是实力没有强到让老师愿意联系… 而且申的有点多了怕推荐信不够, 就放弃加拿大了.)</li><li>家里没那么多钱, 学费控制在 80 w RMB, 再就是尽量安全一些. (于是没有考虑 UChicago 和 JHU)</li></ol><p><strong>实操方式:</strong></p><ol><li>打开网站查询 cs master 择校指南, 对各个学校的 bar 有一个基本的认识. (虽然大部分侧重找工, 但是 bar 的相对位置还是准的. 虽然相对位置准的, 但是绝对难度在上升, 需要与时俱进)<ol><li><a href="https://www.zhihu.com/question/319150922/answer/657832793">(3 封私信) 经历19 Fall CS master申请是一种什么体验，能否分享一下感受，结果或经验？ - 知乎 (zhihu.com)</a></li><li><a href="https://zhuanlan.zhihu.com/p/63617858">19FALL美国CS Master申请找工向选校经验谈 - 知乎 (zhihu.com)</a></li><li><a href="https://zhuanlan.zhihu.com/p/139021111">CS Master择校指南 - 知乎 (zhihu.com)</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=Mzg2NzE3MzcwMg==&amp;mid=2247483780&amp;idx=1&amp;sn=467faadfeff91cf4747999c7ffab628f&amp;chksm=cebed5adf9c95cbb19d04f4065edf633e9f30f09884f62c123837b58c1f20f0e64b83feed29e&amp;sessionid=0&amp;scene=126&amp;clicktime=1629686690&amp;enterid=1629686690&amp;ascene=3&amp;devicetype=android-29&amp;version=28000653&amp;nettype=3gnet&amp;abtest_cookie=AAACAA%3D%3D&amp;lang=zh_CN&amp;exportkey=AbbYviYXyuieUgkNVCp7XLU%3D&amp;pass_ticket=61XOiv4ceqXxEDPqsByUlVOHfp%2FRuW9q1XLl3BIyBtChaGkQdWcsP1ZNnT1Bf%2B2L&amp;wx_header=1">CS Master找工向选校经验谈（下） (qq.com)</a></li><li><a href="https://cs-masters-application.github.io/">CS Masters Application (cs-masters-application.github.io)</a></li></ol></li><li>针对研究向, 打开 <a href="http://csrankings.org/">CSRankings</a>, 搜索感兴趣的方向下哪些学校有哪些老师, US 大概看了前 50, 又看了欧洲的选了一个阿姆斯特丹和两个瑞士学校 (ETH, EPFL).</li><li>针对录取情况和录取难度, 以及学校录不录取 MSCS (如 UCB, MIT, UW 都没有国际生 MSCS), 搜索引擎在后面加 <code>site: 1point3acres.com</code>, <code>site: zhihu.com</code>, <code>site: zhuanlan.zhihu.com</code> 等等查询各个学校 MSCS 的情况. <a href="https://offer.1point3acres.com/">留学申请 Offer多多</a> 也可以看一下, 搜索录取学校的三围中位数和录取人基本信息. 但是录取人基本信息一天只能查看 5 次… 我最后也没怎么用这个功能…</li><li>接下来直接搜索 (请用 Google): 学校名称 项目名称+admission, 如 UCSD MSCS+admission, 第一个就是, 点进去, 阅读要求. ctrl+F 在网页内搜索各种内容. 我一般会先 ctrl+F 查查 GT 的 bar (85) 和需不需要考 G (不需要). 之后我还会查一些信息记录下来 (比如 courses/curriculum, tuition/fees, deadline).<ol><li><img alt="图 1" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/5d334ad8645e118bb2ffd2d95b83638070f8a92668235005f96b78c839378330.png" /></li><li><img alt="图 2" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/06284176d14f5a01d5d7ffbce8764064c2985fd8ea0aeaa7f60233c1e8960de0.png" /></li></ol></li><li>接下来列一个大表格记录选校信息, 对于选校阶段先不用记录太多信息, 我足足查了快 50 所. 最开始只是查了下 <code>难度</code>, <code>GRE bar</code>, <code>TOEFL bar</code>, <code>找工/科研</code>, <code>贵不贵</code>, <code>课程设置</code>, <code>deadline</code> 再筛掉一批. 这个时候来不及查更细节的东西, 如找工/科研具体友好度, 环境, 具体 tuition… 没关系筛到 20-30 左右就可以申了, 剩下的信息在有了 offer 之后再说.</li><li>接下来这个也挺重要的, 在<a href="https://www.1point3acres.com/bbs/forum-79-1.html">定位贴</a>里面发帖, 给出自己的基本信息以及自己以为的 bar, 看看别人的建议. 再看看别人的定位贴情况如何. 同时也多问问学长学姐.<ol><li><img alt="图 3" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/71ca22a72b6a1e5bf1064a7059425987c0a8c488d7b38fe1db6c8a365ed689e3.png" /></li></ol></li><li>如果本校有 connection 或者是友好校的话, 可以申!</li></ol><div style="display:none">西交就算了, 没啥友好校和 connection, 靠你自己努力创造了...</div><p><strong>成型之后的选校梯度 (个人以为) 和结果:</strong></p><ul><li>彩票: <s>MSCS@UT-Austin (科研)</s>, <s>MSCS@Gatech (科研)</s>, <strong>MSCS@ETH</strong> (科研), <strong>MSCS@EPFL</strong> (科研)</li><li>冲刺: <s>MSCS@UCLA (科研)</s>, <s>MSCS@Brown (科研)</s>, <s>MSCSE@UMich (科研)</s>, <s>INI-MSIN@CMU (找工)</s>, <s>MSAI@U-of-Amsterdam (科研)</s></li><li>主申: <strong>MSCS@UCSD</strong> (找工/科研), <s>MSCS@Columbia (找工/科研)</s>, <s>MSCS@USC (找工/科研)</s>, <strong>MSCS(37/SE)@USC</strong> (找工), <strong>MSCS@PSU</strong> (科研)</li><li>保底: MSCS@UCI (找工/科研), <s>MSCS@NYU-Tandon (找工, 被劝转 CE)</s>, <s>MSCS@NEU (Boston 科研)</s>, <strong>MSCS@UTD</strong> (找工/科研)</li></ul><p>但是这些学校申请起来难度对我都挺大的. 不是 CS 专业和缺专业课, 导致我以为的保底校只剩下 UTD. 再加上没有 paper, 没有实习, <span class="heimu" title="你知道的太多了">学校太捞</span>, 导致美国彩票, 美国冲刺, 美国主申几乎全军覆没, 仅剩下看 GPA 的 UCSD, 暑研导师推荐信加成的 PSU, 不是 CS 但看 GPA 高就只给找工项目的 USC, 终极保底校 UTD. 欧洲这边阿姆斯特丹口语小分没过 25 连申请流程都无法进行 (但是申请不交钱, 于是我还是试了下, 并且尝试邮件 argue, 无果, 遂放弃.). 就剩下两个 GPA 控 ETH 和 EPFL 录了.</p><div style="display:none">我对申请季形式估计也过于乐观. 我以为我的上界是 MSCS@UIUC (因此没申), 没想到我的水平连 Brown, UCLA 都够不到.</div><div style="display:none">今年申请还是很失败的, 主要就是背景太捞, 本科学校太差, 靠申请策略啥的也挽救不了什么 (指美国). 还好申请了瑞士的学校. 所以千万不要来 XJTU, 连个 connection 都找不到.</div><h3 id="文书">文书</h3><p>简单在地里查一查模板, 看看上面发的那个贴怎么说的文书. 我感觉普通人很难写出花来, CS 的录取一般来说也都是更看重实力而不是文书包装的, 所以在我看来文书的权重没有那么大. 写一个不会拖后腿的文书老老实实把自己的经历阐述出来就行.</p><p>关于 CV, 我只能写一页, 靠列举课程, 列举三段科研经历硬凑. 可以在 <a href="https://www.overleaf.com/">Overleaf</a> 找 LaTeX 的模板, 也可以自己写, 但我当时比较菜, 就用的 word 模板.</p><img alt="图 4" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/84c138290f255c55915d4c60df31a8e7eed2d93802ca61d3680c7ac1e1066942.png" /><div style="display:none">如果有人真想要的话可以私信啊, 不过我是真的菜啊, 我都不得不把成绩列上去占字数呜呜呜呜呜</div><p>至于 PS 的话, 我的格式就是第一段为什么选择这个专业, 二段学习情况简单介绍, 三四五大头写每段科研经历有了什么技术, 怎么解决困难, 最终学到什么, 最后一段写为什么喜欢这个项目 (教授的某某方向感兴趣, 学校的 MSCS 科研友好向氛围很喜欢). 感觉在扩展 CV 的基础上把几个经历用逻辑顺序串在一起显得 make sense 并且逐渐进步, 然后解释了自己为什么喜欢这个专业和为什么选择了这个学校而不是别的. 不要过于模板化 (只要别变得把 PS 换个学校名哪里都能申请就行).</p><p>一般文书不需要页眉, 除非学校要求. (UMich)</p><div style="display:none">说真的觉得 PS 如果没啥出彩的点也没事, 也不太需要精雕细琢 (除非背景必须需要文书进行解释). PhD 应该还需要看看 match 不 match, 但是大部分 MSCS 看一看推荐信, paper, 学校, GPA, 语言, 就差不多对你有个数了. (怕误人子弟, 这一部分也隐藏掉)</div><h3 id="推荐信">推荐信</h3><p>最上面的<a href="#wind_like-%E7%9A%84-cs-%E7%94%B3%E8%AF%B7%E5%AD%A3%E6%80%BB%E7%BB%93">链接</a>已经把推荐信的一些问题总结地差不多了. 我想补充几点.</p><ol><li>课程推能写的内容很有限, 除非你做了很多东西并且<strong>教授是能看到的, 有互动</strong>, 否则最好是学术推荐信.</li><li>最好多找一个推荐人 (4-5 人推荐), 因为申请数量太多, 但是有的老师可能不会写太多推荐信, 一般国内都是自己写, 想多少封就多少封, 但是国外可能存在数量限制, 因此最好留一两个人的余量能够 cover 全部项目的推荐信.</li><li>自己代写并提交推荐信时, <strong>强烈建议</strong>换一台电脑, 换一个 ip 地址 (最好是老师办公室), 注意文件路径 (最好开一个 guest 账户起自己老师的名字, 在那个目录下放推荐信). 此外<strong>提交推荐信后不要立即提交网申!</strong></li><li>请确定是否能给<strong>强推</strong>.</li></ol><div style="display:none">相当感谢暑研老师 RZ 的强推, 明明没做出能发出 paper 的东西, 还是给了强推, 18 封推荐信全都给我提交, 还希望我多申点 CMU, UCB, Stanford 之类的学校 (怂, 没敢申), 而且是给推荐信最快的老师了. 当然本校另一位老师 XML 也很感激, 拼命让我的 RL 给自己写得更 top 一点, 并且主动帮我提交推荐信, 指标拉满, 速度也很快. 但是 ZMC 就一言难尽... 拖延到 final ddl 前一周才给我转邮件, 害得我连 priority deadline 都错过了, 可能也因此错失 NEU 这种 rolling 制的. 然后还要求我评分不能全拉满, 所以尽量别跟他做科研 project (Zhongmin Cai) QAQ. 我还找了程设和数字信号处理的老师要课程推荐信 (Yingliang Zhao & Yuanlin Zhang), 这两位老师冷漠至极, 连推荐信都不会给, 甚至流露出学生出什么国的倾向... 避开这两人.</div><h3 id="网申">网申</h3><p>确定学校后开始网申的过程中, 便需要再次搜索各个学校的 admission 和 FAQ, 查看如下信息并整理到表格: <code>是否需要换算 4.0 scale GPA (一般不用)</code>, <code>deadline</code>, <code>托福/GRE送分 code</code>, <code>推荐人布局</code>, <code>网申链接</code>, <code>小秘邮箱</code> (在 admission 里面 ctrl+f 搜索 ‘@’ 符号). 接下来进网申页面内, 用 excel 记录所有 <code>required documents</code> (这部分请在<strong>网申系统</strong>内部完成, 不需要在项目 admission 页面内搜索, 因为不一定准确).</p><p>务必耐心, 文书成绩什么确定好之后, 一天填个两三个就行. 交之前再检查一下. 注意部分学校的文书需要特定格式 (UMich).</p><h3 id="选择">选择</h3><p>接下来耐心等着 offer. 大概 3 月初到 4 月中旬是 offer 集中下发的时间.</p><div style="display:none">那些天我观察了下, 大佬是完全不焦虑的, 因为他们在一直找活干, 没时间焦虑. 只有像我这样闲的没事的菜鸡才会天天焦虑 offer 怎么还不来...</div><p>如果出了 offer 并且需要比较之后, 再到网上/学长学姐/同学具体查所有你想知道的点和建议. 这里还推荐可以在<a href="https://www.1point3acres.com/bbs/forum-144-1.html">比较帖</a>里面问一问.</p><h2 id="申请看起来也没那么难">申请看起来也没那么难?</h2><p><strong>关于意外的处理:</strong></p><p>申请看起来很简单. 理想情况下, 大一认真学习 GPA 拿的高, 学会一些基本技能, 寒假把 GRE 考出来, 暑假练托福大二秋天考出来. 大二进实验室做科研, 一年下来攒出第一段科研经历和 paper, 继续维持专业课 GPA. 大三要么交换, 要么继续进实验室做科研, 然后下半年 3 月份开始套暑研开始做, 6 月份开始的暑假继续做暑研, 8 月末开始查学校, 9, 10 月份写文书改文书, 要强推, 10 月末和 11 月开始填网申, 12 月之后继续做科研和等结果.</p><p>然而实际上会出现各种问题.</p><ul><li>比如家里没钱, 能申的学校太少了怎么办?</li><li>比如 GPA 炸了怎么办? 发现专业课和想学的专业差的有点多怎么办?</li><li>比如 GRE 和 TOEFL 很多人做不到在 ddl 之前考出来, 往往拖到大四申请 10 月份, 11 月份才开始考, 如果还考不出来又怎么办?</li><li>比如科研做半天也没做出东西怎么办?</li><li>比如套磁一个也没套到怎么办?</li><li>比如因为语言成绩不够没有交换怎么办?</li><li><span class="heimu" title="你知道的太多了">比如如果暑研的时候本来已经 remote 低效率了, 结果又把胳膊摔了, 只能一只手敲代码; 而且接下来还有个托福考试, 单手没办法写作, 想延期发现需要很晚才能考, 怎么平衡? 忍受着生理上的疼痛, 怎么调节?</span></li></ul><p>列出以上这些的意思是说: 准备留学的过程不可能是完美的. 但我相信正是这些&quot;不完美&quot;的挫折才促成了坚定的出国信念, 也让每一个人与众不同. 遇到挫折, 不仅需要积极寻求解决办法, 更需要主动调节自己的心态.</p><p>只要相信自己 (believe &amp; believe in), 你一定能行.</p><h2 id="P-S">P.S.</h2><div style="display:none">抱怨 XJTU 太差解决不了什么问题, 我能做的只有 1. 尽可能写一点总结帮帮后来人并且劝说将要来 XJTU 的人三思而后行. 和 2. 逃离这个地方, 永远不要再回来.</div>]]></content>
    
    
    <categories>
      
      <category>Essays</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Computer Science</tag>
      
      <tag>Diary</tag>
      
      <tag>Master Life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MIT Linear Algebra Notes (in Chinese)</title>
    <link href="/2022/04/05/2022-04-05-mit-linear-algebra/"/>
    <url>/2022/04/05/2022-04-05-mit-linear-algebra/</url>
    
    <content type="html"><![CDATA[<p>终于学完并整理完 MIT 18.06 线代大部分的内容, 辅以 3Blue1Brown 理解更佳.</p><p>虽然线代最终是一门抽象的数学学科, 但作为工具, 我们必须知道为什么要学, 概念的直观理解是什么. 比起死记硬背公式符号数字, 有一个直观的几何感受重要得多.</p><span id="more"></span><p>这门课后期学起来感觉不是那么用的上了, 于是越学越浅, 越学越快, 跳过一些部分, 但是个人认为特征值之前的部分是一定要认真学的.</p><h2 id="Outline">Outline</h2><img alt="图 7" src="https://cdn.jsdelivr.net/gh/Wind2375like/I-m_Ghost/img/a61775d930ab2f74ecee9ff5b795fbab2efd0838c6a9701a80d010e96cbcca15.svg" /><h2 id="Content">Content</h2><h3 id="Unit-1-Ax-B-And-The-Four-Subspaces">Unit 1: Ax=B And The Four Subspaces</h3><ul><li><a href="https://www.cnblogs.com/wind2375like/p/15813777.html">1.1 The Geometry of Linear Equations 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15813813.html">1.2 An Overview of Key Ideas 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15815093.html">1.3 Elimination with Matrices 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924819.html">1.4 Multiplication and Inverse Matrices 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924821.html">1.5 Factorization into A = LU 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924837.html">1.6 Transposes, Permutations, Vector Spaces 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924847.html">1.7 Column Space and Nullspace 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924853.html">1.8 Solving Ax = 0: Pivot Variables, Special Solutions 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924859.html">1.9 Solving Ax = b: Row Reduced Form R 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924864.html">1.10 Independence, Basis and Dimension 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/15924872.html">1.11 The Four Fundamental Subspaces 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145188.html">1.12 Matrix Spaces and Rank 1 Matrices 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145201.html">1.13 Graphs, Networks, Incidence Matrices 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li></ul><h3 id="Unit-2-Least-Squares-Determinants-And-Eigenvalues">Unit 2: Least Squares, Determinants And Eigenvalues</h3><ul><li><a href="https://www.cnblogs.com/wind2375like/p/16145213.html">2.1 Orthogonal Vectors and Subspaces 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145216.html">2.2 Projections onto Subspaces 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145221.html">2.3 Projection Matrices and Least Squares 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145233.html">2.4 Orthogonal Matrices and Gram-Schmidt 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145240.html">2.5 Properties of Determinants 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145243.html">2.6 Determinant Formulas and Cofactors - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145250.html">2.7 Cramer’s Rule, Inverse Matrix and Volume 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145254.html">2.8 Eigenvalues and Eigenvectors 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145261.html">2.9 Diagonalization and Powers of A 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145268.html">2.10 Geometric View of Eigenvalues and Eigenvectors 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li></ul><h3 id="Unit-3-Positive-Definite-Matrices-and-Applications">Unit 3: Positive Definite Matrices and Applications</h3><ul><li><a href="https://www.cnblogs.com/wind2375like/p/16145275.html">3.1 Real Symmetric Matrices and Positive Definiteness 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145278.html">3.2 Complex Matrices and Fast Fourier Transform 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145279.html">3.3 Positive Definite Matrices and Similar Matrices 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145282.html">3.4 Singular Value Decomposition 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145292.html">3.5 Linear Transformations and Change of Basis 阅读笔记 - WIND_LIKE - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/wind2375like/p/16145351.html">3.6 Left and Right Inverses; Pseudoinverse 阅读笔记 - WIND_LIKE 博客园 (cnblogs.com)</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Maths</category>
      
      <category>Linear Algebra</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linear Algebra</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>About me</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<p>An NLP Practitioner.</p>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[.heimu {    background-color: #000;    color: #000;}.navbar {    background:rgba(0,0,0,.2);    backdrop-filter: blur(7px);}body {    background-color: rgba(252, 248, 234, 1);}#board {    background: url("/img/saber_background.jpg") center/cover no-repeat fixed;}<div id="waifu" style="bottom: 0px; z-index: 999">    <div id="waifu-tips" class="waifu-tips-active">Hey! How long have you been <br>ignoring me~~</div>    <canvas id="live2d" width="800" height="800"></canvas>    <div id="waifu-tool">        <span class="fa fa-lg fa-comment"></span>        <span class="fa fa-lg fa-paper-plane"></span>        <span class="fa fa-lg fa-user-circle"></span>        <span class="fa fa-lg fa-street-view"></span>        <span class="fa fa-lg fa-camera-retro"></span>        <span class="fa fa-lg fa-info-circle"></span>        <span class="fa fa-lg fa-times"></span>    </div></div>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[I18n.defaultLocale = "en-US";I18n.locale = "en-US";I18n.translations = {};fetch("/live2d/i18n.json").then(res => res.json()).then(data => {    Object.keys(data).forEach(key => {        console.log("key", key)        I18n.translations[key] = data[key];    })});// live2d_path 参数建议使用绝对路径// const live2d_path = "https://cdn.jsdelivr.net/gh/Wind-2375-like/Wind-2375-like.github.io/";const live2d_path = "/live2d/";// 封装异步加载资源的方法function loadExternalResource(url, type) {return new Promise((resolve, reject) => {let tag;if (type === "css") {tag = document.createElement("link");tag.rel = "stylesheet";tag.href = url;}else if (type === "js") {tag = document.createElement("script");tag.src = url;}if (tag) {tag.onload = () => resolve(url);tag.onerror = () => reject(url);document.head.appendChild(tag);}});}// 加载 waifu.css live2d.min.js waifu-tips.jsif (screen.width >= 768) {Promise.all([loadExternalResource(live2d_path + "waifu.css", "css"),loadExternalResource(live2d_path + "live2d.min.js", "js"),loadExternalResource(live2d_path + "waifu-tips.js", "js")]).then(() => {// 配置选项的具体用法见 README.mdinitWidget({waifuPath: live2d_path + "waifu-tips.json",apiPath: "https://api.zsq.im/live2d/",// cdnPath: "https://fastly.jsdelivr.net/gh/fghrsh/live2d_api/",tools: ["hitokoto", "asteroids", "switch-model", "switch-texture", "photo", "info", "quit"]});});}console.log(`  く__,.ヘヽ.        /  ,ー､ 〉           ＼ ', !-─‐-i  /  /´           ／｀ｰ'       L/／｀ヽ､         /   ／,   /|   ,   ,       ',       ｲ   / /-‐/  ｉ  L_ ﾊ ヽ!   i        ﾚ ﾍ 7ｲ｀ﾄ   ﾚ'ｧ-ﾄ､!ハ|   |          !,/7 '0'     ´0iソ|    |          |.从"    _     ,,,, / |./    |          ﾚ'| i＞.､,,__  _,.イ /   .i   |            ﾚ'| | / k_７_/ﾚ'ヽ,  ﾊ.  |              | |/i 〈|/   i  ,.ﾍ |  i  |             .|/ /  ｉ：    ﾍ!    ＼  |              kヽ>､ﾊ    _,.ﾍ､    /､!              !'〈//｀Ｔ´', ＼ ｀'7'ｰr'              ﾚ'ヽL__|___i,___,ンﾚ|ノ                  ﾄ-,/  |___./                  'ｰ'    !_,.:`);]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[{"en-US":{"mouseover":{"waifu":{"1":"What are you doing, put your hand away~~","2":"Mouse...the mouse is misplaced!","3":"What are you doing!!? Stop!","4":"Meow meow?","5":"AAAAAA go awayy!! (ノ≧∇≦)ノ","6":"Gross! Someone, help!!!","7":"I'll bite you~","8":"Im going to be angry, grr~","9":"Don't touch anything!!","10":"Really~~?","11":"Pervert"},"waifu_tool_fa_comment":{"1":"Guess what I'm going to say?","2":"I heard a lot of life experience from the frog prince's story."},"waifu_tool_fa_paper_plane":{"1":"Hey! Let's play paper plane war!","2":"This button says 'DO NOT CLICK'","3":"Why? Do you want to play a game with me","4":"I heard you can play like this and<br/>that"},"waifu_tool_fa_user_circle":{"1":"Are you not in love with me<br/>anymore, ohhh~","2":"Would you like to see my sisters?","3":"Want to see my sister?","4":"Do you want to switch the kanban girl?"},"waifu_tool_fa_street_view":{"1":"Do you like changing to PLAY?","2":"What are you going to play this<br/>time?","3":"Tadaaa!","4":"Let's see what happens next!"},"waifu_tool_fa_camera_retro":{"1":"You wanna take pictures of me?<br/>One, two, three~cheese~","2":"Hey! let's take a group photo!","3":"Keep smiling~"},"waifu_tool_fa_info_circle":{"1":"Want to know more about me? ","2":"You are not a stalker, right~~? ","3":"What do you want to<br/>know more about me? "},"waifu_tool_fa_times":{"1":"Is it time to say goodbye?","2":"Woo QAQ there will be an end...","3":"Don't abandon me...","4":"But..can we meet again~~?","5":"Hmph, you will regret it!!!"},"menu_item_home_a":{"1":"Click to go to the home page.<br/>If you want to go back to the previous page,<br/>you can use the browser's back function.","2":"Click it to return to the homepage!","3":"Go back to the homepage and take a look."},"menu_item_about_a":{"1":"Do you want to know who my master is?","2":"Here are some secrets about my host.<br/>Would you like to read it?","3":"Found the location of the owner!"},"menu_item_tags_a":{"1":"Click to see the tags of the article!","2":"Click to see all tags."},"menu_item_categories_a":{"1":"The articles are all classified~","2":"Click to view the article category."},"menu_item_archieves_a":{"1":"Is it troublesome to turn pages?<br/>Let's take a look at the article archive.","2":"The article catalog is organized here!"},"menu_item_friends_a":{"1":"This is my friends ヾ(◍°∇°◍)","2":"Wanna visit my friend's house?","3":"Want to visit my friends?"},"menu_item_search_a":{"1":"Can't find what you want to see?<br/>Search for it!","2":"What are you looking for,<br/>do you need help?"},"menu_item_a":{"1":"Look at what's here?"},"site_author":{"1":"Does my owner look good?","2":"This is my owner (*´∇｀*)"},"site_state":{"1":"This is the statistics of the article~","2":"Would you like to click in and have a look?"},"feed_link_a":{"1":"You can use RSS to subscribe here!","2":"Using the feed subscriber,<br/>you can quickly know if the blog has been updated."},"cc_opacity_post_copyright_author":{"1":"Remember to reprint the standard.","2":"All articles adopt CC BY-NC-SA 4.0<br/>license agreement~","3":"Before reprinting, please pay attention<br/>to the copyright agreement of the article."},"links_of_author":{"1":"This is my owner's address.","2":"Here is my owner's contact information!"},"qrcode":{"1":"It's very convenient to<br/>continue reading by scanning the phone~","2":"Sweep, open the door to a new world!"},"fancybox_img_img_medium_zoom_image":{"1":"Click on the picture to enlarge it!"},"copy_btn":{"1":"The code can be copied directly<br/>by clicking on it."},"highlight_table_container_gist":{"1":"GitHub! I'm a novice!","2":"PHP is the best language!"},"a_href_mail_to":{"1":"I promise I'll reply to your email in time!","2":"Click to send email~"},"a_href_tags":{"1":"Want to see the <span>{text}</span> tag?","2":"Click it to view all articles under this label!"},"a_href_categories":{"1":"Want to see the <span>{text}</span> category?","2":"Click it to view all articles in this<br/>category!"},"post_title_link":{"1":"Want to read <span>{text}</span> this article?"},"a_rel_contents":{"1":"Click to read the full text."},"a_itemprop_discussionUrl":{"1":"Want to see the comments?"},"bein_a":{"1":"I also have a registered residence.","2":"My master is a good master who obeys the law."},"container_a_href_http_nav_link_nav_text":{"1":"Want to see <span>{text}</span>?","2":"Go to <span>{text}</span> for a stroll.","3":"Go to <span>{text}</span> to take a look."},"back_to_top":{"1":"Click it to go back to the top!","2":"Back to the original starting point~","3":"Do you want to go back to where you started?"},"reward_container":{"1":"Am I awesome~ Give me a thumbs up!","2":"Do you want to reward me?<br/>I look forward to it~","3":"The master is eating dirt recently.<br/>It looks very hard. Give him some money~"},"wechat":{"1":"This is my WeChat QR code~"},"alipay":{"1":"This is my Alipay!"},"bitcoin":{"1":"This is my Bitcoin account!"},"needsharebutton_postbottom_btn":{"1":"Good things must be known to more people.","2":"If you think the article is helpful,<br/>you can share it with more friends in need."},"need_share_button_weibo":{"1":"Weibo? Come and share a wave of meows!"},"need_share_button_wechat":{"1":"Share to WeChat!"},"need_share_button_douban":{"1":"It seems good to share on Douban!"},"need_share_button_qqzone":{"1":"QQ space, one-click forwarding, yeah~"},"need_share_button_twitter":{"1":"Twitter? It doesn't seem to exist?"},"need_share_button_facebook":{"1":"emmm...FB does not seem to exist?"},"post_nav_item_a_rel_next":{"1":"Let's take a look at the next article.","2":"Click it to see the next article!","3":"Do you want to turn to the next article?"},"post_nav_item_a_rel_prev":{"1":"Let's take a look at the previous article.","2":"Click it to read the previous article!","3":"Do you want to turn to the previous article?"},"extend_next":{"1":"Go to the next page and see.","2":"Click it to move forward!","3":"Do you want to turn to the next page?"},"extend_prev":{"1":"Go to the previous page and have a look.","2":"Click it to go back!","3":"Do you want to turn to the previous page?"},"input_vnick":{"1":"What should I call you?","2":"Leave your first name!"},"vmail":{"1":"Leave your mailbox, otherwise you will<br/>be a person without a profile picture!","2":"Remember to set up a Gravatar profile picture!","3":"In order to inform you of the latest news,<br/>be sure to leave your email address!"},"vlink":{"1":"Hurry up and tell me where your home is, so that I can visit it!"},"veditor":{"1":"Want to comment on something?","2":"Do you want to say something?","3":"Think the blog is good?<br/>Come and leave a message to communicate with the owner!"},"vcontrol_a":{"1":"Can you use Markdown proficiently?","2":"Use Markdown to make comments more beautiful~"},"vemoji_btn":{"1":"Do you want to insert a cute emoji?","2":"Do you want to come to express your love?"},"vpreview_btn":{"1":"Do you want to preview your speech?","2":"Look at how much negative entropy your comment has!"},"vsubmit":{"1":"The comments have not been reviewed,<br/>you are responsible for your own comments~","2":"Do you want to submit,<br/>please be patient and wait for the reply~"},"vcontent":{"1":"Wow, look at this wonderful review!","2":"If you have any questions,<br/>please leave a message as soon as possible~"}},"click":{"waifu":{"1":"Yes... I bumped into it accidentally...","2":"What is Lolicon?","3":"Did you see my little bear?","4":"If you touch it again,<br/>I will call the police! ⌇●﹏●⌇","5":"110? There is a pervert<br/>who has been touching me (ó﹏ò｡)","6":"Don't touch me,<br/>I will tell my wife to hit you!","7":"Why move me!<br/>Be careful I bite you!","8":"Don't touch me,<br/>what is there to touch??!"},"veditor":{"1":"What are you going to complain about?","2":"Meow meow meow~","3":"Is there anything you want to say?"},"vsubmit":{"1":"Enter the verification code to submit a comment~"}},"seasons":{"1":"<span>New Year's Day</span>,<br/>the new year has begun again,<br/>this year is {year}~","2":"It's another year <span>Valentine's Day</span>,<br/>I found the object in {year}~","3":"Today is <span>International Women's Day</span>!","4":"Today is <span>Arbor Day</span>,<br/>protect the environment!","5":"Tell you a secret quietly~<span>Today is April Fool's Day,<br/>don't be fooled~</span>","6":"Today is <span>Labor Day</span>,<br/>have you planned where to go for the holiday~","7":"<span>Children's Day</span> is now,<br/>happy time is always short, it would be great if it never grows up...","8":"<span>The Victory Day of the Chinese People’s War of Resistance<br/>Against Japanese Aggression</span>, remembering history,<br/>remembering the martyrs, cherishing peace, and creating the future.","9":"<span>Teacher's Day</span>,<br/>I want to say hello to the teacher in school~","10":"<span>National Day</span> is here,<br/>for the motherland’s birthday!","11":"Who did you spend with this year's<br/><span>Double Eleven</span>~","12":"These days are <span>Christmas</span>,<br/>the owner must have gone shopping again~"},"general":{"longtime":{"1":"Long time no see, time flies so <br/>fast...","2":"Hey! How long have you been <br/>ignoring me~~","3":"Hi~ Come and play with me!","4":"Take this punch~!"},"camera":{"1":"Yay, it's taken. Isn't it cute?"},"exit":{"1":"May you meet this important person again<br/>one day!"},"console":{"1":"Haha, you opened the console,<br/>do you want to see my little secret?"},"copy":{"1":"What have you copied? Remember to<br/>add the source for reprinting!"},"visibilityChange":{"1":"Wow, finally, you're back!"},"dress":{"1":"Does my new dress look good?","2":"How is my new dress?"}},"time":{"24":"Are you a night owl?<br/>If you go to bed so late,<br/>will you get up tomorrow?","5_7":"Good morning! The plan for a day lies in the<br/>morning, and a beautiful day is about to begin.","7_11":"Good morning! Don't sit for a long time, get up and move around!!","11_13":"It's noon! Can I take a break?<br/>It's lunch time!!","13_17":"It's easy to get sleepy in the <br/>afternoon.Have you done any sports today?","17_19":"It's evening! The sunset outside<br/>the window is very beautiful~","19_21":"Good evening, how are you doing today?","21_23":{"1":"It's already so late, rest early, good<br/>night~","2":"Take care of your eyes late at <br/>night!"}},"welcome":{"1":"Welcome to <span>「%{data}」</span>","2":"Hello! Welcome from Baidu Search<br>You are searching <span>「%{data}」</span>. Did you find it?","3":"Hello! Welcome from 360 Search<br>You are searching <span>「%{data}」</span>. Did you find it?","4":"Hello! Friends from Google Search<br>You are searching <span>「${data}」</span>. Did you find it?","5":"Hello from <span>「%{data}」</span>. Welcome!","6":"Welcome to read<span>「%{data}」</span>"},"hikoto":{"1":"This sentence come from <span>「%{source}」</span>，by <span>%{author}</span> from hitokoto.cn."},"来自 Potion Maker 的 Pio 酱 ~":"Hi, I'm Potion Maker Pio!","来自 Potion Maker 的 Tia 酱 ~":"Hi, I'm Potion Maker Tia!","来自 Bilibili Live 的 22 哦 ~":"22 from Bilibili Live","来自 Bilibili Live 的 33 的说":"33 from Bilibili Live","Shizuku Talk ！这里是 Shizuku ~":"Hi, I'm Shizuku from Shizuku Talk!","Nep! Nep! 超次元游戏：海王星 系列":"Nep, Nep, Nep, Nep! ","艦隊これくしょん / 叢雲(むらくも)":"Kantai Collection / Murakumo"},"zh-CN":{"mouseover":{"waifu":{"1":"干嘛呢你，快把手拿开～～","2":"鼠…鼠标放错地方了！","3":"你要干嘛呀？","4":"喵喵喵？","5":"怕怕(ノ≧∇≦)ノ","6":"非礼呀！救命！","7":"这样的话，只能使用武力了！","8":"我要生气了哦","9":"不要动手动脚的！","10":"真…真的是不知羞耻！","11":"Hentai！"},"waifu_tool_fa_comment":{"1":"猜猜我要说些什么？","2":"我从青蛙王子那里听到了不少人生经验。"},"waifu_tool_fa_paper_plane":{"1":"要不要来玩飞机大战？","2":"这个按钮上写着「不要点击」。","3":"怎么，你想来和我玩个游戏？","4":"听说这样可以蹦迪！"},"waifu_tool_fa_user_circle":{"1":"你是不是不爱人家了呀，呜呜呜～","2":"要见见我的姐姐嘛？","3":"想要看我妹妹嘛？","4":"要切换看板娘吗？"},"waifu_tool_fa_street_view":{"1":"喜欢换装 PLAY 吗？","2":"这次要扮演什么呢？","3":"变装！","4":"让我们看看接下来会发生什么！"},"waifu_tool_fa_camera_retro":{"1":"你要给我拍照呀？一二三～茄子～","2":"要不，我们来合影吧！","3":"保持微笑就好了～"},"waifu_tool_fa_info_circle":{"1":"想要知道更多关于我的事么？","2":"这里记录着我搬家的历史呢。","3":"你想深入了解我什么呢？"},"waifu_tool_fa_times":{"1":"到了要说再见的时候了吗？","2":"呜呜 QAQ 后会有期……","3":"不要抛弃我呀……","4":"我们，还能再见面吗……","5":"哼，你会后悔的！"},"menu_item_home_a":{"1":"点击前往首页，想回到上一页可以使用浏览器的后退功能哦。","2":"点它就可以回到首页啦！","3":"回首页看看吧。"},"menu_item_about_a":{"1":"你想知道我家主人是谁吗？","2":"这里有一些关于我家主人的秘密哦，要不要看看呢？","3":"发现主人出没地点！"},"menu_item_tags_a":{"1":"点击就可以看文章的标签啦！","2":"点击来查看所有标签哦。"},"menu_item_categories_a":{"1":"文章都分类好啦～","2":"点击来查看文章分类哦。"},"menu_item_archieves_a":{"1":"翻页比较麻烦吗，那就来看看文章归档吧。","2":"文章目录都整理在这里啦！"},"menu_item_friends_a":{"1":"这是我的朋友们哦ヾ(◍°∇°◍)ﾉﾞ","2":"要去大佬们的家看看吗？","3":"要去拜访一下我的朋友们吗？"},"menu_item_search_a":{"1":"找不到想看的内容？搜索看看吧！","2":"在找什么东西呢，需要帮忙吗？"},"menu_item_a":{"1":"快看看这里都有什么呢？"},"site_author":{"1":"我家主人好看吗？","2":"这是我家主人(*´∇｀*)"},"site_state":{"1":"这是文章的统计信息～","2":"要不要点进去看看？"},"feed_link_a":{"1":"这里可以使用 RSS 订阅呢！","2":"利用 feed 订阅器，就能快速知道博客有没有更新了呢。"},"cc_opacity_post_copyright_author":{"1":"要记得规范转载哦。","2":"所有文章均采用 CC BY-NC-SA 4.0 许可协议～","3":"转载前要先注意下文章的版权协议呢。"},"links_of_author":{"1":"这里是主人的常驻地址哦。","2":"这里有主人的联系方式！"},"qrcode":{"1":"手机扫一下就能继续看，很方便呢～","2":"扫一扫，打开新世界的大门！"},"fancybox_img_img_medium_zoom_image":{"1":"点击图片可以放大呢！"},"copy_btn":{"1":"代码可以直接点击复制哟。"},"highlight_table_container_gist":{"1":"GitHub！我是新手！","2":"PHP 是最好的语言！"},"a_href_mail_to":{"1":"邮件我会及时回复的！","2":"点击就可以发送邮件啦～"},"a_href_tags":{"1":"要去看看 <span>{text}</span> 标签么？","2":"点它可以查看此标签下的所有文章哟！"},"a_href_categories":{"1":"要去看看 <span>{text}</span> 分类么？","2":"点它可以查看此分类下的所有文章哟！"},"post_title_link":{"1":"要看看 <span>{text}</span> 这篇文章吗？"},"a_rel_contents":{"1":"点击来阅读全文哦。"},"a_itemprop_discussionUrl":{"1":"要去看看评论吗？"},"bein_a":{"1":"我也是有户口的人哦。","2":"我的主人可是遵纪守法的好主人。"},"container_a_href_http_nav_link_nav_text":{"1":"要去看看 <span>{text}</span> 么？","2":"去 <span>{text}</span> 逛逛吧。","3":"到 <span>{text}</span> 看看吧。"},"back_to_top":{"1":"点它就可以回到顶部啦！","2":"又回到最初的起点～","3":"要回到开始的地方么？"},"reward_container":{"1":"我是不是棒棒哒～快给我点赞吧！","2":"要打赏我嘛？好期待啊～","3":"主人最近在吃土呢，很辛苦的样子，给他一些钱钱吧～"},"wechat":{"1":"这是我的微信二维码～"},"alipay":{"1":"这是我的支付宝哦！"},"bitcoin":{"1":"这是我的比特币账号！"},"needsharebutton_postbottom_btn":{"1":"好东西要让更多人知道才行哦。","2":"觉得文章有帮助的话，可以分享给更多需要的朋友呢。"},"need_share_button_weibo":{"1":"微博？来分享一波喵！"},"need_share_button_wechat":{"1":"分享到微信吧！"},"need_share_button_douban":{"1":"分享到豆瓣好像也不错！"},"need_share_button_qqzone":{"1":"QQ 空间，一键转发，耶～"},"need_share_button_twitter":{"1":"Twitter？好像是不存在的东西？"},"need_share_button_facebook":{"1":"emmm…FB 好像也是不存在的东西？"},"post_nav_item_a_rel_next":{"1":"来看看下一篇文章吧。","2":"点它可以看下一篇文章哦！","3":"要翻到下一篇文章吗？"},"post_nav_item_a_rel_prev":{"1":"来看看上一篇文章吧。","2":"点它可以看上一篇文章哦！","3":"要翻到上一篇文章吗？"},"extend_next":{"1":"去下一页看看吧。","2":"点它可以前进哦！","3":"要翻到下一页吗？"},"extend_prev":{"1":"去上一页看看吧。","2":"点它可以后退哦！","3":"要翻到上一页吗？"},"input_vnick":{"1":"该怎么称呼你呢？","2":"留下你的尊姓大名！"},"vmail":{"1":"留下你的邮箱，不然就是无头像人士了！","2":"记得设置好 Gravatar 头像哦！","3":"为了方便通知你最新消息，一定要留下邮箱！"},"vlink":{"1":"快快告诉我你的家在哪里，好让我去参观参观！"},"veditor":{"1":"想要去评论些什么吗？","2":"要说点什么吗？","3":"觉得博客不错？快来留言和主人交流吧！"},"vcontrol_a":{"1":"你会不会熟练使用 Markdown 呀？","2":"使用 Markdown 让评论更美观吧～"},"vemoji_btn":{"1":"要插入一个萌萌哒的表情吗？","2":"要来一发表情吗？"},"vpreview_btn":{"1":"要预览一下你的发言吗？","2":"快看看你的评论有多少负熵！"},"vsubmit":{"1":"评论没有审核，要对自己的发言负责哦～","2":"要提交了吗，请耐心等待回复哦～"},"vcontent":{"1":"哇，快看看这个精彩评论！","2":"如果有疑问，请尽快留言哦～"}},"click":{"waifu":{"1":"是…是不小心碰到了吧…","2":"萝莉控是什么呀？","3":"你看到我的小熊了吗？","4":"再摸的话我可要报警了！⌇●﹏●⌇","5":"110 吗，这里有个变态一直在摸我(ó﹏ò｡)","6":"不要摸我了，我会告诉老婆来打你的！","7":"干嘛动我呀！小心我咬你！","8":"别摸我，有什么好摸的！"},"veditor":{"1":"要吐槽些什么呢？","2":"一定要认真填写喵～","3":"有什么想说的吗？"},"vsubmit":{"1":"输入验证码就可以提交评论啦～"}},"seasons":{"1":"<span>元旦</span>了呢，新的一年又开始了，今年是{year}年～","2":"又是一年<span>情人节</span>，{year}年找到对象了嘛～","3":"今天是<span>国际妇女节</span>！","4":"今天是<span>植树节</span>，要保护环境呀！","5":"悄悄告诉你一个秘密～<span>今天是愚人节，不要被骗了哦～</span>","6":"今天是<span>五一劳动节</span>，计划好假期去哪里了吗～","7":"<span>儿童节</span>了呢，快活的时光总是短暂，要是永远长不大该多好啊…","8":"<span>中国人民抗日战争胜利纪念日</span>，铭记历史、缅怀先烈、珍爱和平、开创未来。","9":"<span>教师节</span>，在学校要给老师问声好呀～","10":"<span>国庆节</span>到了，为祖国母亲庆生！","11":"今年的<span>双十一</span>是和谁一起过的呢～","12":"这几天是<span>圣诞节</span>，主人肯定又去剁手买买买了～"},"general":{"longtime":{"1":"好久不见，日子过得好快呢……","2":"大坏蛋！你都多久没理人家了呀，嘤嘤嘤～","3":"嗨～快来逗我玩吧！","4":"拿小拳拳锤你胸口！"},"camera":{"1":"照好了嘛，是不是很可爱呢？"},"exit":{"1":"愿你有一天能与重要的人重逢。"},"console":{"1":"哈哈，你打开了控制台，是想要看看我的小秘密吗？"},"copy":{"1":"你都复制了些什么呀，转载要记得加上出处哦！"},"visibilityChange":{"1":"哇，你终于回来了～"},"dress":{"1":"我的新衣服好看嘛？","2":"我的新衣服好看嘛？"}},"time":{"24":"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？","5_7":"早上好！一日之计在于晨，美好的一天就要开始了。","7_11":"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！","11_13":"中午了，工作了一个上午，现在是午餐时间！","13_17":"午后很容易犯困呢，今天的运动目标完成了吗？","17_19":"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红～","19_21":"晚上好，今天过得怎么样？","21_23":{"1":"已经这么晚了呀，早点休息吧，晚安～","2":"深夜时要爱护眼睛呀！"}},"welcome":{"1":"欢迎阅读 <span>「%{data}」</span>","2":"Hello！来自 百度搜索 的朋友<br>你是搜索 <span>「%{data}」</span> 找到的我吗？","3":"Hello！来自 360搜索 的朋友<br>你是搜索 <span>「%{data}」</span> 找到的我吗？","4":"Hello！来自 谷歌搜索 的朋友<br>欢迎阅读<span>「${data}」</span>","5":"Hello！来自 <span>「%{data}」</span>. Welcome!","6":"欢迎阅读<span>「%{data}」</span>"},"hikoto":{"1":"这句一言来自 <span>「%{source}」</span>，是 <span>%{author}</span> 在 hitokoto.cn 投稿的。"},"来自 Potion Maker 的 Pio 酱 ~":"来自 Potion Maker 的 Pio 酱 ~","来自 Potion Maker 的 Tia 酱 ~":"来自 Potion Maker 的 Tia 酱 ~","来自 Bilibili Live 的 22 哦 ~":"来自 Bilibili Live 的 22 哦 ~","来自 Bilibili Live 的 33 的说":"来自 Bilibili Live 的 33 的说","Shizuku Talk ！这里是 Shizuku ~":"Shizuku Talk ！这里是 Shizuku ~","Nep! Nep! 超次元游戏：海王星 系列":"Nep! Nep! 超次元游戏：海王星 系列 ","艦隊これくしょん / 叢雲(むらくも)":"艦隊これくしょん / 叢雲(むらくも)"}}]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[/* * Live2D Widget * https://github.com/stevenjoezhang/live2d-widget */function loadWidget(config) {let { waifuPath, apiPath, cdnPath } = config;let useCDN = false, modelList;if (typeof cdnPath === "string") {useCDN = true;if (!cdnPath.endsWith("/")) cdnPath += "/";} else if (typeof apiPath === "string") {if (!apiPath.endsWith("/")) apiPath += "/";} else {console.error("Invalid initWidget argument!");return;}localStorage.removeItem("waifu-display");sessionStorage.removeItem("waifu-text");    document.body.insertAdjacentHTML("beforeend", `<div id="waifu">        <div id="waifu-tips"></div>        <canvas id="live2d" width="800" height="800"></canvas>    </div>`);// https://stackoverflow.com/questions/24148403/trigger-css-transition-on-appended-elementsetTimeout(() => {document.getElementById("waifu").style.bottom = 0;}, 0);function randomSelection(obj) {return Array.isArray(obj) ? obj[Math.floor(Math.random() * obj.length)] : obj;}// 检测用户活动状态，并在空闲时显示消息let userAction = false,userActionTimer,messageTimer,messageArray = ["general.longtime.1", "general.longtime.2", "general.longtime.3", "general.longtime.4"];window.addEventListener("mousemove", () => userAction = true);window.addEventListener("keydown", () => userAction = true);setInterval(() => {if (userAction) {userAction = false;clearInterval(userActionTimer);userActionTimer = null;} else if (!userActionTimer) {userActionTimer = setInterval(() => {showMessage(randomSelection(messageArray), 6000, 9);}, 20000);}}, 1000);(function registerEventListener() {const devtools = () => {};console.log("%c", devtools);devtools.toString = () => {showMessage("general.console.1", 6000, 9);};window.addEventListener("copy", () => {showMessage("general.copy.1", 6000, 9);});window.addEventListener("visibilitychange", () => {if (!document.hidden) showMessage("general.visibilityChange.1", 6000, 9);});})();(function welcomeMessage() {let text;if (location.pathname === "/") { // 如果是主页const now = new Date().getHours();if (now > 5 && now <= 7) text = "time.5_7";else if (now > 7 && now <= 11) text = "time.7_11";else if (now > 11 && now <= 13) text = "time.11_13";else if (now > 13 && now <= 17) text = "time.13_17";else if (now > 17 && now <= 19) text = "time.17_19";else if (now > 19 && now <= 21) text = "time.19_21";else if (now > 21 && now <= 23) text = ["time.21_23.1", "time.21_23.2"];else text = "time.24";} else if (document.referrer !== "") {const referrer = new URL(document.referrer),domain = referrer.hostname.split(".")[1];if (location.hostname === referrer.hostname) text = {i18n: "welcome.1", data: document.title.split(" - ")[0]};else if (domain === "baidu") text = {i18n: "welcome.2", data:referrer.search.split("&wd=")[1].split("&")[0]};else if (domain === "so") text = {i18n: "welcome.3", data: referrer.search.split("&q=")[1].split("&")[0]};else if (domain === "google") text = {i18n: "welcome.4", data: document.title.split(" - ")[0]};else text = {i18n: "welcome.5", data: referrer.hostname};} else {text = {i18n: "welcome.6", data: document.title.split(" - ")[0]};}showMessage(text, 7000, 8);})();function showHitokoto() {// 增加 hitokoto.cn 的 APIfetch("https://v1.hitokoto.cn").then(response => response.json()).then(result => {const text = {i18n: "hikoto", source: result.from, author: result.creator };showMessage(result.hitokoto, 6000, 9);setTimeout(() => {showMessage(text, 4000, 9);}, 6000);});}function showMessage(text, timeout, priority) {if (!text || (sessionStorage.getItem("waifu-text") && sessionStorage.getItem("waifu-text") > priority)) return;if (messageTimer) {clearTimeout(messageTimer);messageTimer = null;}        text = randomSelection(text);        if (typeof text === 'object' && text !== null && 'i18n' in text) {            let tmp = {}            Object.keys(text).forEach(key => {                if (key != 'i18n') {                    tmp[key] = text[key]                }            });            console.log(tmp)            text = I18n.t(text.i18n, tmp);        } else {            text = I18n.t(text);        }sessionStorage.setItem("waifu-text", priority);const tips = document.getElementById("waifu-tips");tips.innerHTML = text;tips.classList.add("waifu-tips-active");messageTimer = setTimeout(() => {sessionStorage.removeItem("waifu-text");tips.classList.remove("waifu-tips-active");}, timeout);}(function initModel() {let modelId = localStorage.getItem("modelId"),modelTexturesId = localStorage.getItem("modelTexturesId");if (modelId === null) {// 首次访问加载 指定模型 的 指定材质modelId = 2; // 模型 IDmodelTexturesId = 23; // 材质 ID}        // Parameter Fixed -> Tia/Knight        modelId = 2;        modelTexturesId = 23;loadModel(modelId, modelTexturesId);fetch(waifuPath).then(response => response.json()).then(result => {window.addEventListener("mouseover", event => {for (let { selector, text } of result.mouseover) {if (!event.target.matches(selector)) continue;                        text = randomSelection(text);                        text = text.replace("{text}", event.target.innerText);showMessage(text, 4000, 8);return;}});window.addEventListener("click", event => {for (let { selector, text } of result.click) {if (!event.target.matches(selector)) continue;                        text = randomSelection(text);                        text.replace("{text}", event.target.innerText);showMessage(text, 4000, 8);return;}});result.seasons.forEach(({ date, text }) => {const now = new Date(),after = date.split("-")[0],before = date.split("-")[1] || after;if ((after.split("/")[0] <= now.getMonth() + 1 && now.getMonth() + 1 <= before.split("/")[0]) && (after.split("/")[1] <= now.getDate() && now.getDate() <= before.split("/")[1])) {text = randomSelection(text);text = text.replace("{year}", now.getFullYear());//showMessage(text, 7000, true);messageArray.push(text);}});});})();async function loadModelList() {const response = await fetch(`${cdnPath}model_list.json`);modelList = await response.json();}async function loadModel(modelId, modelTexturesId, message) {localStorage.setItem("modelId", modelId);localStorage.setItem("modelTexturesId", modelTexturesId);showMessage(message, 4000, 10);if (useCDN) {if (!modelList) await loadModelList();const target = randomSelection(modelList.models[modelId]);loadlive2d("live2d", `${cdnPath}model/${target}/index.json`);} else {loadlive2d("live2d", `${apiPath}get/?id=${modelId}-${modelTexturesId}`);console.log(`Live2D 模型 ${modelId}-${modelTexturesId} 加载完成`);}}async function loadRandModel() {const modelId = localStorage.getItem("modelId"),modelTexturesId = localStorage.getItem("modelTexturesId");if (useCDN) {if (!modelList) await loadModelList();const target = randomSelection(modelList.models[modelId]);loadlive2d("live2d", `${cdnPath}model/${target}/index.json`);showMessage("general.dress.1", 4000, 10);} else {// 可选 "rand"(随机), "switch"(顺序)fetch(`${apiPath}rand_textures/?id=${modelId}-${modelTexturesId}`).then(response => response.json()).then(result => {if (result.textures.id === 1 && (modelTexturesId === 1 || modelTexturesId === 0)) showMessage("Ughh, I ran out of clothes!", 4000, 10);else loadModel(modelId, result.textures.id, "general.dress.2?");});}}async function loadOtherModel() {let modelId = localStorage.getItem("modelId");if (useCDN) {if (!modelList) await loadModelList();const index = (++modelId >= modelList.models.length) ? 0 : modelId;loadModel(index, 0, modelList.messages[index]);} else {fetch(`${apiPath}switch/?id=${modelId}`).then(response => response.json()).then(result => {loadModel(result.model.id, 0, result.model.message);});}}}function initWidget(config, apiPath) {if (typeof config === "string") {config = {waifuPath: config,apiPath};}document.body.insertAdjacentHTML("beforeend", `<div id="waifu-toggle"><span>Signboard girl</span></div>`);const toggle = document.getElementById("waifu-toggle");toggle.addEventListener("click", () => {toggle.classList.remove("waifu-toggle-active");if (toggle.getAttribute("first-time")) {loadWidget(config);toggle.removeAttribute("first-time");} else {localStorage.removeItem("waifu-display");document.getElementById("waifu").style.display = "";setTimeout(() => {document.getElementById("waifu").style.bottom = 0;}, 0);}});if (localStorage.getItem("waifu-display") && Date.now() - localStorage.getItem("waifu-display") <= 86400000) {toggle.setAttribute("first-time", true);setTimeout(() => {toggle.classList.add("waifu-toggle-active");}, 0);} else {loadWidget(config);}}]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[{"mouseover":[{"selector":"#waifu #live2d","text":["mouseover.waifu.1","mouseover.waifu.2","mouseover.waifu.3","mouseover.waifu.4","mouseover.waifu.5","mouseover.waifu.6","mouseover.waifu.7","mouseover.waifu.8","mouseover.waifu.9","mouseover.waifu.10","mouseover.waifu.11"]},{"selector":"#waifu-tool .fa-comment","text":["mouseover.waifu_tool_fa_comment.1","mouseover.waifu_tool_fa_comment.2"]},{"selector":"#waifu-tool .fa-paper-plane","text":["mouseover.waifu_tool_fa_paper_plane.1","mouseover.waifu_tool_fa_paper_plane.2","mouseover.waifu_tool_fa_paper_plane.3","mouseover.waifu_tool_fa_paper_plane.4"]},{"selector":"#waifu-tool .fa-user-circle","text":["mouseover.waifu_tool_fa_user_circle.1","mouseover.waifu_tool_fa_user_circle.2","mouseover.waifu_tool_fa_user_circle.3","mouseover.waifu_tool_fa_user_circle.4"]},{"selector":"#waifu-tool .fa-street-view","text":["mouseover.waifu_tool_fa_street_view.1","mouseover.waifu_tool_fa_street_view.2","mouseover.waifu_tool_fa_street_view.3","mouseover.waifu_tool_fa_street_view.4"]},{"selector":"#waifu-tool .fa-camera-retro","text":["mouseover.waifu_tool_fa_camera_retro.1","mouseover.waifu_tool_fa_camera_retro.2","mouseover.waifu_tool_fa_camera_retro.3"]},{"selector":"#waifu-tool .fa-info-circle","text":["mouseover.waifu_tool_fa_info_circle.1","mouseover.waifu_tool_fa_info_circle.2","mouseover.waifu_tool_fa_info_circle.3"]},{"selector":"#waifu-tool .fa-times","text":["mouseover.waifu_tool_fa_times.1","mouseover.waifu_tool_fa_times.2","mouseover.waifu_tool_fa_times.3","mouseover.waifu_tool_fa_times.4","mouseover.waifu_tool_fa_times.5"]},{"selector":".menu-item-home a","text":[" Click to go to the home page. If you want to go back to the previous page, you can use the browser's back function. "," Click it to return to the homepage! "," Go back to the homepage and take a look. "]},{"selector":".menu-item-about a","text":["mouseover.menu_item_categories_a.1","mouseover.menu_item_categories_a.2","mouseover.menu_item_categories_a.3"]},{"selector":".menu-item-tags a","text":["mouseover.menu_item_tags_a.1","mouseover.menu_item_tags_a.2"]},{"selector":".menu-item-categories a","text":["mouseover.menu_item_categories_a.1","mouseover.menu_item_categories_a.2"]},{"selector":".menu-item-archives a","text":["mouseover.menu_item_archieves_a.1","mouseover.menu_item_archieves_a.2"]},{"selector":".menu-item-friends a","text":["mouseover.menu_item_friends_a.1","mouseover.menu_item_friends_a.2","mouseover.menu_item_friends_a.3"]},{"selector":".menu-item-search a","text":["mouseover.menu_item_search_a.1","mouseover.menu_item_search_a.2"]},{"selector":".menu-item a","text":["mouseover.menu_item_a.1"]},{"selector":".site-author","text":["mouseover.site_author.1","mouseover.site_author.2"]},{"selector":".site-state","text":["mouseover.site_state.1","mouseover.site_state.2"]},{"selector":".feed-link a","text":["mouseover.feed_link_a.1","mouseover.feed_link_a.2"]},{"selector":".cc-opacity, .post-copyright-author","text":["mouseover.cc_opacity_post_copyright_author.1","mouseover.cc_opacity_post_copyright_author.2","mouseover.cc_opacity_post_copyright_author.3"]},{"selector":".links-of-author","text":["mouseover.links_of_author.1","mouseover.links_of_author.2"]},{"selector":"#qrcode","text":["mouseover.qrcode.1","mouseover.qrcode.2"]},{"selector":".fancybox img, img.medium-zoom-image","text":["mouseover.fancybox_img_img_medium_zoom_image.1"]},{"selector":".copy-btn","text":["mouseover.copy_btn.1"]},{"selector":".highlight .table-container, .gist","text":["mouseover.highlight_table_container_gist.1","mouseover.highlight_table_container_gist.2"]},{"selector":"a[href^='mailto']","text":["mouseover.a_href_mail_to.1","mouseover.a_href_mail_to.2"]},{"selector":"a[href^='/tags/']","text":["mouseover.a_href_tags.1","mouseover.a_href_tags.2"]},{"selector":"a[href^='/categories/']","text":["mouseover.a_href_categories.1","mouseover.a_href_categories.2"]},{"selector":".post-title-link","text":["mouseover.post_title_link.1"]},{"selector":"a[rel='contents']","text":["mouseover.a_rel_contents.1"]},{"selector":"a[itemprop='discussionUrl']","text":["mouseover.a_itemprop_discussionUrl.1"]},{"selector":".beian a","text":["mouseover.bein_a.1","mouseover.bein_a.2"]},{"selector":".container a[href^='http'], .nav-link .nav-text","text":["mouseover.container_a_href_http_nav_link_nav_text.1","mouseover.container_a_href_http_nav_link_nav_text.2","mouseover.container_a_href_http_nav_link_nav_text.3"]},{"selector":".back-to-top","text":["mouseover.back_to_top.1","mouseover.back_to_top.2","mouseover.back_to_top.3"]},{"selector":".reward-container","text":["mouseover.reward_container.1","mouseover.reward_container.2","mouseover.reward_container.3"]},{"selector":"#wechat","text":["mouseover.wechat.1"]},{"selector":"#alipay","text":["mouseover.alipay.1"]},{"selector":"#bitcoin","text":["mouseover.bitcoin.1"]},{"selector":"#needsharebutton-postbottom .btn","text":["mouseover.needsharebutton_postbottom_btn.1","mouseover.needsharebutton_postbottom_btn.2"]},{"selector":".need-share-button_weibo","text":["mouseover.need_share_button_weibo.1"]},{"selector":".need-share-button_wechat","text":["mouseover.need_share_button_wechat.1"]},{"selector":".need-share-button_douban","text":["mouseover.need_share_button_douban.1"]},{"selector":".need-share-button_qqzone","text":["mouseover.need_share_button_qqzone.1"]},{"selector":".need-share-button_twitter","text":["mouseover.need_share_button_twitter.1"]},{"selector":".need-share-button_facebook","text":["mouseover.need_share_button_facebook.1"]},{"selector":".post-nav-item a[rel='next']","text":["mouseover.post_nav_item_a_rel_next.1","mouseover.post_nav_item_a_rel_next.2","mouseover.post_nav_item_a_rel_next.3"]},{"selector":".post-nav-item a[rel='prev']","text":["mouseover.post_nav_item_a_rel_prev.1","mouseover.post_nav_item_a_rel_prev.2","mouseover.post_nav_item_a_rel_prev.3"]},{"selector":".extend.next","text":["mouseover.extend_next.1","mouseover.extend_next.2","mouseover.extend_next.3"]},{"selector":".extend.prev","text":["mouseover.extend_prev.1","mouseover.extend_prev.2","mouseover.extend_prev.3"]},{"selector":"input.vnick","text":["mouseover.input_vnick.1","mouseover.input_vnick.2"]},{"selector":".vmail","text":["mouseover.vmail.1","mouseover.vmail.2","mouseover.vmail.3"]},{"selector":".vlink","text":["mouseover.vlink.1"]},{"selector":".veditor","text":["mouseover.veditor.1","mouseover.veditor.2","mouseover.veditor.3"]},{"selector":".vcontrol a","text":["mouseover.vcontrol_a.1","mouseover.vcontrol_a.2"]},{"selector":".vemoji-btn","text":["mouseover.vemoji_btn.1","mouseover.vemoji_btn.2"]},{"selector":".vpreview-btn","text":["mouseover.vpreview_btn.1","mouseover.vpreview_btn.2"]},{"selector":".vsubmit","text":["mouseover.vsubmit.1","mouseover.vsubmit.2"]},{"selector":".vcontent","text":["mouseover.vcontent.1","mouseover.vcontent.2"]}],"click":[{"selector":"#waifu #live2d","text":["click.waifu.1","click.waifu.2","click.waifu.3","click.waifu.4","click.waifu.5","click.waifu.6","click.waifu.7","click.waifu.8"]},{"selector":".veditor","text":["click.veditor.1","click.veditor.2","click.veditor.3"]},{"selector":".vsubmit","text":["click.vsubmit.1"]}],"seasons":[{"date":"01/01"," text ":"seasons.1"},{"date":"02/14"," text ":"seasons.2"},{"date":"03/08"," text ":"seasons.3"},{"date":"03/12"," text ":"seasons.4"},{"date":"04/01"," text ":"seasons.5"},{"date":"05/01"," text ":"seasons.6"},{"date":"06/01"," text ":"seasons.7"},{"date":"09/03"," text ":"seasons.8"},{"date":"09/10"," text ":"seasons.9"},{"date":"10/01"," text ":"seasons.10"},{"date":"11/05-11/12"," text ":"seasons.11"},{"date":"12/20-12/31"," text ":"seasons.12"}]}]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[#waifu-toggle {background-color: #fa0;border-radius: 5px;bottom: 66px;color: #fff;cursor: pointer;font-size: 12px;left: 0;margin-left: -100px;padding: 5px 2px 5px 5px;position: fixed;transition: margin-left 1s;width: 60px;    z-index: 1;writing-mode: vertical-rl;}#waifu-toggle.waifu-toggle-active {margin-left: -50px;}#waifu-toggle.waifu-toggle-active:hover {margin-left: -30px;}#waifu {bottom: -1000px;left: 0;line-height: 0;margin-bottom: -10px;position: fixed;transform: translateY(3px);transition: transform .3s ease-in-out, bottom 3s ease-in-out;z-index: 999;}#waifu:hover {transform: translateY(0);}#waifu-tips {animation: shake 50s ease-in-out 5s infinite;background-color: rgba(252, 246, 229, 1);border: 1px solid rgba(224, 186, 140, .62);border-radius: 12px;box-shadow: 0 3px 15px 2px rgba(191, 158, 118, .2);font-size: 14px;line-height: 24px;margin: -30px 20px;min-height: 70px;opacity: 0;overflow: hidden;padding: 5px 10px;position: absolute;text-overflow: ellipsis;transition: opacity 1s;width: 250px;word-break: break-all;}#waifu-tips.waifu-tips-active {opacity: 1;transition: opacity .2s;}#waifu-tips span {color: #0099cc;}#waifu #live2d {cursor: grab;height: 300px;position: relative;width: 300px;}#waifu #live2d:active {cursor: grabbing;}#waifu-tool {color: #aaa;opacity: 0;position: absolute;right: -10px;top: 70px;transition: opacity 1s;}#waifu:hover #waifu-tool {opacity: 1;}#waifu-tool span {color: #7b8c9d;cursor: pointer;display: block;line-height: 30px;text-align: center;transition: color .3s;}#waifu-tool span:hover {color: #0684bd; /* #34495e */}@keyframes shake {2% {transform: translate(.5px, -1.5px) rotate(-.5deg);}4% {transform: translate(.5px, 1.5px) rotate(1.5deg);}6% {transform: translate(1.5px, 1.5px) rotate(1.5deg);}8% {transform: translate(2.5px, 1.5px) rotate(.5deg);}10% {transform: translate(.5px, 2.5px) rotate(.5deg);}12% {transform: translate(1.5px, 1.5px) rotate(.5deg);}14% {transform: translate(.5px, .5px) rotate(.5deg);}16% {transform: translate(-1.5px, -.5px) rotate(1.5deg);}18% {transform: translate(.5px, .5px) rotate(1.5deg);}20% {transform: translate(2.5px, 2.5px) rotate(1.5deg);}22% {transform: translate(.5px, -1.5px) rotate(1.5deg);}24% {transform: translate(-1.5px, 1.5px) rotate(-.5deg);}26% {transform: translate(1.5px, .5px) rotate(1.5deg);}28% {transform: translate(-.5px, -.5px) rotate(-.5deg);}30% {transform: translate(1.5px, -.5px) rotate(-.5deg);}32% {transform: translate(2.5px, -1.5px) rotate(1.5deg);}34% {transform: translate(2.5px, 2.5px) rotate(-.5deg);}36% {transform: translate(.5px, -1.5px) rotate(.5deg);}38% {transform: translate(2.5px, -.5px) rotate(-.5deg);}40% {transform: translate(-.5px, 2.5px) rotate(.5deg);}42% {transform: translate(-1.5px, 2.5px) rotate(.5deg);}44% {transform: translate(-1.5px, 1.5px) rotate(.5deg);}46% {transform: translate(1.5px, -.5px) rotate(-.5deg);}48% {transform: translate(2.5px, -.5px) rotate(.5deg);}50% {transform: translate(-1.5px, 1.5px) rotate(.5deg);}52% {transform: translate(-.5px, 1.5px) rotate(.5deg);}54% {transform: translate(-1.5px, 1.5px) rotate(.5deg);}56% {transform: translate(.5px, 2.5px) rotate(1.5deg);}58% {transform: translate(2.5px, 2.5px) rotate(.5deg);}60% {transform: translate(2.5px, -1.5px) rotate(1.5deg);}62% {transform: translate(-1.5px, .5px) rotate(1.5deg);}64% {transform: translate(-1.5px, 1.5px) rotate(1.5deg);}66% {transform: translate(.5px, 2.5px) rotate(1.5deg);}68% {transform: translate(2.5px, -1.5px) rotate(1.5deg);}70% {transform: translate(2.5px, 2.5px) rotate(.5deg);}72% {transform: translate(-.5px, -1.5px) rotate(1.5deg);}74% {transform: translate(-1.5px, 2.5px) rotate(1.5deg);}76% {transform: translate(-1.5px, 2.5px) rotate(1.5deg);}78% {transform: translate(-1.5px, 2.5px) rotate(.5deg);}80% {transform: translate(-1.5px, .5px) rotate(-.5deg);}82% {transform: translate(-1.5px, .5px) rotate(-.5deg);}84% {transform: translate(-.5px, .5px) rotate(1.5deg);}86% {transform: translate(2.5px, 1.5px) rotate(.5deg);}88% {transform: translate(-1.5px, .5px) rotate(1.5deg);}90% {transform: translate(-1.5px, -.5px) rotate(-.5deg);}92% {transform: translate(-1.5px, -1.5px) rotate(1.5deg);}94% {transform: translate(.5px, .5px) rotate(-.5deg);}96% {transform: translate(2.5px, -.5px) rotate(-.5deg);}98% {transform: translate(-1.5px, -1.5px) rotate(-.5deg);}0%, 100% {transform: translate(0, 0) rotate(0);}}]]></content>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[!function(t){function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=4)}([function(t,i,e){"use strict";function r(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new h,this.expressionManager=new h,this.motions={},this.expressions={},this.isTexLoaded=!1}function o(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function n(){this.id="",this.type=-1,this.value=null}function s(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=g.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function _(){this.tr=new Float32Array(16),this.identity()}function a(t,i){_.prototype.constructor.call(this),this.width=t,this.height=i}function h(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function l(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function $(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function u(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function p(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function f(){_.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function c(){}var d=0;r.prototype.getModelMatrix=function(){return this.modelMatrix},r.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},r.prototype.getAlpha=function(){return this.alpha},r.prototype.isInitialized=function(){return this.initialized},r.prototype.setInitialized=function(t){this.initialized=t},r.prototype.isUpdating=function(){return this.updating},r.prototype.setUpdating=function(t){this.updating=t},r.prototype.getLive2DModel=function(){return this.live2DModel},r.prototype.setLipSync=function(t){this.lipSync=t},r.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},r.prototype.setAccel=function(t,i,e){this.accelX=t,this.accelY=i,this.accelZ=e},r.prototype.setDrag=function(t,i){this.dragX=t,this.dragY=i},r.prototype.getMainMotionManager=function(){return this.mainMotionManager},r.prototype.getExpressionManager=function(){return this.expressionManager},r.prototype.loadModelData=function(t,i){var e=c.getPlatformManager();this.debugMode&&e.log("Load model : "+t);var r=this;e.loadLive2DModel(t,function(t){if(r.live2DModel=t,r.live2DModel.saveParam(),0!=Live2D.getError())return void console.error("Error : Failed to loadModelData().");r.modelMatrix=new a(r.live2DModel.getCanvasWidth(),r.live2DModel.getCanvasHeight()),r.modelMatrix.setWidth(2),r.modelMatrix.setCenterPosition(0,0),i(r.live2DModel)})},r.prototype.loadTexture=function(t,i,e){d++;var r=c.getPlatformManager();this.debugMode&&r.log("Load Texture : "+i);var o=this;r.loadTexture(this.live2DModel,t,i,function(){d--,0==d&&(o.isTexLoaded=!0),"function"==typeof e&&e()})},r.prototype.loadMotion=function(t,i,e){var r=c.getPlatformManager();this.debugMode&&r.log("Load Motion : "+i);var o=null,n=this;r.loadBytes(i,function(i){o=Live2DMotion.loadMotion(i),null!=t&&(n.motions[t]=o),e(o)})},r.prototype.loadExpression=function(t,i,e){var r=c.getPlatformManager();this.debugMode&&r.log("Load Expression : "+i);var n=this;r.loadBytes(i,function(i){null!=t&&(n.expressions[t]=o.loadJson(i)),"function"==typeof e&&e()})},r.prototype.loadPose=function(t,i){var e=c.getPlatformManager();this.debugMode&&e.log("Load Pose : "+t);var r=this;try{e.loadBytes(t,function(t){r.pose=$.load(t),"function"==typeof i&&i()})}catch(t){console.warn(t)}},r.prototype.loadPhysics=function(t){var i=c.getPlatformManager();this.debugMode&&i.log("Load Physics : "+t);var e=this;try{i.loadBytes(t,function(t){e.physics=l.load(t)})}catch(t){console.warn(t)}},r.prototype.hitTestSimple=function(t,i,e){if(null===this.live2DModel)return!1;var r=this.live2DModel.getDrawDataIndex(t);if(r<0)return!1;for(var o=this.live2DModel.getTransformedPoints(r),n=this.live2DModel.getCanvasWidth(),s=0,_=this.live2DModel.getCanvasHeight(),a=0,h=0;h<o.length;h+=2){var l=o[h],$=o[h+1];l<n&&(n=l),l>s&&(s=l),$<_&&(_=$),$>a&&(a=$)}var u=this.modelMatrix.invertTransformX(i),p=this.modelMatrix.invertTransformY(e);return n<=u&&u<=s&&_<=p&&p<=a},r.prototype.hitTestSimpleCustom=function(t,i,e,r){return null!==this.live2DModel&&(e>=t[0]&&e<=i[0]&&r<=t[1]&&r>=i[1])},o.prototype=new AMotion,o.EXPRESSION_DEFAULT="DEFAULT",o.TYPE_SET=0,o.TYPE_ADD=1,o.TYPE_MULT=2,o.loadJson=function(t){var i=new o,e=c.getPlatformManager(),r=e.jsonParseFromBytes(t);if(i.setFadeIn(parseInt(r.fade_in)>0?parseInt(r.fade_in):1e3),i.setFadeOut(parseInt(r.fade_out)>0?parseInt(r.fade_out):1e3),null==r.params)return i;var s=r.params,_=s.length;i.paramList=[];for(var a=0;a<_;a++){var h=s[a],l=h.id.toString(),$=parseFloat(h.val),u=o.TYPE_ADD,p=null!=h.calc?h.calc.toString():"add";if((u="add"===p?o.TYPE_ADD:"mult"===p?o.TYPE_MULT:"set"===p?o.TYPE_SET:o.TYPE_ADD)==o.TYPE_ADD){var f=null==h.def?0:parseFloat(h.def);$-=f}else if(u==o.TYPE_MULT){var f=null==h.def?1:parseFloat(h.def);0==f&&(f=1),$/=f}var d=new n;d.id=l,d.type=u,d.value=$,i.paramList.push(d)}return i},o.prototype.updateParamExe=function(t,i,e,r){for(var n=this.paramList.length-1;n>=0;--n){var s=this.paramList[n];s.type==o.TYPE_ADD?t.addToParamFloat(s.id,s.value,e):s.type==o.TYPE_MULT?t.multParamFloat(s.id,s.value,e):s.type==o.TYPE_SET&&t.setParamFloat(s.id,s.value,e)}},s.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},s.prototype.setInterval=function(t){this.blinkIntervalMsec=t},s.prototype.setEyeMotion=function(t,i,e){this.closingMotionMsec=t,this.closedMotionMsec=i,this.openingMotionMsec=e},s.prototype.updateParam=function(t){var i,e=UtSystem.getUserTimeMSec(),r=0;switch(this.eyeState){case g.STATE_CLOSING:r=(e-this.stateStartTime)/this.closingMotionMsec,r>=1&&(r=1,this.eyeState=g.STATE_CLOSED,this.stateStartTime=e),i=1-r;break;case g.STATE_CLOSED:r=(e-this.stateStartTime)/this.closedMotionMsec,r>=1&&(this.eyeState=g.STATE_OPENING,this.stateStartTime=e),i=0;break;case g.STATE_OPENING:r=(e-this.stateStartTime)/this.openingMotionMsec,r>=1&&(r=1,this.eyeState=g.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),i=r;break;case g.STATE_INTERVAL:this.nextBlinkTime<e&&(this.eyeState=g.STATE_CLOSING,this.stateStartTime=e),i=1;break;case g.STATE_FIRST:default:this.eyeState=g.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),i=1}this.closeIfZero||(i=-i),t.setParamFloat(this.eyeID_L,i),t.setParamFloat(this.eyeID_R,i)};var g=function(){};g.STATE_FIRST="STATE_FIRST",g.STATE_INTERVAL="STATE_INTERVAL",g.STATE_CLOSING="STATE_CLOSING",g.STATE_CLOSED="STATE_CLOSED",g.STATE_OPENING="STATE_OPENING",_.mul=function(t,i,e){var r,o,n,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<4;r++)for(o=0;o<4;o++)for(n=0;n<4;n++)s[r+4*o]+=t[r+4*n]*i[n+4*o];for(r=0;r<16;r++)e[r]=s[r]},_.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},_.prototype.getArray=function(){return this.tr},_.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},_.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var i=0;i<16;i++)this.tr[i]=t[i]},_.prototype.getScaleX=function(){return this.tr[0]},_.prototype.getScaleY=function(){return this.tr[5]},_.prototype.transformX=function(t){return this.tr[0]*t*8/3+this.tr[12]},_.prototype.transformY=function(t){return this.tr[5]*t*8/3+this.tr[13]},_.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},_.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},_.prototype.multTranslate=function(t,i){var e=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1];_.mul(e,this.tr,this.tr)},_.prototype.translate=function(t,i){this.tr[12]=t,this.tr[13]=i},_.prototype.translateX=function(t){this.tr[12]=t},_.prototype.translateY=function(t){this.tr[13]=t},_.prototype.multScale=function(t,i){var e=[t,0,0,0,0,i,0,0,0,0,1,0,0,0,0,1];_.mul(e,this.tr,this.tr)},_.prototype.scale=function(t,i){this.tr[0]=t,this.tr[5]=i},a.prototype=new _,a.prototype.setPosition=function(t,i){this.translate(t,i)},a.prototype.setCenterPosition=function(t,i){var e=this.width*this.getScaleX(),r=this.height*this.getScaleY();this.translate(t-e/2,i-r/2)},a.prototype.top=function(t){this.setY(t)},a.prototype.bottom=function(t){var i=this.height*this.getScaleY();this.translateY(t-i)},a.prototype.left=function(t){this.setX(t)},a.prototype.right=function(t){var i=this.width*this.getScaleX();this.translateX(t-i)},a.prototype.centerX=function(t){var i=this.width*this.getScaleX();this.translateX(t-i/2)},a.prototype.centerY=function(t){var i=this.height*this.getScaleY();this.translateY(t-i/2)},a.prototype.setX=function(t){this.translateX(t)},a.prototype.setY=function(t){this.translateY(t)},a.prototype.setHeight=function(t){var i=t/this.height,e=-i;this.scale(i,e)},a.prototype.setWidth=function(t){var i=t/this.width,e=-i;this.scale(i,e)},h.prototype=new MotionQueueManager,h.prototype.getCurrentPriority=function(){return this.currentPriority},h.prototype.getReservePriority=function(){return this.reservePriority},h.prototype.reserveMotion=function(t){return!(this.reservePriority>=t)&&(!(this.currentPriority>=t)&&(this.reservePriority=t,!0))},h.prototype.setReservePriority=function(t){this.reservePriority=t},h.prototype.updateParam=function(t){var i=MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),i},h.prototype.startMotionPrio=function(t,i){return i==this.reservePriority&&(this.reservePriority=0),this.currentPriority=i,this.startMotion(t,!1)},l.load=function(t){for(var i=new l,e=c.getPlatformManager(),r=e.jsonParseFromBytes(t),o=r.physics_hair,n=o.length,s=0;s<n;s++){var _=o[s],a=new PhysicsHair,h=_.setup,$=parseFloat(h.length),u=parseFloat(h.regist),p=parseFloat(h.mass);a.setup($,u,p);for(var f=_.src,d=f.length,g=0;g<d;g++){var y=f[g],m=y.id,T=PhysicsHair.Src.SRC_TO_X,P=y.ptype;"x"===P?T=PhysicsHair.Src.SRC_TO_X:"y"===P?T=PhysicsHair.Src.SRC_TO_Y:"angle"===P?T=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var S=parseFloat(y.scale),v=parseFloat(y.weight);a.addSrcParam(T,m,S,v)}for(var L=_.targets,M=L.length,g=0;g<M;g++){var E=L[g],m=E.id,T=PhysicsHair.Target.TARGET_FROM_ANGLE,P=E.ptype;"angle"===P?T=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===P?T=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");var S=parseFloat(E.scale),v=parseFloat(E.weight);a.addTargetParam(T,m,S,v)}i.physicsList.push(a)}return i},l.prototype.updateParam=function(t){for(var i=UtSystem.getUserTimeMSec()-this.startTimeMSec,e=0;e<this.physicsList.length;e++)this.physicsList[e].update(t,i)},$.load=function(t){for(var i=new $,e=c.getPlatformManager(),r=e.jsonParseFromBytes(t),o=r.parts_visible,n=o.length,s=0;s<n;s++){for(var _=o[s],a=_.group,h=a.length,l=new Array,p=0;p<h;p++){var f=a[p],d=new u(f.id);if(l[p]=d,null!=f.link){var g=f.link,y=g.length;d.link=new Array;for(var m=0;m<y;m++){var T=new u(g[m]);d.link.push(T)}}}i.partsGroups.push(l)}return i},$.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var i=UtSystem.getUserTimeMSec(),e=0==this.lastTime?0:(i-this.lastTime)/1e3;this.lastTime=i,e<0&&(e=0);for(var r=0;r<this.partsGroups.length;r++)this.normalizePartsOpacityGroup(t,this.partsGroups[r],e),this.copyOpacityOtherParts(t,this.partsGroups[r])}},$.prototype.initParam=function(t){if(null!=t)for(var i=0;i<this.partsGroups.length;i++)for(var e=this.partsGroups[i],r=0;r<e.length;r++){e[r].initIndex(t);var o=e[r].partsIndex,n=e[r].paramIndex;if(!(o<0)){var s=0!=t.getParamFloat(n);if(t.setPartsOpacity(o,s?1:0),t.setParamFloat(n,s?1:0),null!=e[r].link)for(var _=0;_<e[r].link.length;_++)e[r].link[_].initIndex(t)}}},$.prototype.normalizePartsOpacityGroup=function(t,i,e){for(var r=-1,o=1,n=0;n<i.length;n++){var s=i[n].partsIndex,_=i[n].paramIndex;if(!(s<0)&&0!=t.getParamFloat(_)){if(r>=0)break;r=n,o=t.getPartsOpacity(s),o+=e/.5,o>1&&(o=1)}}r<0&&(r=0,o=1);for(var n=0;n<i.length;n++){var s=i[n].partsIndex;if(!(s<0))if(r==n)t.setPartsOpacity(s,o);else{var a,h=t.getPartsOpacity(s);a=o<.5?-.5*o/.5+1:.5*(1-o)/.5;var l=(1-a)*(1-o);l>.15&&(a=1-.15/(1-o)),h>a&&(h=a),t.setPartsOpacity(s,h)}}},$.prototype.copyOpacityOtherParts=function(t,i){for(var e=0;e<i.length;e++){var r=i[e];if(null!=r.link&&!(r.partsIndex<0))for(var o=t.getPartsOpacity(r.partsIndex),n=0;n<r.link.length;n++){var s=r.link[n];s.partsIndex<0||t.setPartsOpacity(s.partsIndex,o)}}},u.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},p.FRAME_RATE=30,p.prototype.setPoint=function(t,i){this.faceTargetX=t,this.faceTargetY=i},p.prototype.getX=function(){return this.faceX},p.prototype.getY=function(){return this.faceY},p.prototype.update=function(){var t=40/7.5/p.FRAME_RATE;if(0==this.lastTimeSec)return void(this.lastTimeSec=UtSystem.getUserTimeMSec());var i=UtSystem.getUserTimeMSec(),e=(i-this.lastTimeSec)*p.FRAME_RATE/1e3;this.lastTimeSec=i;var r=.15*p.FRAME_RATE,o=e*t/r,n=this.faceTargetX-this.faceX,s=this.faceTargetY-this.faceY;if(!(Math.abs(n)<=this.EPSILON&&Math.abs(s)<=this.EPSILON)){var _=Math.sqrt(n*n+s*s),a=t*n/_,h=t*s/_,l=a-this.faceVX,$=h-this.faceVY,u=Math.sqrt(l*l+$*$);(u<-o||u>o)&&(l*=o/u,$*=o/u,u=o),this.faceVX+=l,this.faceVY+=$;var f=.5*(Math.sqrt(o*o+16*o*_-8*o*_)-o),c=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);c>f&&(this.faceVX*=f/c,this.faceVY*=f/c),this.faceX+=this.faceVX,this.faceY+=this.faceVY}},f.prototype=new _,f.prototype.getMaxScale=function(){return this.max},f.prototype.getMinScale=function(){return this.min},f.prototype.setMaxScale=function(t){this.max=t},f.prototype.setMinScale=function(t){this.min=t},f.prototype.isMaxScale=function(){return this.getScaleX()==this.max},f.prototype.isMinScale=function(){return this.getScaleX()==this.min},f.prototype.adjustTranslate=function(t,i){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+i)<this.screenTop&&(i=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+i)>this.screenBottom&&(i=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var e=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1];_.mul(e,this.tr,this.tr)},f.prototype.adjustScale=function(t,i,e){var r=e*this.tr[0];r<this.min?this.tr[0]>0&&(e=this.min/this.tr[0]):r>this.max&&this.tr[0]>0&&(e=this.max/this.tr[0]);var o=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1],n=[e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-i,0,1];_.mul(s,this.tr,this.tr),_.mul(n,this.tr,this.tr),_.mul(o,this.tr,this.tr)},f.prototype.setScreenRect=function(t,i,e,r){this.screenLeft=t,this.screenRight=i,this.screenTop=r,this.screenBottom=e},f.prototype.setMaxScreenRect=function(t,i,e,r){this.maxLeft=t,this.maxRight=i,this.maxTop=r,this.maxBottom=e},f.prototype.getScreenLeft=function(){return this.screenLeft},f.prototype.getScreenRight=function(){return this.screenRight},f.prototype.getScreenBottom=function(){return this.screenBottom},f.prototype.getScreenTop=function(){return this.screenTop},f.prototype.getMaxLeft=function(){return this.maxLeft},f.prototype.getMaxRight=function(){return this.maxRight},f.prototype.getMaxBottom=function(){return this.maxBottom},f.prototype.getMaxTop=function(){return this.maxTop},c.platformManager=null,c.getPlatformManager=function(){return c.platformManager},c.setPlatformManager=function(t){c.platformManager=t},t.exports={L2DTargetPoint:p,Live2DFramework:c,L2DViewMatrix:f,L2DPose:$,L2DPartsParam:u,L2DPhysics:l,L2DMotionManager:h,L2DModelMatrix:a,L2DMatrix44:_,EYE_STATE:g,L2DEyeBlink:s,L2DExpressionParam:n,L2DExpressionMotion:o,L2DBaseModel:r}},function(t,i,e){"use strict";var r={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,DEBUG_DRAW_HIT_AREA:!1,DEBUG_DRAW_ALPHA_MODEL:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_SLEEPY:2,PRIORITY_NORMAL:3,PRIORITY_FORCE:4,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_SLEEPY:"sleepy",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"};t.exports=r},function(t,i,e){"use strict";function r(t){n=t}function o(){return n}Object.defineProperty(i,"__esModule",{value:!0}),i.setContext=r,i.getContext=o;var n=void 0},function(t,i,e){"use strict";function r(){}r.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.depth=0,r.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.tmp=new Array(16),r.reset=function(){this.depth=0},r.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},r.push=function(){var t=(this.depth,16*(this.depth+1));this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var i=0;i<16;i++)this.matrixStack[t+i]=this.currentMatrix[i];this.depth++},r.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,i=0;i<16;i++)this.currentMatrix[i]=this.matrixStack[t+i]},r.getMatrix=function(){return this.currentMatrix},r.multMatrix=function(t){var i,e,r;for(i=0;i<16;i++)this.tmp[i]=0;for(i=0;i<4;i++)for(e=0;e<4;e++)for(r=0;r<4;r++)this.tmp[i+4*e]+=this.currentMatrix[i+4*r]*t[r+4*e];for(i=0;i<16;i++)this.currentMatrix[i]=this.tmp[i]},t.exports=r},function(t,i,e){t.exports=e(5)},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){C=document.getElementById(t),C.addEventListener&&(window.addEventListener("click",g),window.addEventListener("mousedown",g),window.addEventListener("mousemove",g),window.addEventListener("mouseup",g),document.addEventListener("mouseout",g),window.addEventListener("touchstart",y),window.addEventListener("touchend",y),window.addEventListener("touchmove",y))}function n(t){var i=C.width,e=C.height;N=new M.L2DTargetPoint;var r=e/i,o=w.default.VIEW_LOGICAL_LEFT,n=w.default.VIEW_LOGICAL_RIGHT,_=-r,h=r;if(window.Live2D.captureFrame=!1,B=new M.L2DViewMatrix,B.setScreenRect(o,n,_,h),B.setMaxScreenRect(w.default.VIEW_LOGICAL_MAX_LEFT,w.default.VIEW_LOGICAL_MAX_RIGHT,w.default.VIEW_LOGICAL_MAX_BOTTOM,w.default.VIEW_LOGICAL_MAX_TOP),B.setMaxScale(w.default.VIEW_MAX_SCALE),B.setMinScale(w.default.VIEW_MIN_SCALE),U=new M.L2DMatrix44,U.multScale(1,i/e),G=new M.L2DMatrix44,G.multTranslate(-i/2,-e/2),G.multScale(2/i,-2/i),F=v(),(0,D.setContext)(F),!F)return console.error("Failed to create WebGL context."),void(window.WebGLRenderingContext&&console.error("Your browser don't support WebGL, check https://get.webgl.org/ for futher information."));window.Live2D.setGL(F),F.clearColor(0,0,0,0),a(t),s()}function s(){b||(b=!0,function t(){_();var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(window.Live2D.captureFrame){window.Live2D.captureFrame=!1;var e=document.createElement("a");document.body.appendChild(e),e.setAttribute("type","hidden"),e.href=C.toDataURL(),e.download=window.Live2D.captureName||"live2d.png",e.click()}i(t,C)}())}function _(){O.default.reset(),O.default.loadIdentity(),N.update(),R.setDrag(N.getX(),N.getY()),F.clear(F.COLOR_BUFFER_BIT),O.default.multMatrix(U.getArray()),O.default.multMatrix(B.getArray()),O.default.push();for(var t=0;t<R.numModels();t++){var i=R.getModel(t);if(null==i)return;i.initialized&&!i.updating&&(i.update(),i.draw(F))}O.default.pop()}function a(t){R.reloadFlg=!0,R.count++,R.changeModel(F,t)}function h(t,i){return t.x*i.x+t.y*i.y}function l(t,i){var e=Math.sqrt(t*t+i*i);return{x:t/e,y:i/e}}function $(t,i,e){function r(t,i){return 180*Math.acos(h({x:0,y:1},l(t,i)))/Math.PI}if(i.x<e.left+e.width&&i.y<e.top+e.height&&i.x>e.left&&i.y>e.top)return i;var o=t.x-i.x,n=t.y-i.y,s=r(o,n);i.x<t.x&&(s=360-s);var _=360-r(e.left-t.x,-1*(e.top-t.y)),a=360-r(e.left-t.x,-1*(e.top+e.height-t.y)),$=r(e.left+e.width-t.x,-1*(e.top-t.y)),u=r(e.left+e.width-t.x,-1*(e.top+e.height-t.y)),p=n/o,f={};if(s<$){var c=e.top-t.y,d=c/p;f={y:t.y+c,x:t.x+d}}else if(s<u){var g=e.left+e.width-t.x,y=g*p;f={y:t.y+y,x:t.x+g}}else if(s<a){var m=e.top+e.height-t.y,T=m/p;f={y:t.y+m,x:t.x+T}}else if(s<_){var P=t.x-e.left,S=P*p;f={y:t.y-S,x:t.x-P}}else{var v=e.top-t.y,L=v/p;f={y:t.y+v,x:t.x+L}}return f}function u(t){Y=!0;var i=C.getBoundingClientRect(),e=P(t.clientX-i.left),r=S(t.clientY-i.top),o=$({x:i.left+i.width/2,y:i.top+i.height*X},{x:t.clientX,y:t.clientY},i),n=m(o.x-i.left),s=T(o.y-i.top);w.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+s+")"),k=e,V=r,N.setPoint(n,s)}function p(t){Y=!0;var i=C.getBoundingClientRect(),e=P(t.clientX-i.left),r=S(t.clientY-i.top),o=$({x:i.left+i.width/2,y:i.top+i.height*X},{x:t.clientX,y:t.clientY},i),n=m(o.x-i.left),s=T(o.y-i.top);w.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+s+")"),k=e,V=r,R.tapEvent(n,s)}function f(t){var i=C.getBoundingClientRect(),e=P(t.clientX-i.left),r=S(t.clientY-i.top),o=$({x:i.left+i.width/2,y:i.top+i.height*X},{x:t.clientX,y:t.clientY},i),n=m(o.x-i.left),s=T(o.y-i.top);w.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+s+")"),Y&&(k=e,V=r,N.setPoint(n,s))}function c(){Y&&(Y=!1),N.setPoint(0,0)}function d(){w.default.DEBUG_LOG&&console.log("Set Session Storage."),sessionStorage.setItem("Sleepy","1")}function g(t){if("mousewheel"==t.type);else if("mousedown"==t.type)p(t);else if("mousemove"==t.type){var i=sessionStorage.getItem("Sleepy");"1"===i&&sessionStorage.setItem("Sleepy","0"),u(t)}else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else if("mouseout"==t.type){w.default.DEBUG_LOG&&console.log("Mouse out Window."),c();var e=sessionStorage.getItem("SleepyTimer");window.clearTimeout(e),e=window.setTimeout(d,5e4),sessionStorage.setItem("SleepyTimer",e)}}function y(t){var i=t.touches[0];"touchstart"==t.type?1==t.touches.length&&u(i):"touchmove"==t.type?f(i):"touchend"==t.type&&c()}function m(t){var i=G.transformX(t);return B.invertTransformX(i)}function T(t){var i=G.transformY(t);return B.invertTransformY(i)}function P(t){return G.transformX(t)}function S(t){return G.transformY(t)}function v(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],i=0;i<t.length;i++)try{var e=C.getContext(t[i],{premultipliedAlpha:!0});if(e)return e}catch(t){}return null}function L(t,i,e){X=void 0===e?.5:e,o(t),n(i)}e(6);var M=e(0),E=e(8),A=r(E),I=e(1),w=r(I),x=e(3),O=r(x),D=e(2),R=(window.navigator.platform.toLowerCase(),new A.default),b=!1,F=null,C=null,N=null,B=null,U=null,G=null,Y=!1,k=0,V=0,X=.5;window.loadlive2d=L},function(t,i,e){"use strict";(function(t){!function(){function i(){At||(this._$MT=null,this._$5S=null,this._$NP=0,i._$42++,this._$5S=new Y(this))}function e(t){if(!At){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new S,at.glContext.length>at.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new R,this.tmpMatrix2=new R,this.tmpMatrixForMask=new R,this.tmpMatrixForDraw=new R,this.CHANNEL_COLORS=new Array;var i=new A;i=new A,i.r=0,i.g=0,i.b=0,i.a=1,this.CHANNEL_COLORS.push(i),i=new A,i.r=1,i.g=0,i.b=0,i.a=0,this.CHANNEL_COLORS.push(i),i=new A,i.r=0,i.g=1,i.b=0,i.a=0,this.CHANNEL_COLORS.push(i),i=new A,i.r=0,i.g=0,i.b=1,i.a=0,this.CHANNEL_COLORS.push(i);for(var e=0;e<this.CHANNEL_COLORS.length;e++)this.dp_webgl.setChannelFlagAsColor(e,this.CHANNEL_COLORS[e])}}function r(t,i,e){this.clipIDList=new Array,this.clipIDList=e,this.clippingMaskDrawIndexList=new Array;for(var r=0;r<e.length;r++)this.clippingMaskDrawIndexList.push(i.getDrawDataIndex(e[r]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new S,this.allClippedDrawRect=new S,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function o(t,i){this._$gP=t,this.drawDataIndex=i}function n(){At||(this.color=null)}function s(){At||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function _(){}function a(){this._$r=null,this._$0S=null}function h(){At||(this.x=null,this.y=null,this.width=null,this.height=null)}function l(t){At||et.prototype.constructor.call(this,t)}function $(){}function u(t){At||et.prototype.constructor.call(this,t)}function p(){At||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,p._$42++)}function f(){At||(this.p1=new c,this.p2=new c,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function c(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function d(t,i,e){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=i,this._$V0=e}function g(t,i,e,r){d.prototype.constructor.call(this,i,e,r),this._$tL=null,this._$tL=t}function y(t,i,e){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=i,this._$V0=e}function T(t,i,e,r){y.prototype.constructor.call(this,i,e,r),this._$YP=null,this._$YP=t}function P(){At||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function S(){At||(this.x=null,this.y=null,this.width=null,this.height=null)}function v(){}function L(){At||(this.x=null,this.y=null)}function M(){At||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function E(){At||(this._$Eb=E._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=E.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function A(){At||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=at.L2D_COLOR_BLEND_MODE_MULT)}function I(){At||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function w(){}function x(){At||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=x._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function O(){}function D(){At||(this._$Ob=null)}function R(){this.m=new Float32Array(16),this.identity()}function b(t){At||et.prototype.constructor.call(this,t)}function F(){At||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function C(){At||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=C._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function N(){this._$P=new Float32Array(100),this.size=0}function B(){this._$4P=null,this._$I0=null,this._$RP=null}function U(){}function G(){}function Y(t){At||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(Y._$is),this._$_2=new Float32Array(Y._$is),this._$vr=new Float32Array(Y._$is),this._$Rr=new Float32Array(Y._$is),this._$Or=new Float32Array(Y._$is),this._$fs=new Float32Array(Y._$is),this._$Js=new Array(Y._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(U._$Qb),this._$ZP=new Float32Array(2*U._$1r),this._$Ri=t,this._$b0=Y._$HP++,this.clipManager=null,this.dp_webgl=null)}function k(){}function V(){At||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=wt.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function X(){At||(E.prototype.constructor.call(this),this._$sb=new Int32Array(X._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==X._$NT&&(X._$NT=X._$9r(256),X._$vS=X._$9r(256),X._$no=X._$vb(256)))}function z(){At||(I.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function H(t){_t.prototype.constructor.call(this,t),this._$8r=I._$ur,this._$Yr=null,this._$Wr=null}function W(){At||(M.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function j(){At||(this._$NL=null,this._$3S=null,this._$aS=null,j._$42++)}function q(){At||(i.prototype.constructor.call(this),this._$zo=new X)}function J(){At||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=J._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function Q(t,i){return String.fromCharCode(t.getUint8(i))}function N(){this._$P=new Float32Array(100),this.size=0}function B(){this._$4P=null,this._$I0=null,this._$RP=null}function Z(){At||(I.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function K(t){_t.prototype.constructor.call(this,t),this._$8r=I._$ur,this._$Cr=null,this._$hr=null}function tt(){At||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,tt._$42++)}function it(t){this._$VS=null,this._$e0=null,this._$e0=t}function et(t){At||(this.id=t)}function rt(){}function ot(){At||(this._$4S=null)}function nt(t,i){this.canvas=t,this.context=i,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function st(){At||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function _t(t){At||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function at(){}function ht(){}function lt(t){At||(this._$ib=t)}function $t(){At||(W.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=$t._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=$t._$42++)}function ut(t){Mt.prototype.constructor.call(this,t),this._$8r=W._$ur,this._$Cr=null,this._$hr=null}function pt(){At||(this.x=null,this.y=null)}function ft(t){At||(i.prototype.constructor.call(this),this.drawParamWebGL=new mt(t),this.drawParamWebGL.setGL(at.getGL(t)))}function ct(){At||(this.motions=null,this._$eb=!1,this.motions=new Array)}function dt(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=dt._$Gs++}function gt(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function yt(t){At||et.prototype.constructor.call(this,t)}function mt(t){At||(E.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function Tt(t,i,e){return null==i&&(i=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,e,t.DYNAMIC_DRAW),i}function Pt(t,i,e){return null==i&&(i=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.DYNAMIC_DRAW),i}function St(t){At||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}function vt(){}function Lt(){}function Mt(t){At||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function Et(){}var At=!0;i._$0s=1,i._$4s=2,i._$42=0,i._$62=function(t,e){try{if(e instanceof ArrayBuffer&&(e=new DataView(e)),!(e instanceof DataView))throw new lt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var r,o=new St(e),n=o._$ST(),s=o._$ST(),a=o._$ST();if(109!=n||111!=s||99!=a)throw new lt("_$gi _$C _$li , _$Q0 _$P0.");if(r=o._$ST(),o._$gr(r),r>G._$T7){t._$NP|=i._$4s;throw new lt("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+G._$T7+" < _$f0 : "+r+" )@_$SS#loadModel()\n")}var h=o._$nP();if(r>=G._$s7){var l=o._$9T(),$=o._$9T();if(-30584!=l||-30584!=$)throw t._$NP|=i._$0s,new lt("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(h);var u=t.getModelContext();u.setDrawParam(t.getDrawParam()),u.init()}catch(t){_._$Rb(t)}},i.prototype._$KS=function(t){this._$MT=t},i.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new p,this._$MT._$zP()),this._$MT},i.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},i.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},i.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),this._$5S.getParamFloat(t)},i.prototype.setParamFloat=function(t,i,e){"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),arguments.length<3&&(e=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-e)+i*e)},i.prototype.addToParamFloat=function(t,i,e){"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),arguments.length<3&&(e=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+i*e)},i.prototype.multParamFloat=function(t,i,e){"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),arguments.length<3&&(e=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(i-1)*e))},i.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(u.getID(t))},i.prototype.loadParam=function(){this._$5S.loadParam()},i.prototype.saveParam=function(){this._$5S.saveParam()},i.prototype.init=function(){this._$5S.init()},i.prototype.update=function(){this._$5S.update()},i.prototype._$Rs=function(){return _._$li("_$60 _$PT _$Rs()"),-1},i.prototype._$Ds=function(t){_._$li("_$60 _$PT _$SS#_$Ds() \n")},i.prototype._$K2=function(){},i.prototype.draw=function(){},i.prototype.getModelContext=function(){return this._$5S},i.prototype._$s2=function(){return this._$NP},i.prototype._$P7=function(t,i,e,r){var o=-1,n=0,s=this;if(0!=e)if(1==t.length){var _=t[0],a=0!=s.getParamFloat(_),h=i[0],l=s.getPartsOpacity(h),$=e/r;a?(l+=$)>1&&(l=1):(l-=$)<0&&(l=0),s.setPartsOpacity(h,l)}else{for(var u=0;u<t.length;u++){var _=t[u],p=0!=s.getParamFloat(_);if(p){if(o>=0)break;o=u;var h=i[u];n=s.getPartsOpacity(h),n+=e/r,n>1&&(n=1)}}o<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),o=0,n=1,s.loadParam(),s.setParamFloat(t[o],n),s.saveParam());for(var u=0;u<t.length;u++){var h=i[u];if(o==u)s.setPartsOpacity(h,n);else{var f,c=s.getPartsOpacity(h);f=n<.5?-.5*n/.5+1:.5*(1-n)/.5;var d=(1-f)*(1-n);d>.15&&(f=1-.15/(1-n)),c>f&&(c=f),s.setPartsOpacity(h,c)}}}else for(var u=0;u<t.length;u++){var _=t[u],h=i[u],p=0!=s.getParamFloat(_);s.setPartsOpacity(h,p?1:0)}},i.prototype.setPartsOpacity=function(t,i){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(l.getID(t))),this._$5S.setPartsOpacity(t,i)},i.prototype.getPartsDataIndex=function(t){return t instanceof l||(t=l.getID(t)),this._$5S.getPartsDataIndex(t)},i.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(l.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},i.prototype.getDrawParam=function(){},i.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(b.getID(t))},i.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},i.prototype.getTransformedPoints=function(t){var i=this._$5S._$C2(t);return i instanceof ut?i.getTransformedPoints():null},i.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var i=this._$5S._$aS[t];return null!=i&&i.getType()==W._$wb&&i instanceof $t?i.getIndexArray():null},e.CHANNEL_COUNT=4,e.RENDER_TEXTURE_USE_MIPMAP=!1,e.NOT_USED_FRAME=-100,e.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;t>=0;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},e.prototype.releaseShader=function(){for(var t=at.frameBuffers.length,i=0;i<t;i++)this.gl.deleteFramebuffer(at.frameBuffers[i].framebuffer);at.frameBuffers=[],at.glContext=[]},e.prototype.init=function(t,i,e){for(var o=0;o<i.length;o++){var n=i[o].getClipIDList();if(null!=n){var s=this.findSameClip(n);null==s&&(s=new r(this,t,n),this.clipContextList.push(s));var _=i[o].getDrawDataID(),a=t.getDrawDataIndex(_);s.addClippedDrawData(_,a);e[o].clipBufPre_clipContext=s}}},e.prototype.getMaskRenderTexture=function(){var t=null;return t=this.dp_webgl.createFramebuffer(),at.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},e.prototype.setupClip=function(t,i){for(var e=0,r=0;r<this.clipContextList.length;r++){var o=this.clipContextList[r];this.calcClippedDrawTotalBounds(t,o),o.isUsing&&e++}if(e>0){var n=i.gl.getParameter(i.gl.FRAMEBUFFER_BINDING),s=new Array(4);s[0]=0,s[1]=0,s[2]=i.gl.canvas.width,s[3]=i.gl.canvas.height,i.gl.viewport(0,0,at.clippingMaskBufferSize,at.clippingMaskBufferSize),this.setupLayoutBounds(e),i.gl.bindFramebuffer(i.gl.FRAMEBUFFER,at.frameBuffers[this.curFrameNo].framebuffer),i.gl.clearColor(0,0,0,0),i.gl.clear(i.gl.COLOR_BUFFER_BIT);for(var r=0;r<this.clipContextList.length;r++){var o=this.clipContextList[r],_=o.allClippedDrawRect,a=(o.layoutChannelNo,o.layoutBounds);this.tmpBoundsOnModel._$jL(_),this.tmpBoundsOnModel.expand(.05*_.width,.05*_.height);var h=a.width/this.tmpBoundsOnModel.width,l=a.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(a.x,a.y,0),this.tmpMatrix2.scale(h,l,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(a.x,a.y,0),this.tmpMatrix2.scale(h,l,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var $=this.tmpMatrixForMask.getArray(),u=0;u<16;u++)o.matrixForMask[u]=$[u];for(var p=this.tmpMatrixForDraw.getArray(),u=0;u<16;u++)o.matrixForDraw[u]=p[u];for(var f=o.clippingMaskDrawIndexList.length,c=0;c<f;c++){var d=o.clippingMaskDrawIndexList[c],g=t.getDrawData(d),y=t._$C2(d);i.setClipBufPre_clipContextForMask(o),g.draw(i,t,y)}}i.gl.bindFramebuffer(i.gl.FRAMEBUFFER,n),i.setClipBufPre_clipContextForMask(null),i.gl.viewport(s[0],s[1],s[2],s[3])}},e.prototype.getColorBuffer=function(){return this.colorBuffer},e.prototype.findSameClip=function(t){for(var i=0;i<this.clipContextList.length;i++){var e=this.clipContextList[i],r=e.clipIDList.length;if(r==t.length){for(var o=0,n=0;n<r;n++)for(var s=e.clipIDList[n],_=0;_<r;_++)if(t[_]==s){o++;break}if(o==r)return e}}return null},e.prototype.calcClippedDrawTotalBounds=function(t,i){for(var e=t._$Ri.getModelImpl().getCanvasWidth(),r=t._$Ri.getModelImpl().getCanvasHeight(),o=e>r?e:r,n=o,s=o,_=0,a=0,h=i.clippedDrawContextList.length,l=0;l<h;l++){var $=i.clippedDrawContextList[l],u=$.drawDataIndex,p=t._$C2(u);if(p._$yo()){for(var f=p.getTransformedPoints(),c=f.length,d=[],g=[],y=0,m=U._$i2;m<c;m+=U._$No)d[y]=f[m],g[y]=f[m+1],y++;var T=Math.min.apply(null,d),P=Math.min.apply(null,g),S=Math.max.apply(null,d),v=Math.max.apply(null,g);T<n&&(n=T),P<s&&(s=P),S>_&&(_=S),v>a&&(a=v)}}if(n==o)i.allClippedDrawRect.x=0,i.allClippedDrawRect.y=0,i.allClippedDrawRect.width=0,i.allClippedDrawRect.height=0,i.isUsing=!1;else{var L=_-n,M=a-s;i.allClippedDrawRect.x=n,i.allClippedDrawRect.y=s,i.allClippedDrawRect.width=L,i.allClippedDrawRect.height=M,i.isUsing=!0}},e.prototype.setupLayoutBounds=function(t){var i=t/e.CHANNEL_COUNT,r=t%e.CHANNEL_COUNT;i=~~i,r=~~r;for(var o=0,n=0;n<e.CHANNEL_COUNT;n++){var s=i+(n<r?1:0);if(0==s);else if(1==s){var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=0,a.layoutBounds.y=0,a.layoutBounds.width=1,a.layoutBounds.height=1}else if(2==s)for(var h=0;h<s;h++){var l=h%2,$=0;l=~~l;var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=.5*l,a.layoutBounds.y=0,a.layoutBounds.width=.5,a.layoutBounds.height=1}else if(s<=4)for(var h=0;h<s;h++){var l=h%2,$=h/2;l=~~l,$=~~$;var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=.5*l,a.layoutBounds.y=.5*$,a.layoutBounds.width=.5,a.layoutBounds.height=.5}else if(s<=9)for(var h=0;h<s;h++){var l=h%3,$=h/3;l=~~l,$=~~$;var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=l/3,a.layoutBounds.y=$/3,a.layoutBounds.width=1/3,a.layoutBounds.height=1/3}else _._$li("_$6 _$0P mask count : %d",s)}},r.prototype.addClippedDrawData=function(t,i){var e=new o(t,i);this.clippedDrawContextList.push(e)},s._$JT=function(t,i,e){var r=t/i,o=e/i,n=o,s=1-(1-o)*(1-o),_=1-(1-n)*(1-n),a=1/3*(1-o)*s+(n*(2/3)+1/3*(1-n))*(1-s),h=(n+2/3*(1-n))*_+(o*(1/3)+2/3*(1-o))*(1-_),l=1-3*h+3*a-0,$=3*h-6*a+0,u=3*a-0;if(r<=0)return 0;if(r>=1)return 1;var p=r,f=p*p;return l*(p*f)+$*f+u*p+0},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(t){this._$dP=t},s.prototype.setFadeOut=function(t){this._$eo=t},s.prototype._$pT=function(t){this._$V0=t},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(t,i){if(i._$AT&&!i._$9L){var e=w.getUserTimeMSec();if(i._$z2<0){i._$z2=e,i._$bs=e;var r=this.getDurationMSec();i._$Do<0&&(i._$Do=r<=0?-1:i._$z2+r)}var o=this._$V0;o=o*(0==this._$dP?1:ht._$r2((e-i._$bs)/this._$dP))*(0==this._$eo||i._$Do<0?1:ht._$r2((i._$Do-e)/this._$eo)),0<=o&&o<=1||console.log("### assert!! ### "),this.updateParamExe(t,e,o,i),i._$Do>0&&i._$Do<e&&(i._$9L=!0)}},s.prototype.updateParamExe=function(t,i,e,r){},_._$8s=0,_._$fT=new Object,_.start=function(t){var i=_._$fT[t];null==i&&(i=new a,i._$r=t,_._$fT[t]=i),i._$0S=w.getSystemTimeMSec()},_.dump=function(t){var i=_._$fT[t];if(null!=i){var e=w.getSystemTimeMSec(),r=e-i._$0S;return console.log(t+" : "+r+"ms"),r}return-1},_.end=function(t){var i=_._$fT[t];if(null!=i){return w.getSystemTimeMSec()-i._$0S}return-1},_._$li=function(t,i){console.log("_$li : "+t+"\n",i)},_._$Ji=function(t,i){console.log(t,i)},_._$dL=function(t,i){console.log(t,i),console.log("\n")},_._$KL=function(t,i){for(var e=0;e<i;e++)e%16==0&&e>0?console.log("\n"):e%8==0&&e>0&&console.log("  "),console.log("%02X ",255&t[e]);console.log("\n")},_._$nr=function(t,i,e){console.log("%s\n",t);for(var r=i.length,o=0;o<r;++o)console.log("%5d",i[o]),console.log("%s\n",e),console.log(",");console.log("\n")},_._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},h.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},h.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},h.prototype._$EL=function(){return this.x+this.width},h.prototype._$5T=function(){return this.y+this.height},h.prototype._$jL=function(t,i,e,r){this.x=t,this.y=i,this.width=e,this.height=r},h.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},l.prototype=new et,l._$tP=new Object,l._$27=function(){l._$tP.clear()},l.getID=function(t){var i=l._$tP[t];return null==i&&(i=new l(t),l._$tP[t]=i),i},l.prototype._$3s=function(){return new l},u.prototype=new et,u._$tP=new Object,u._$27=function(){u._$tP.clear()},u.getID=function(t){var i=u._$tP[t];return null==i&&(i=new u(t),u._$tP[t]=i),i},u.prototype._$3s=function(){return new u},p._$42=0,p.prototype._$zP=function(){null==this._$vo&&(this._$vo=new ot),null==this._$F2&&(this._$F2=new Array)},p.prototype.getCanvasWidth=function(){return this._$ao},p.prototype.getCanvasHeight=function(){return this._$1S},p.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},p.prototype._$6S=function(t){this._$F2.push(t)},p.prototype._$Xr=function(){return this._$F2},p.prototype._$E2=function(){return this._$vo},f.prototype.setup=function(t,i,e){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=i,this.p1._$p=e,this.p2._$p=e,this.p2.y=t,this.setup())},f.prototype.getPhysicsPoint1=function(){return this.p1},f.prototype.getPhysicsPoint2=function(){return this.p2},f.prototype._$qr=function(){return this._$Db},f.prototype._$pr=function(t){this._$Db=t},f.prototype._$5r=function(){return this._$M2},f.prototype._$Cs=function(){return this._$9b},f.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},f.prototype.addSrcParam=function(t,i,e,r){var o=new g(t,i,e,r);this._$lL.push(o)},f.prototype.addTargetParam=function(t,i,e,r){var o=new T(t,i,e,r);this._$qP.push(o)},f.prototype.update=function(t,i){if(0==this._$iP)return this._$iP=this._$iT=i,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var e=(i-this._$iT)/1e3;if(0!=e){for(var r=this._$lL.length-1;r>=0;--r){this._$lL[r]._$oP(t,this)}this._$oo(t,e),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/e,this._$ks=this._$M2}for(var r=this._$qP.length-1;r>=0;--r){this._$qP[r]._$YS(t,this)}this._$iT=i},f.prototype._$oo=function(t,i){i<.033&&(i=.033);var e=1/i;this.p1.vx=(this.p1.x-this.p1._$s0)*e,this.p1.vy=(this.p1.y-this.p1._$70)*e,this.p1.ax=(this.p1.vx-this.p1._$7L)*e,this.p1.ay=(this.p1.vy-this.p1._$HL)*e,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var r,o,n=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),s=Math.cos(n),_=Math.sin(n),a=9.8*this.p2._$p,h=this._$Db*Lt._$bS,l=a*Math.cos(n-h);r=l*_,o=l*s;var $=-this.p1.fx*_*_,u=-this.p1.fy*_*s,p=-this.p2.vx*this._$L2,f=-this.p2.vy*this._$L2;this.p2.fx=r+$+p,this.p2.fy=o+u+f,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*i,this.p2.vy+=this.p2.ay*i,this.p2.x+=this.p2.vx*i,this.p2.y+=this.p2.vy*i;var c=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/c,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/c,this.p2.vx=(this.p2.x-this.p2._$s0)*e,this.p2.vy=(this.p2.y-this.p2._$70)*e,this.p2._$xT()},c.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},d.prototype._$oP=function(t,i){},g.prototype=new d,g.prototype._$oP=function(t,i){var e=this.scale*t.getParamFloat(this._$wL),r=i.getPhysicsPoint1();switch(this._$tL){default:case f.Src.SRC_TO_X:r.x=r.x+(e-r.x)*this._$V0;break;case f.Src.SRC_TO_Y:r.y=r.y+(e-r.y)*this._$V0;break;case f.Src.SRC_TO_G_ANGLE:var o=i._$qr();o+=(e-o)*this._$V0,i._$pr(o)}},y.prototype._$YS=function(t,i){},T.prototype=new y,T.prototype._$YS=function(t,i){switch(this._$YP){default:case f.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*i._$5r(),this._$V0);break;case f.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*i._$Cs(),this._$V0)}},f.Src=function(){},f.Src.SRC_TO_X="SRC_TO_X",f.Src.SRC_TO_Y="SRC_TO_Y",f.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",f.Target=function(){},f.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",f.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",P.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},P.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=G.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},P.prototype._$e=function(){};var It=function(){};It._$ni=function(t,i,e,r,o,n,s,_,a){var h=s*n-_*o;if(0==h)return null;var l,$=((t-e)*n-(i-r)*o)/h;return l=0!=o?(t-e-$*s)/o:(i-r-$*_)/n,isNaN(l)&&(l=(t-e-$*s)/o,isNaN(l)&&(l=(i-r-$*_)/n),isNaN(l)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+o),console.log("v1x != 0 ? "+(0!=o)))),null==a?new Array(l,$):(a[0]=l,a[1]=$,a)},S.prototype._$8P=function(){return this.x+.5*this.width},S.prototype._$6P=function(){return this.y+.5*this.height},S.prototype._$EL=function(){return this.x+this.width},S.prototype._$5T=function(){return this.y+this.height},S.prototype._$jL=function(t,i,e,r){this.x=t,this.y=i,this.width=e,this.height=r},S.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},S.prototype.contains=function(t,i){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},S.prototype.expand=function(t,i){this.x-=t,this.y-=i,this.width+=2*t,this.height+=2*i},v._$Z2=function(t,i,e,r){var o=i._$Q2(t,e),n=t._$vs(),s=t._$Tr();if(i._$zr(n,s,o),o<=0)return r[n[0]];if(1==o){var _=r[n[0]],a=r[n[1]],h=s[0];return _+(a-_)*h|0}if(2==o){var _=r[n[0]],a=r[n[1]],l=r[n[2]],$=r[n[3]],h=s[0],u=s[1],p=_+(a-_)*h|0,f=l+($-l)*h|0;return p+(f-p)*u|0}if(3==o){var c=r[n[0]],d=r[n[1]],g=r[n[2]],y=r[n[3]],m=r[n[4]],T=r[n[5]],P=r[n[6]],S=r[n[7]],h=s[0],u=s[1],v=s[2],_=c+(d-c)*h|0,a=g+(y-g)*h|0,l=m+(T-m)*h|0,$=P+(S-P)*h|0,p=_+(a-_)*u|0,f=l+($-l)*u|0;return p+(f-p)*v|0}if(4==o){var L=r[n[0]],M=r[n[1]],E=r[n[2]],A=r[n[3]],I=r[n[4]],w=r[n[5]],x=r[n[6]],O=r[n[7]],D=r[n[8]],R=r[n[9]],b=r[n[10]],F=r[n[11]],C=r[n[12]],N=r[n[13]],B=r[n[14]],U=r[n[15]],h=s[0],u=s[1],v=s[2],G=s[3],c=L+(M-L)*h|0,d=E+(A-E)*h|0,g=I+(w-I)*h|0,y=x+(O-x)*h|0,m=D+(R-D)*h|0,T=b+(F-b)*h|0,P=C+(N-C)*h|0,S=B+(U-B)*h|0,_=c+(d-c)*u|0,a=g+(y-g)*u|0,l=m+(T-m)*u|0,$=P+(S-P)*u|0,p=_+(a-_)*v|0,f=l+($-l)*v|0;return p+(f-p)*G|0}for(var Y=1<<o,k=new Float32Array(Y),V=0;V<Y;V++){for(var X=V,z=1,H=0;H<o;H++)z*=X%2==0?1-s[H]:s[H],X/=2;k[V]=z}for(var W=new Float32Array(Y),j=0;j<Y;j++)W[j]=r[n[j]];for(var q=0,j=0;j<Y;j++)q+=k[j]*W[j];return q+.5|0},v._$br=function(t,i,e,r){var o=i._$Q2(t,e),n=t._$vs(),s=t._$Tr();if(i._$zr(n,s,o),o<=0)return r[n[0]];if(1==o){var _=r[n[0]],a=r[n[1]],h=s[0];return _+(a-_)*h}if(2==o){var _=r[n[0]],a=r[n[1]],l=r[n[2]],$=r[n[3]],h=s[0],u=s[1];return(1-u)*(_+(a-_)*h)+u*(l+($-l)*h)}if(3==o){var p=r[n[0]],f=r[n[1]],c=r[n[2]],d=r[n[3]],g=r[n[4]],y=r[n[5]],m=r[n[6]],T=r[n[7]],h=s[0],u=s[1],P=s[2];return(1-P)*((1-u)*(p+(f-p)*h)+u*(c+(d-c)*h))+P*((1-u)*(g+(y-g)*h)+u*(m+(T-m)*h))}if(4==o){var S=r[n[0]],v=r[n[1]],L=r[n[2]],M=r[n[3]],E=r[n[4]],A=r[n[5]],I=r[n[6]],w=r[n[7]],x=r[n[8]],O=r[n[9]],D=r[n[10]],R=r[n[11]],b=r[n[12]],F=r[n[13]],C=r[n[14]],N=r[n[15]],h=s[0],u=s[1],P=s[2],B=s[3];return(1-B)*((1-P)*((1-u)*(S+(v-S)*h)+u*(L+(M-L)*h))+P*((1-u)*(E+(A-E)*h)+u*(I+(w-I)*h)))+B*((1-P)*((1-u)*(x+(O-x)*h)+u*(D+(R-D)*h))+P*((1-u)*(b+(F-b)*h)+u*(C+(N-C)*h)))}for(var U=1<<o,G=new Float32Array(U),Y=0;Y<U;Y++){for(var k=Y,V=1,X=0;X<o;X++)V*=k%2==0?1-s[X]:s[X],k/=2;G[Y]=V}for(var z=new Float32Array(U),H=0;H<U;H++)z[H]=r[n[H]];for(var W=0,H=0;H<U;H++)W+=G[H]*z[H];return W},v._$Vr=function(t,i,e,r,o,n,s,_){var a=i._$Q2(t,e),h=t._$vs(),l=t._$Tr();i._$zr(h,l,a);var $=2*r,u=s;if(a<=0){var p=h[0],f=o[p];if(2==_&&0==s)w._$jT(f,0,n,0,$);else for(var c=0;c<$;)n[u]=f[c++],n[u+1]=f[c++],u+=_}else if(1==a)for(var f=o[h[0]],d=o[h[1]],g=l[0],y=1-g,c=0;c<$;)n[u]=f[c]*y+d[c]*g,++c,n[u+1]=f[c]*y+d[c]*g,++c,u+=_;else if(2==a)for(var f=o[h[0]],d=o[h[1]],m=o[h[2]],T=o[h[3]],g=l[0],P=l[1],y=1-g,S=1-P,v=S*y,L=S*g,M=P*y,E=P*g,c=0;c<$;)n[u]=v*f[c]+L*d[c]+M*m[c]+E*T[c],++c,n[u+1]=v*f[c]+L*d[c]+M*m[c]+E*T[c],++c,u+=_;else if(3==a)for(var A=o[h[0]],I=o[h[1]],x=o[h[2]],O=o[h[3]],D=o[h[4]],R=o[h[5]],b=o[h[6]],F=o[h[7]],g=l[0],P=l[1],C=l[2],y=1-g,S=1-P,N=1-C,B=N*S*y,U=N*S*g,G=N*P*y,Y=N*P*g,k=C*S*y,V=C*S*g,X=C*P*y,z=C*P*g,c=0;c<$;)n[u]=B*A[c]+U*I[c]+G*x[c]+Y*O[c]+k*D[c]+V*R[c]+X*b[c]+z*F[c],++c,n[u+1]=B*A[c]+U*I[c]+G*x[c]+Y*O[c]+k*D[c]+V*R[c]+X*b[c]+z*F[c],++c,u+=_;else if(4==a)for(var H=o[h[0]],W=o[h[1]],j=o[h[2]],q=o[h[3]],J=o[h[4]],Q=o[h[5]],Z=o[h[6]],K=o[h[7]],tt=o[h[8]],it=o[h[9]],et=o[h[10]],rt=o[h[11]],ot=o[h[12]],nt=o[h[13]],st=o[h[14]],_t=o[h[15]],g=l[0],P=l[1],C=l[2],at=l[3],y=1-g,S=1-P,N=1-C,ht=1-at,lt=ht*N*S*y,$t=ht*N*S*g,ut=ht*N*P*y,pt=ht*N*P*g,ft=ht*C*S*y,ct=ht*C*S*g,dt=ht*C*P*y,gt=ht*C*P*g,yt=at*N*S*y,mt=at*N*S*g,Tt=at*N*P*y,Pt=at*N*P*g,St=at*C*S*y,vt=at*C*S*g,Lt=at*C*P*y,Mt=at*C*P*g,c=0;c<$;)n[u]=lt*H[c]+$t*W[c]+ut*j[c]+pt*q[c]+ft*J[c]+ct*Q[c]+dt*Z[c]+gt*K[c]+yt*tt[c]+mt*it[c]+Tt*et[c]+Pt*rt[c]+St*ot[c]+vt*nt[c]+Lt*st[c]+Mt*_t[c],++c,n[u+1]=lt*H[c]+$t*W[c]+ut*j[c]+pt*q[c]+ft*J[c]+ct*Q[c]+dt*Z[c]+gt*K[c]+yt*tt[c]+mt*it[c]+Tt*et[c]+Pt*rt[c]+St*ot[c]+vt*nt[c]+Lt*st[c]+Mt*_t[c],++c,u+=_;else{for(var Et=1<<a,At=new Float32Array(Et),It=0;It<Et;It++){for(var wt=It,xt=1,Ot=0;Ot<a;Ot++)xt*=wt%2==0?1-l[Ot]:l[Ot],wt/=2;At[It]=xt}for(var Dt=new Float32Array(Et),Rt=0;Rt<Et;Rt++)Dt[Rt]=o[h[Rt]];for(var c=0;c<$;){for(var bt=0,Ft=0,Ct=c+1,Rt=0;Rt<Et;Rt++)bt+=At[Rt]*Dt[Rt][c],Ft+=At[Rt]*Dt[Rt][Ct];c+=2,n[u]=bt,n[u+1]=Ft,u+=_}}},L.prototype._$HT=function(t,i){this.x=t,this.y=i},L.prototype._$HT=function(t){this.x=t.x,this.y=t.y},M._$ur=-2,M._$ES=500,M._$wb=2,M._$8S=3,M._$52=M._$ES,M._$R2=M._$ES,M._$or=function(){return M._$52},M._$Pr=function(){return M._$R2},M.prototype.convertClipIDForV2_11=function(t){var i=[];return null==t?null:0==t.length?null:/,/.test(t)?i=t.id.split(","):(i.push(t.id),i)},M.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=G._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},M.prototype.getClipIDList=function(){return this.clipIDList},M.prototype.init=function(t){},M.prototype._$Nr=function(t,i){if(i._$IS[0]=!1,i._$Us=v._$Z2(t,this._$GS,i._$IS,this._$Lb),at._$Zs);else if(i._$IS[0])return;i._$7s=v._$br(t,this._$GS,i._$IS,this._$mS)},M.prototype._$2b=function(t,i){},M.prototype.getDrawDataID=function(){return this._$gP},M.prototype._$j2=function(t){this._$gP=t},M.prototype.getOpacity=function(t,i){return i._$7s},M.prototype._$zS=function(t,i){return i._$Us},M.prototype._$MS=function(t){for(var i=t.length-1;i>=0;--i){var e=t[i];e<M._$52?M._$52=e:e>M._$R2&&(M._$R2=e)}},M.prototype.getTargetBaseDataID=function(){return this._$dr},M.prototype._$gs=function(t){this._$dr=t},M.prototype._$32=function(){return null!=this._$dr&&this._$dr!=yt._$2o()},M.prototype.preDraw=function(t,i,e){},M.prototype.draw=function(t,i,e){},M.prototype.getType=function(){},M.prototype._$B2=function(t,i,e){},E._$ps=32,E.CLIPPING_PROCESS_NONE=0,E.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,E.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,E.CLIPPING_PROCESS_DRAW=3,E.CLIPPING_PROCESS_CLEAR_ALPHA=4,E.prototype.setChannelFlagAsColor=function(t,i){this.CHANNEL_COLORS[t]=i},E.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},E.prototype._$ZT=function(){},E.prototype._$Uo=function(t,i,e,r,o,n,s){},E.prototype._$Rs=function(){return-1},E.prototype._$Ds=function(t){},E.prototype.setBaseColor=function(t,i,e,r){t<0?t=0:t>1&&(t=1),i<0?i=0:i>1&&(i=1),e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),this._$lT=t,this._$C0=i,this._$tT=e,this._$WL=r},E.prototype._$WP=function(t){this.culling=t},E.prototype.setMatrix=function(t){for(var i=0;i<16;i++)this.matrix4x4[i]=t[i]},E.prototype._$IT=function(){return this.matrix4x4},E.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},E.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},E.prototype.setAnisotropy=function(t){this.anisotropy=t},E.prototype.getAnisotropy=function(){return this.anisotropy},E.prototype.getClippingProcess=function(){return this.clippingProcess},E.prototype.setClippingProcess=function(t){this.clippingProcess=t},E.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},E.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},E.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},E.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},I._$ur=-2,I._$c2=1,I._$_b=2,I.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},I.prototype.readV2_opacity=function(t){t.getFormatVersion()>=G.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},I.prototype.init=function(t){},I.prototype._$Nr=function(t,i){},I.prototype.interpolateOpacity=function(t,i,e,r){null==this._$mS?e.setInterpolatedOpacity(1):e.setInterpolatedOpacity(v._$br(t,i,r,this._$mS))},I.prototype._$2b=function(t,i){},I.prototype._$nb=function(t,i,e,r,o,n,s){},I.prototype.getType=function(){},I.prototype._$gs=function(t){this._$dr=t},I.prototype._$a2=function(t){this._$kP=t},I.prototype.getTargetBaseDataID=function(){return this._$dr},I.prototype.getBaseDataID=function(){return this._$kP},I.prototype._$32=function(){return null!=this._$dr&&this._$dr!=yt._$2o()},w._$W2=0,w._$CS=w._$W2,w._$Mo=function(){return!0},w._$XP=function(t){try{for(var i=getTimeMSec();getTimeMSec()-i<t;);}catch(t){t._$Rb()}},w.getUserTimeMSec=function(){return w._$CS==w._$W2?w.getSystemTimeMSec():w._$CS},w.setUserTimeMSec=function(t){w._$CS=t},w.updateUserTimeMSec=function(){return w._$CS=w.getSystemTimeMSec()},w.getTimeMSec=function(){return(new Date).getTime()},w.getSystemTimeMSec=function(){return(new Date).getTime()},w._$Q=function(t){},w._$jT=function(t,i,e,r,o){for(var n=0;n<o;n++)e[r+n]=t[i+n]},x._$ds=-2,x.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},x.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=x._$ds),this._$8o},x.prototype._$Pb=function(t,i){this._$8o=t,this._$2r=i},x.prototype.getParamID=function(){return this._$wL},x.prototype._$yP=function(t){this._$wL=t},x.prototype._$N2=function(){return this._$VP},x.prototype._$d2=function(){return this._$GP},x.prototype._$t2=function(t,i){this._$VP=t,this._$GP=i},x.prototype._$Lr=function(){return this._$O2},x.prototype._$wr=function(t){this._$O2=t},x.prototype._$SL=function(){return this._$ri},x.prototype._$AL=function(t){this._$ri=t},O.startsWith=function(t,i,e){var r=i+e.length;if(r>=t.length)return!1;for(var o=i;o<r;o++)if(O.getChar(t,o)!=e.charAt(o-i))return!1;return!0},O.getChar=function(t,i){return String.fromCharCode(t.getUint8(i))},O.createString=function(t,i,e){for(var r=new ArrayBuffer(2*e),o=new Uint16Array(r),n=0;n<e;n++)o[n]=t.getUint8(i+n);return String.fromCharCode.apply(null,o)},O._$LS=function(t,i,e,r){t instanceof ArrayBuffer&&(t=new DataView(t));var o=e,n=!1,s=!1,_=0,a=O.getChar(t,o);"-"==a&&(n=!0,o++);for(var h=!1;o<i;o++){switch(a=O.getChar(t,o)){case"0":_*=10;break;case"1":_=10*_+1;break;case"2":_=10*_+2;break;case"3":_=10*_+3;break;case"4":_=10*_+4;break;case"5":_=10*_+5;break;case"6":_=10*_+6;break;case"7":_=10*_+7;break;case"8":_=10*_+8;break;case"9":_=10*_+9;break;case".":s=!0,o++,h=!0;break;default:h=!0}if(h)break}if(s)for(var l=.1,$=!1;o<i;o++){switch(a=O.getChar(t,o)){case"0":break;case"1":_+=1*l;break;case"2":_+=2*l;break;case"3":_+=3*l;break;case"4":_+=4*l;break;case"5":_+=5*l;break;case"6":_+=6*l;break;case"7":_+=7*l;break;case"8":_+=8*l;break;case"9":_+=9*l;break;default:$=!0}if(l*=.1,$)break}return n&&(_=-_),r[0]=o,_},D.prototype._$zP=function(){this._$Ob=new Array},D.prototype._$F0=function(t){this._$Ob=t._$nP()},D.prototype._$Ur=function(t){if(t._$WS())return!0;for(var i=t._$v2(),e=this._$Ob.length-1;e>=0;--e){var r=this._$Ob[e].getParamIndex(i);if(r==x._$ds&&(r=t.getParamIndex(this._$Ob[e].getParamID())),t._$Xb(r))return!0}return!1},D.prototype._$Q2=function(t,i){for(var e,r,o=this._$Ob.length,n=t._$v2(),s=0,_=0;_<o;_++){var a=this._$Ob[_];if(e=a.getParamIndex(n),e==x._$ds&&(e=t.getParamIndex(a.getParamID()),a._$Pb(e,n)),e<0)throw new Exception("err 23242 : "+a.getParamID());var h=e<0?0:t.getParamFloat(e);r=a._$N2();var l,$,u=a._$d2(),p=-1,f=0;if(r<1);else if(1==r)l=u[0],l-U._$J<h&&h<l+U._$J?(p=0,f=0):(p=0,i[0]=!0);else if(l=u[0],h<l-U._$J)p=0,i[0]=!0;else if(h<l+U._$J)p=0;else{for(var c=!1,d=1;d<r;++d){if($=u[d],h<$+U._$J){$-U._$J<h?p=d:(p=d-1,f=(h-l)/($-l),s++),c=!0;break}l=$}c||(p=r-1,f=0,i[0]=!0)}a._$wr(p),a._$AL(f)}return s},D.prototype._$zr=function(t,i,e){var r=1<<e;r+1>U._$Qb&&console.log("err 23245\n");for(var o=this._$Ob.length,n=1,s=1,_=0,a=0;a<r;++a)t[a]=0;for(var h=0;h<o;++h){var l=this._$Ob[h];if(0==l._$SL()){var $=l._$Lr()*n;if($<0&&at._$3T)throw new Exception("err 23246");for(var a=0;a<r;++a)t[a]+=$}else{for(var $=n*l._$Lr(),u=n*(l._$Lr()+1),a=0;a<r;++a)t[a]+=(a/s|0)%2==0?$:u;i[_++]=l._$SL(),s*=2}n*=l._$N2()}t[r]=65535,i[_]=-1},D.prototype._$h2=function(t,i,e){for(var r=new Float32Array(i),o=0;o<i;++o)r[o]=e[o];var n=new x;n._$yP(t),n._$t2(i,r),this._$Ob.push(n)},D.prototype._$J2=function(t){for(var i=t,e=this._$Ob.length,r=0;r<e;++r){var o=this._$Ob[r],n=o._$N2(),s=i%o._$N2(),_=o._$d2()[s];console.log("%s[%d]=%7.2f / ",o.getParamID(),s,_),i/=n}console.log("\n")},D.prototype.getParamCount=function(){return this._$Ob.length},D.prototype._$zs=function(){return this._$Ob},R.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},R.prototype.getArray=function(){return this.m},R.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},R.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var i=0;i<16;i++)this.m[i]=t[i]},R.prototype.mult=function(t,i,e){return null==i?null:(this==i?this.mult_safe(this.m,t.m,i.m,e):this.mult_fast(this.m,t.m,i.m,e),i)},R.prototype.mult_safe=function(t,i,e,r){if(t==e){var o=new Array(16);this.mult_fast(t,i,o,r);for(var n=15;n>=0;--n)e[n]=o[n]}else this.mult_fast(t,i,e,r)},R.prototype.mult_fast=function(t,i,e,r){r?(e[0]=t[0]*i[0]+t[4]*i[1]+t[8]*i[2],e[4]=t[0]*i[4]+t[4]*i[5]+t[8]*i[6],e[8]=t[0]*i[8]+t[4]*i[9]+t[8]*i[10],e[12]=t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12],e[1]=t[1]*i[0]+t[5]*i[1]+t[9]*i[2],e[5]=t[1]*i[4]+t[5]*i[5]+t[9]*i[6],e[9]=t[1]*i[8]+t[5]*i[9]+t[9]*i[10],e[13]=t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13],e[2]=t[2]*i[0]+t[6]*i[1]+t[10]*i[2],e[6]=t[2]*i[4]+t[6]*i[5]+t[10]*i[6],e[10]=t[2]*i[8]+t[6]*i[9]+t[10]*i[10],e[14]=t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14],e[3]=e[7]=e[11]=0,e[15]=1):(e[0]=t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],e[4]=t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],e[8]=t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],e[12]=t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],e[1]=t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],e[5]=t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],e[9]=t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],e[13]=t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],e[2]=t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],e[6]=t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],e[10]=t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],e[14]=t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],e[3]=t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],e[7]=t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],e[11]=t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],e[15]=t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15])},R.prototype.translate=function(t,i,e){this.m[12]=this.m[0]*t+this.m[4]*i+this.m[8]*e+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*i+this.m[9]*e+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*i+this.m[10]*e+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*i+this.m[11]*e+this.m[15]},R.prototype.scale=function(t,i,e){this.m[0]*=t,this.m[4]*=i,this.m[8]*=e,this.m[1]*=t,this.m[5]*=i,this.m[9]*=e,this.m[2]*=t,this.m[6]*=i,this.m[10]*=e,this.m[3]*=t,this.m[7]*=i,this.m[11]*=e},R.prototype.rotateX=function(t){var i=Lt.fcos(t),e=Lt._$9(t),r=this.m[4];this.m[4]=r*i+this.m[8]*e,this.m[8]=r*-e+this.m[8]*i,r=this.m[5],this.m[5]=r*i+this.m[9]*e,this.m[9]=r*-e+this.m[9]*i,r=this.m[6],this.m[6]=r*i+this.m[10]*e,this.m[10]=r*-e+this.m[10]*i,r=this.m[7],this.m[7]=r*i+this.m[11]*e,this.m[11]=r*-e+this.m[11]*i},R.prototype.rotateY=function(t){var i=Lt.fcos(t),e=Lt._$9(t),r=this.m[0];this.m[0]=r*i+this.m[8]*-e,this.m[8]=r*e+this.m[8]*i,r=this.m[1],this.m[1]=r*i+this.m[9]*-e,this.m[9]=r*e+this.m[9]*i,r=m[2],this.m[2]=r*i+this.m[10]*-e,this.m[10]=r*e+this.m[10]*i,r=m[3],this.m[3]=r*i+this.m[11]*-e,this.m[11]=r*e+this.m[11]*i},R.prototype.rotateZ=function(t){var i=Lt.fcos(t),e=Lt._$9(t),r=this.m[0];this.m[0]=r*i+this.m[4]*e,this.m[4]=r*-e+this.m[4]*i,r=this.m[1],this.m[1]=r*i+this.m[5]*e,this.m[5]=r*-e+this.m[5]*i,r=this.m[2],this.m[2]=r*i+this.m[6]*e,this.m[6]=r*-e+this.m[6]*i,r=this.m[3],this.m[3]=r*i+this.m[7]*e,this.m[7]=r*-e+this.m[7]*i},b.prototype=new et,b._$tP=new Object,b._$27=function(){b._$tP.clear()},b.getID=function(t){var i=b._$tP[t];return null==i&&(i=new b(t),b._$tP[t]=i),i},b.prototype._$3s=function(){return new b},F._$kS=-1,F._$pS=0,F._$hb=1,F.STATE_IDENTITY=0,F._$gb=1,F._$fo=2,F._$go=4,F.prototype.transform=function(t,i,e){var r,o,n,s,_,a,h=0,l=0;switch(this._$hi){default:return;case F._$go|F._$fo|F._$gb:for(r=this._$7,o=this._$H,n=this._$k,s=this._$f,_=this._$g,a=this._$w;--e>=0;){var $=t[h++],u=t[h++];i[l++]=r*$+o*u+n,i[l++]=s*$+_*u+a}return;case F._$go|F._$fo:for(r=this._$7,o=this._$H,s=this._$f,_=this._$g;--e>=0;){var $=t[h++],u=t[h++];i[l++]=r*$+o*u,i[l++]=s*$+_*u}return;case F._$go|F._$gb:for(o=this._$H,n=this._$k,s=this._$f,a=this._$w;--e>=0;){var $=t[h++];i[l++]=o*t[h++]+n,i[l++]=s*$+a}return;case F._$go:for(o=this._$H,s=this._$f;--e>=0;){var $=t[h++];i[l++]=o*t[h++],i[l++]=s*$}return;case F._$fo|F._$gb:for(r=this._$7,n=this._$k,_=this._$g,a=this._$w;--e>=0;)i[l++]=r*t[h++]+n,i[l++]=_*t[h++]+a;return;case F._$fo:for(r=this._$7,_=this._$g;--e>=0;)i[l++]=r*t[h++],i[l++]=_*t[h++];return;case F._$gb:for(n=this._$k,a=this._$w;--e>=0;)i[l++]=t[h++]+n,i[l++]=t[h++]+a;return;case F.STATE_IDENTITY:return void(t==i&&h==l||w._$jT(t,h,i,l,2*e))}},F.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=F.STATE_IDENTITY,this._$Z=F._$pS):(this._$hi=F._$gb,this._$Z=F._$hb):0==this._$k&&0==this._$w?(this._$hi=F._$fo,this._$Z=F._$kS):(this._$hi=F._$fo|F._$gb,this._$Z=F._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=F._$go,this._$Z=F._$kS):(this._$hi=F._$go|F._$gb,this._$Z=F._$kS):0==this._$k&&0==this._$w?(this._$hi=F._$go|F._$fo,this._$Z=F._$kS):(this._$hi=F._$go|F._$fo|F._$gb,this._$Z=F._$kS)},F.prototype._$RT=function(t){this._$IT(t);var i=t[0],e=t[2],r=t[1],o=t[3],n=Math.sqrt(i*i+r*r),s=i*o-e*r;0==n?at._$so&&console.log("affine._$RT() / rt==0"):(t[0]=n,t[1]=s/n,t[2]=(r*o+i*e)/s,t[3]=Math.atan2(r,i))},F.prototype._$ho=function(t,i,e,r){var o=new Float32Array(6),n=new Float32Array(6);t._$RT(o),i._$RT(n);var s=new Float32Array(6);s[0]=o[0]+(n[0]-o[0])*e,s[1]=o[1]+(n[1]-o[1])*e,s[2]=o[2]+(n[2]-o[2])*e,s[3]=o[3]+(n[3]-o[3])*e,s[4]=o[4]+(n[4]-o[4])*e,s[5]=o[5]+(n[5]-o[5])*e,r._$CT(s)},F.prototype._$CT=function(t){var i=Math.cos(t[3]),e=Math.sin(t[3]);this._$7=t[0]*i,this._$f=t[0]*e,this._$H=t[1]*(t[2]*i-e),this._$g=t[1]*(t[2]*e+i),this._$k=t[4],this._$w=t[5],this.update()},F.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},C.prototype=new s,C._$cs="VISIBLE:",C._$ar="LAYOUT:",C._$Co=0,C._$D2=[],C._$1T=1,C.loadMotion=function(t){var i=new C,e=[0],r=t.length;i._$yT=0;for(var o=0;o<r;++o){var n=255&t[o];if("\n"!=n&&"\r"!=n)if("#"!=n)if("$"!=n){if("a"<=n&&n<="z"||"A"<=n&&n<="Z"||"_"==n){for(var s=o,_=-1;o<r&&("\r"!=(n=255&t[o])&&"\n"!=n);++o)if("="==n){_=o;break}if(_>=0){var a=new B;O.startsWith(t,s,C._$cs)?(a._$RP=B._$hs,a._$4P=new String(t,s,_-s)):O.startsWith(t,s,C._$ar)?(a._$4P=new String(t,s+7,_-s-7),O.startsWith(t,s+7,"ANCHOR_X")?a._$RP=B._$xs:O.startsWith(t,s+7,"ANCHOR_Y")?a._$RP=B._$us:O.startsWith(t,s+7,"SCALE_X")?a._$RP=B._$qs:O.startsWith(t,s+7,"SCALE_Y")?a._$RP=B._$Ys:O.startsWith(t,s+7,"X")?a._$RP=B._$ws:O.startsWith(t,s+7,"Y")&&(a._$RP=B._$Ns)):(a._$RP=B._$Fr,a._$4P=new String(t,s,_-s)),i.motions.push(a);var h=0;for(C._$D2.clear(),o=_+1;o<r&&("\r"!=(n=255&t[o])&&"\n"!=n);++o)if(","!=n&&" "!=n&&"\t"!=n){var l=O._$LS(t,r,o,e);if(e[0]>0){C._$D2.push(l),h++;var $=e[0];if($<o){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}o=$}}a._$I0=C._$D2._$BL(),h>i._$yT&&(i._$yT=h)}}}else{for(var s=o,_=-1;o<r&&("\r"!=(n=255&t[o])&&"\n"!=n);++o)if("="==n){_=o;break}var u=!1;if(_>=0)for(_==s+4&&"f"==t[s+1]&&"p"==t[s+2]&&"s"==t[s+3]&&(u=!0),o=_+1;o<r&&("\r"!=(n=255&t[o])&&"\n"!=n);++o)if(","!=n&&" "!=n&&"\t"!=n){var l=O._$LS(t,r,o,e);e[0]>0&&u&&5<l&&l<121&&(i._$D0=l),o=e[0]}for(;o<r&&("\n"!=t[o]&&"\r"!=t[o]);++o);}else for(;o<r&&("\n"!=t[o]&&"\r"!=t[o]);++o);}return i._$AS=1e3*i._$yT/i._$D0|0,i},C.prototype.getDurationMSec=function(){return this._$AS},C.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var i=this.motions[t];console.log("_$wL[%s] [%d]. ",i._$4P,i._$I0.length);for(var e=0;e<i._$I0.length&&e<10;e++)console.log("%5.2f ,",i._$I0[e]);console.log("\n")}},C.prototype.updateParamExe=function(t,i,e,r){for(var o=i-r._$z2,n=o*this._$D0/1e3,s=0|n,_=n-s,a=0;a<this.motions.length;a++){var h=this.motions[a],l=h._$I0.length,$=h._$4P;if(h._$RP==B._$hs){var u=h._$I0[s>=l?l-1:s];t.setParamFloat($,u)}else if(B._$ws<=h._$RP&&h._$RP<=B._$Ys);else{var p=t.getParamFloat($),f=h._$I0[s>=l?l-1:s],c=h._$I0[s+1>=l?l-1:s+1],d=f+(c-f)*_,g=p+(d-p)*e;t.setParamFloat($,g)}}s>=this._$yT&&(this._$E?(r._$z2=i,this.loopFadeIn&&(r._$bs=i)):r._$9L=!0)},C.prototype._$r0=function(){return this._$E},C.prototype._$aL=function(t){this._$E=t},C.prototype.isLoopFadeIn=function(){return this.loopFadeIn},C.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},N.prototype.clear=function(){this.size=0},N.prototype.add=function(t){if(this._$P.length<=this.size){var i=new Float32Array(2*this.size);w._$jT(this._$P,0,i,0,this.size),this._$P=i}this._$P[this.size++]=t},N.prototype._$BL=function(){var t=new Float32Array(this.size);return w._$jT(this._$P,0,t,0,this.size),t},B._$Fr=0,B._$hs=1,B._$ws=100,B._$Ns=101,B._$xs=102,B._$us=103,B._$qs=104,B._$Ys=105,U._$Ms=1,U._$Qs=2,U._$i2=0,U._$No=2,U._$do=U._$Ms,U._$Ls=!0,U._$1r=5,U._$Qb=65,U._$J=1e-4,U._$FT=.001,U._$Ss=3,G._$o7=6,G._$S7=7,G._$s7=8,G._$77=9,G.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,G._$T7=G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,G._$Is=-2004318072,G._$h0=0,G._$4L=23,G._$7P=33,G._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\n",t)},G._$9o=function(t){if(t<40)return G._$uT(t),null;if(t<50)return G._$uT(t),null;if(t<60)return G._$uT(t),null;if(t<100)switch(t){case 65:return new Z;case 66:return new D;case 67:return new x;case 68:return new z;case 69:return new P;case 70:return new $t;default:return G._$uT(t),null}else if(t<150)switch(t){case 131:return new st;case 133:return new tt;case 136:return new p;case 137:return new ot;case 142:return new j}return G._$uT(t),null},Y._$HP=0,Y._$_0=!0;Y._$V2=-1,Y._$W0=-1,Y._$jr=!1,Y._$ZS=!0,Y._$tr=-1e6,Y._$lr=1e6,Y._$is=32,Y._$e=!1,Y.prototype.getDrawDataIndex=function(t){for(var i=this._$aS.length-1;i>=0;--i)if(null!=this._$aS[i]&&this._$aS[i].getDrawDataID()==t)return i;return-1},Y.prototype.getDrawData=function(t){if(t instanceof b){if(null==this._$Bo){this._$Bo=new Object;for(var i=this._$aS.length,e=0;e<i;e++){var r=this._$aS[e],o=r.getDrawDataID();null!=o&&(this._$Bo[o]=r)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},Y.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},Y.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var t=this._$Ri.getModelImpl(),i=t._$Xr(),r=i.length,o=new Array,n=new Array,s=0;s<r;++s){var _=i[s];this._$F2.push(_),this._$Hr.push(_.init(this));for(var a=_.getBaseData(),h=a.length,l=0;l<h;++l)o.push(a[l]);for(var l=0;l<h;++l){var $=a[l].init(this);$._$l2(s),n.push($)}for(var u=_.getDrawData(),p=u.length,l=0;l<p;++l){var f=u[l],c=f.init(this);c._$IP=s,this._$aS.push(f),this._$8b.push(c)}}for(var d=o.length,g=yt._$2o();;){for(var y=!1,s=0;s<d;++s){var m=o[s];if(null!=m){var T=m.getTargetBaseDataID();(null==T||T==g||this.getBaseDataIndex(T)>=0)&&(this._$3S.push(m),this._$db.push(n[s]),o[s]=null,y=!0)}}if(!y)break}var P=t._$E2();if(null!=P){var S=P._$1s();if(null!=S)for(var v=S.length,s=0;s<v;++s){var L=S[s];null!=L&&this._$02(L.getParamID(),L.getDefaultValue(),L.getMinValue(),L.getMaxValue())}}this.clipManager=new e(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},Y.prototype.update=function(){Y._$e&&_.start("_$zL");for(var t=this._$_2.length,i=0;i<t;i++)this._$_2[i]!=this._$vr[i]&&(this._$Js[i]=Y._$ZS,this._$vr[i]=this._$_2[i]);var e=this._$3S.length,r=this._$aS.length,o=W._$or(),n=W._$Pr(),s=n-o+1;(null==this._$Ws||this._$Ws.length<s)&&(this._$Ws=new Int16Array(s),this._$Vs=new Int16Array(s));for(var i=0;i<s;i++)this._$Ws[i]=Y._$V2,this._$Vs[i]=Y._$V2;(null==this._$Er||this._$Er.length<r)&&(this._$Er=new Int16Array(r));for(var i=0;i<r;i++)this._$Er[i]=Y._$W0;Y._$e&&_.dump("_$zL"),Y._$e&&_.start("_$UL");for(var a=null,h=0;h<e;++h){var l=this._$3S[h],$=this._$db[h];try{l._$Nr(this,$),l._$2b(this,$)}catch(t){null==a&&(a=t)}}null!=a&&Y._$_0&&_._$Rb(a),Y._$e&&_.dump("_$UL"),Y._$e&&_.start("_$DL");for(var u=null,p=0;p<r;++p){var f=this._$aS[p],c=this._$8b[p];try{if(f._$Nr(this,c),c._$u2())continue;f._$2b(this,c);var d,g=Math.floor(f._$zS(this,c)-o);try{d=this._$Vs[g]}catch(t){console.log("_$li :: %s / %s \t\t\t\t@@_$fS\n",t.toString(),f.getDrawDataID().toString()),g=Math.floor(f._$zS(this,c)-o);continue}d==Y._$V2?this._$Ws[g]=p:this._$Er[d]=p,this._$Vs[g]=p}catch(t){null==u&&(u=t,at._$sT(at._$H7))}}null!=u&&Y._$_0&&_._$Rb(u),Y._$e&&_.dump("_$DL"),Y._$e&&_.start("_$eL");for(var i=this._$Js.length-1;i>=0;i--)this._$Js[i]=Y._$jr;return this._$QT=!1,Y._$e&&_.dump("_$eL"),!1},Y.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},Y.prototype.draw=function(t){if(null==this._$Ws)return void _._$li("call _$Ri.update() before _$Ri.draw() ");var i=this._$Ws.length;t._$ZT();for(var e=0;e<i;++e){var r=this._$Ws[e];if(r!=Y._$V2)for(;;){var o=this._$aS[r],n=this._$8b[r];if(n._$yo()){var s=n._$IP,a=this._$Hr[s];n._$VS=a.getPartsOpacity(),o.draw(t,this,n)}var h=this._$Er[r];if(h<=r||h==Y._$W0)break;r=h}}},Y.prototype.getParamIndex=function(t){for(var i=this._$pb.length-1;i>=0;--i)if(this._$pb[i]==t)return i;return this._$02(t,0,Y._$tr,Y._$lr)},Y.prototype._$BS=function(t){return this.getBaseDataIndex(t)},Y.prototype.getBaseDataIndex=function(t){for(var i=this._$3S.length-1;i>=0;--i)if(null!=this._$3S[i]&&this._$3S[i].getBaseDataID()==t)return i;return-1},Y.prototype._$UT=function(t,i){var e=new Float32Array(i);return w._$jT(t,0,e,0,t.length),e},Y.prototype._$02=function(t,i,e,r){if(this._$qo>=this._$pb.length){var o=this._$pb.length,n=new Array(2*o);w._$jT(this._$pb,0,n,0,o),this._$pb=n,this._$_2=this._$UT(this._$_2,2*o),this._$vr=this._$UT(this._$vr,2*o),this._$Rr=this._$UT(this._$Rr,2*o),this._$Or=this._$UT(this._$Or,2*o);var s=new Array;w._$jT(this._$Js,0,s,0,o),this._$Js=s}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=i,this._$vr[this._$qo]=i,this._$Rr[this._$qo]=e,this._$Or[this._$qo]=r,this._$Js[this._$qo]=Y._$ZS,this._$qo++},Y.prototype._$Zo=function(t,i){this._$3S[t]=i},Y.prototype.setParamFloat=function(t,i){i<this._$Rr[t]&&(i=this._$Rr[t]),i>this._$Or[t]&&(i=this._$Or[t]),this._$_2[t]=i},Y.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),w._$jT(this._$fs,0,this._$_2,0,t)},Y.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),w._$jT(this._$_2,0,this._$fs,0,t)},Y.prototype._$v2=function(){return this._$co},Y.prototype._$WS=function(){return this._$QT},Y.prototype._$Xb=function(t){return this._$Js[t]==Y._$ZS},Y.prototype._$vs=function(){return this._$Es},Y.prototype._$Tr=function(){return this._$ZP},Y.prototype.getBaseData=function(t){return this._$3S[t]},Y.prototype.getParamFloat=function(t){return this._$_2[t]},Y.prototype.getParamMax=function(t){return this._$Or[t]},Y.prototype.getParamMin=function(t){return this._$Rr[t]},Y.prototype.setPartsOpacity=function(t,i){this._$Hr[t].setPartsOpacity(i)},Y.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},Y.prototype.getPartsDataIndex=function(t){for(var i=this._$F2.length-1;i>=0;--i)if(null!=this._$F2[i]&&this._$F2[i]._$p2()==t)return i;return-1},Y.prototype._$q2=function(t){return this._$db[t]},Y.prototype._$C2=function(t){return this._$8b[t]},Y.prototype._$Bb=function(t){return this._$Hr[t]},Y.prototype._$5s=function(t,i){for(var e=this._$Ws.length,r=t,o=0;o<e;++o){var n=this._$Ws[o];if(n!=Y._$V2)for(;;){var s=this._$8b[n];s._$yo()&&(s._$GT()._$B2(this,s,r),r+=i);var _=this._$Er[n];if(_<=n||_==Y._$W0)break;n=_}}},Y.prototype.setDrawParam=function(t){this.dp_webgl=t},Y.prototype.getDrawParam=function(){return this.dp_webgl},k._$0T=function(t){return k._$0T(new _$5(t))},k._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var i,e=t.length(),r=new Int8Array(e),o=new _$Xs(new _$kb(t),8192),n=0;(i=o.read(r,n,e-n))>0;)n+=i;return r},k._$C=function(t){var i=null,e=null;try{i=t instanceof Array?t:new _$Xs(t,8192),e=new _$js;for(var r,o=new Int8Array(1e3);(r=i.read(o))>0;)e.write(o,0,r);return e._$TS()}finally{null!=t&&t.close(),null!=e&&(e.flush(),e.close())}},V.prototype._$T2=function(){return w.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},V.prototype._$uo=function(t){this._$Br=t},V.prototype._$QS=function(t,i,e){this._$Dr=t,this._$Cb=i,this._$mr=e},V.prototype._$7T=function(t){var i,e=w.getUserTimeMSec(),r=0;switch(this._$_L){case STATE_CLOSING:r=(e-this._$bb)/this._$Dr,r>=1&&(r=1,this._$_L=wt.STATE_CLOSED,this._$bb=e),i=1-r;break;case STATE_CLOSED:r=(e-this._$bb)/this._$Cb,r>=1&&(this._$_L=wt.STATE_OPENING,this._$bb=e),i=0;break;case STATE_OPENING:r=(e-this._$bb)/this._$mr,r>=1&&(r=1,this._$_L=wt.STATE_INTERVAL,this._$12=this._$T2()),i=r;break;case STATE_INTERVAL:this._$12<e&&(this._$_L=wt.STATE_CLOSING,this._$bb=e),i=1;break;case STATE_FIRST:default:this._$_L=wt.STATE_INTERVAL,this._$12=this._$T2(),i=1}this._$jo||(i=-i),t.setParamFloat(this._$iL,i),t.setParamFloat(this._$0L,i)};var wt=function(){};wt.STATE_FIRST="STATE_FIRST",wt.STATE_INTERVAL="STATE_INTERVAL",wt.STATE_CLOSING="STATE_CLOSING",wt.STATE_CLOSED="STATE_CLOSED",wt.STATE_OPENING="STATE_OPENING",X.prototype=new E,X._$As=32,X._$Gr=!1,X._$NT=null,X._$vS=null,X._$no=null,X._$9r=function(t){return new Float32Array(t)},X._$vb=function(t){return new Int16Array(t)},X._$cr=function(t,i){return null==t||t._$yL()<i.length?(t=X._$9r(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},X._$mb=function(t,i){return null==t||t._$yL()<i.length?(t=X._$vb(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},X._$Hs=function(){return X._$Gr},X._$as=function(t){X._$Gr=t},X.prototype.setGL=function(t){this.gl=t},X.prototype.setTransform=function(t){this.transform=t},X.prototype._$ZT=function(){},X.prototype._$Uo=function(t,i,e,r,o,n,s,_){if(!(n<.01)){var a=this._$U2[t],h=n>.9?at.EXPAND_W:0;this.gl.drawElements(a,e,r,o,n,h,this.transform,_)}},X.prototype._$Rs=function(){throw new Error("_$Rs")},X.prototype._$Ds=function(t){throw new Error("_$Ds")},X.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++){0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)}},X.prototype.setTexture=function(t,i){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=i},X.prototype.setTexture=function(t,i){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=i},X.prototype._$nS=function(t){var i=Math.max(2*this._$sb.length,t+1+10),e=new Int32Array(i);w._$jT(this._$sb,0,e,0,this._$sb.length),this._$sb=e;var r=new Array;w._$jT(this._$U2,0,r,0,this._$U2.length),this._$U2=r},z.prototype=new I,z._$Xo=new Float32Array(2),z._$io=new Float32Array(2),z._$0o=new Float32Array(2),z._$Lo=new Float32Array(2),z._$To=new Float32Array(2),z._$Po=new Float32Array(2),z._$gT=new Array,z.prototype._$zP=function(){this._$GS=new D,this._$GS._$zP(),this._$Y0=new Array},z.prototype.getType=function(){return I._$c2},z.prototype._$F0=function(t){I.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),I.prototype.readV2_opacity.call(this,t)},z.prototype.init=function(t){var i=new H(this);return i._$Yr=new P,this._$32()&&(i._$Wr=new P),i},z.prototype._$Nr=function(t,i){this!=i._$GT()&&console.log("### assert!! ### ");var e=i;if(this._$GS._$Ur(t)){var r=z._$gT;r[0]=!1;var o=this._$GS._$Q2(t,r);i._$Ib(r[0]),this.interpolateOpacity(t,this._$GS,i,r);var n=t._$vs(),s=t._$Tr();if(this._$GS._$zr(n,s,o),o<=0){var _=this._$Y0[n[0]];e._$Yr.init(_)}else if(1==o){var _=this._$Y0[n[0]],a=this._$Y0[n[1]],h=s[0];e._$Yr._$fL=_._$fL+(a._$fL-_._$fL)*h,e._$Yr._$gL=_._$gL+(a._$gL-_._$gL)*h,e._$Yr._$B0=_._$B0+(a._$B0-_._$B0)*h,e._$Yr._$z0=_._$z0+(a._$z0-_._$z0)*h,e._$Yr._$qT=_._$qT+(a._$qT-_._$qT)*h}else if(2==o){var _=this._$Y0[n[0]],a=this._$Y0[n[1]],l=this._$Y0[n[2]],$=this._$Y0[n[3]],h=s[0],u=s[1],p=_._$fL+(a._$fL-_._$fL)*h,f=l._$fL+($._$fL-l._$fL)*h;e._$Yr._$fL=p+(f-p)*u,p=_._$gL+(a._$gL-_._$gL)*h,f=l._$gL+($._$gL-l._$gL)*h,e._$Yr._$gL=p+(f-p)*u,p=_._$B0+(a._$B0-_._$B0)*h,f=l._$B0+($._$B0-l._$B0)*h,e._$Yr._$B0=p+(f-p)*u,p=_._$z0+(a._$z0-_._$z0)*h,f=l._$z0+($._$z0-l._$z0)*h,e._$Yr._$z0=p+(f-p)*u,p=_._$qT+(a._$qT-_._$qT)*h,f=l._$qT+($._$qT-l._$qT)*h,e._$Yr._$qT=p+(f-p)*u}else if(3==o){var c=this._$Y0[n[0]],d=this._$Y0[n[1]],g=this._$Y0[n[2]],y=this._$Y0[n[3]],m=this._$Y0[n[4]],T=this._$Y0[n[5]],P=this._$Y0[n[6]],S=this._$Y0[n[7]],h=s[0],u=s[1],v=s[2],p=c._$fL+(d._$fL-c._$fL)*h,f=g._$fL+(y._$fL-g._$fL)*h,L=m._$fL+(T._$fL-m._$fL)*h,M=P._$fL+(S._$fL-P._$fL)*h;e._$Yr._$fL=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$gL+(d._$gL-c._$gL)*h,f=g._$gL+(y._$gL-g._$gL)*h,L=m._$gL+(T._$gL-m._$gL)*h,M=P._$gL+(S._$gL-P._$gL)*h,e._$Yr._$gL=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$B0+(d._$B0-c._$B0)*h,f=g._$B0+(y._$B0-g._$B0)*h,L=m._$B0+(T._$B0-m._$B0)*h,M=P._$B0+(S._$B0-P._$B0)*h,e._$Yr._$B0=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$z0+(d._$z0-c._$z0)*h,f=g._$z0+(y._$z0-g._$z0)*h,L=m._$z0+(T._$z0-m._$z0)*h,M=P._$z0+(S._$z0-P._$z0)*h,e._$Yr._$z0=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$qT+(d._$qT-c._$qT)*h,f=g._$qT+(y._$qT-g._$qT)*h,L=m._$qT+(T._$qT-m._$qT)*h,M=P._$qT+(S._$qT-P._$qT)*h,e._$Yr._$qT=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u)}else if(4==o){var E=this._$Y0[n[0]],A=this._$Y0[n[1]],I=this._$Y0[n[2]],w=this._$Y0[n[3]],x=this._$Y0[n[4]],O=this._$Y0[n[5]],D=this._$Y0[n[6]],R=this._$Y0[n[7]],b=this._$Y0[n[8]],F=this._$Y0[n[9]],C=this._$Y0[n[10]],N=this._$Y0[n[11]],B=this._$Y0[n[12]],U=this._$Y0[n[13]],G=this._$Y0[n[14]],Y=this._$Y0[n[15]],h=s[0],u=s[1],v=s[2],k=s[3],p=E._$fL+(A._$fL-E._$fL)*h,f=I._$fL+(w._$fL-I._$fL)*h,L=x._$fL+(O._$fL-x._$fL)*h,M=D._$fL+(R._$fL-D._$fL)*h,V=b._$fL+(F._$fL-b._$fL)*h,X=C._$fL+(N._$fL-C._$fL)*h,H=B._$fL+(U._$fL-B._$fL)*h,W=G._$fL+(Y._$fL-G._$fL)*h;e._$Yr._$fL=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$gL+(A._$gL-E._$gL)*h,f=I._$gL+(w._$gL-I._$gL)*h,L=x._$gL+(O._$gL-x._$gL)*h,M=D._$gL+(R._$gL-D._$gL)*h,V=b._$gL+(F._$gL-b._$gL)*h,X=C._$gL+(N._$gL-C._$gL)*h,H=B._$gL+(U._$gL-B._$gL)*h,W=G._$gL+(Y._$gL-G._$gL)*h,e._$Yr._$gL=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$B0+(A._$B0-E._$B0)*h,f=I._$B0+(w._$B0-I._$B0)*h,L=x._$B0+(O._$B0-x._$B0)*h,M=D._$B0+(R._$B0-D._$B0)*h,V=b._$B0+(F._$B0-b._$B0)*h,X=C._$B0+(N._$B0-C._$B0)*h,H=B._$B0+(U._$B0-B._$B0)*h,W=G._$B0+(Y._$B0-G._$B0)*h,e._$Yr._$B0=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$z0+(A._$z0-E._$z0)*h,f=I._$z0+(w._$z0-I._$z0)*h,L=x._$z0+(O._$z0-x._$z0)*h,M=D._$z0+(R._$z0-D._$z0)*h,V=b._$z0+(F._$z0-b._$z0)*h,X=C._$z0+(N._$z0-C._$z0)*h,H=B._$z0+(U._$z0-B._$z0)*h,W=G._$z0+(Y._$z0-G._$z0)*h,e._$Yr._$z0=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$qT+(A._$qT-E._$qT)*h,f=I._$qT+(w._$qT-I._$qT)*h,L=x._$qT+(O._$qT-x._$qT)*h,M=D._$qT+(R._$qT-D._$qT)*h,V=b._$qT+(F._$qT-b._$qT)*h,X=C._$qT+(N._$qT-C._$qT)*h,H=B._$qT+(U._$qT-B._$qT)*h,W=G._$qT+(Y._$qT-G._$qT)*h,e._$Yr._$qT=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u))}else{for(var j=0|Math.pow(2,o),q=new Float32Array(j),J=0;J<j;J++){for(var Q=J,Z=1,K=0;K<o;K++)Z*=Q%2==0?1-s[K]:s[K],Q/=2;q[J]=Z}for(var tt=new Array,it=0;it<j;it++)tt[it]=this._$Y0[n[it]];for(var et=0,rt=0,ot=0,nt=0,st=0,it=0;it<j;it++)et+=q[it]*tt[it]._$fL,rt+=q[it]*tt[it]._$gL,ot+=q[it]*tt[it]._$B0,nt+=q[it]*tt[it]._$z0,st+=q[it]*tt[it]._$qT;e._$Yr._$fL=et,e._$Yr._$gL=rt,e._$Yr._$B0=ot,e._$Yr._$z0=nt,e._$Yr._$qT=st}var _=this._$Y0[n[0]];e._$Yr.reflectX=_.reflectX,e._$Yr.reflectY=_.reflectY}},z.prototype._$2b=function(t,i){this!=i._$GT()&&console.log("### assert!! ### ");var e=i;if(e._$hS(!0),this._$32()){var r=this.getTargetBaseDataID();if(e._$8r==I._$ur&&(e._$8r=t.getBaseDataIndex(r)),e._$8r<0)at._$so&&_._$li("_$L _$0P _$G :: %s",r),e._$hS(!1);else{var o=t.getBaseData(e._$8r);if(null!=o){var n=t._$q2(e._$8r),s=z._$Xo;s[0]=e._$Yr._$fL,s[1]=e._$Yr._$gL;var a=z._$io;a[0]=0,a[1]=-.1;n._$GT().getType()==I._$c2?a[1]=-10:a[1]=-.1;var h=z._$0o;this._$Jr(t,o,n,s,a,h);var l=Lt._$92(a,h);o._$nb(t,n,s,s,1,0,2),e._$Wr._$fL=s[0],e._$Wr._$gL=s[1],e._$Wr._$B0=e._$Yr._$B0,e._$Wr._$z0=e._$Yr._$z0,e._$Wr._$qT=e._$Yr._$qT-l*Lt._$NS;var $=n.getTotalScale();e.setTotalScale_notForClient($*e._$Wr._$B0);var u=n.getTotalOpacity();e.setTotalOpacity(u*e.getInterpolatedOpacity()),e._$Wr.reflectX=e._$Yr.reflectX,e._$Wr.reflectY=e._$Yr.reflectY,e._$hS(n._$yo())}else e._$hS(!1)}}else e.setTotalScale_notForClient(e._$Yr._$B0),e.setTotalOpacity(e.getInterpolatedOpacity())},z.prototype._$nb=function(t,i,e,r,o,n,s){this!=i._$GT()&&console.log("### assert!! ### ");for(var _,a,h=i,l=null!=h._$Wr?h._$Wr:h._$Yr,$=Math.sin(Lt._$bS*l._$qT),u=Math.cos(Lt._$bS*l._$qT),p=h.getTotalScale(),f=l.reflectX?-1:1,c=l.reflectY?-1:1,d=u*p*f,g=-$*p*c,y=$*p*f,m=u*p*c,T=l._$fL,P=l._$gL,S=o*s,v=n;v<S;v+=s)_=e[v],a=e[v+1],r[v]=d*_+g*a+T,r[v+1]=y*_+m*a+P},z.prototype._$Jr=function(t,i,e,r,o,n){i!=e._$GT()&&console.log("### assert!! ### ");var s=z._$Lo;z._$Lo[0]=r[0],z._$Lo[1]=r[1],i._$nb(t,e,s,s,1,0,2);for(var _=z._$To,a=z._$Po,h=1,l=0;l<10;l++){if(a[0]=r[0]+h*o[0],a[1]=r[1]+h*o[1],i._$nb(t,e,a,_,1,0,2),_[0]-=s[0],_[1]-=s[1],0!=_[0]||0!=_[1])return n[0]=_[0],void(n[1]=_[1]);if(a[0]=r[0]-h*o[0],a[1]=r[1]-h*o[1],i._$nb(t,e,a,_,1,0,2),_[0]-=s[0],_[1]-=s[1],0!=_[0]||0!=_[1])return _[0]=-_[0],_[0]=-_[0],n[0]=_[0],void(n[1]=_[1]);h*=.1}at._$so&&console.log("_$L0 to transform _$SP\n")},H.prototype=new _t,W.prototype=new M,W._$ur=-2,W._$ES=500,W._$wb=2,W._$8S=3,W._$os=4,W._$52=W._$ES,W._$R2=W._$ES,W._$Sb=function(t){for(var i=t.length-1;i>=0;--i){var e=t[i];e<W._$52?W._$52=e:e>W._$R2&&(W._$R2=e)}},W._$or=function(){return W._$52},W._$Pr=function(){return W._$R2},W.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=G._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,W._$Sb(this._$Lb)},W.prototype.getClipIDList=function(){return this.clipIDList},W.prototype._$Nr=function(t,i){if(i._$IS[0]=!1,i._$Us=v._$Z2(t,this._$GS,i._$IS,this._$Lb),at._$Zs);else if(i._$IS[0])return;i._$7s=v._$br(t,this._$GS,i._$IS,this._$mS)},W.prototype._$2b=function(t){},W.prototype.getDrawDataID=function(){return this._$gP},W.prototype._$j2=function(t){this._$gP=t},W.prototype.getOpacity=function(t,i){return i._$7s},W.prototype._$zS=function(t,i){return i._$Us},W.prototype.getTargetBaseDataID=function(){return this._$dr},W.prototype._$gs=function(t){this._$dr=t},W.prototype._$32=function(){return null!=this._$dr&&this._$dr!=yt._$2o()},W.prototype.getType=function(){},j._$42=0,j.prototype._$1b=function(){return this._$3S},j.prototype.getDrawDataList=function(){return this._$aS},j.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},j.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},q.prototype=new i,q.loadModel=function(t){var e=new q;return i._$62(e,t),e},q.loadModel=function(t){var e=new q;return i._$62(e,t),e},q._$to=function(){return new q},q._$er=function(t){var i=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==i.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+i._$PL());for(var e=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],r=q.loadModel(i._$3b()),o=0;o<e.length;o++){var n=new _$5(e[o]);if(0==n.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+n._$PL());r.setTexture(o,_$nL._$_o(t,n._$3b()))}return r},q.prototype.setGL=function(t){this._$zo.setGL(t)},q.prototype.setTransform=function(t){this._$zo.setTransform(t)},q.prototype.draw=function(){this._$5S.draw(this._$zo)},q.prototype._$K2=function(){this._$zo._$K2()},q.prototype.setTexture=function(t,i){null==this._$zo&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,i)},q.prototype.setTexture=function(t,i){null==this._$zo&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,i)},q.prototype._$Rs=function(){return this._$zo._$Rs()},q.prototype._$Ds=function(t){this._$zo._$Ds(t)},q.prototype.getDrawParam=function(){return this._$zo},J.prototype=new s,J._$cs="VISIBLE:",J._$ar="LAYOUT:",J.MTN_PREFIX_FADEIN="FADEIN:",J.MTN_PREFIX_FADEOUT="FADEOUT:",J._$Co=0,J._$1T=1,J.loadMotion=function(t){var i=k._$C(t);return J.loadMotion(i)},J.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var i=new J,e=[0],r=t.byteLength;i._$yT=0;for(var o=0;o<r;++o){var n=Q(t,o),s=n.charCodeAt(0);if("\n"!=n&&"\r"!=n)if("#"!=n)if("$"!=n){if(97<=s&&s<=122||65<=s&&s<=90||"_"==n){for(var _=o,a=-1;o<r&&("\r"!=(n=Q(t,o))&&"\n"!=n);++o)if("="==n){a=o;break}if(a>=0){var h=new B;O.startsWith(t,_,J._$cs)?(h._$RP=B._$hs,h._$4P=O.createString(t,_,a-_)):O.startsWith(t,_,J._$ar)?(h._$4P=O.createString(t,_+7,a-_-7),O.startsWith(t,_+7,"ANCHOR_X")?h._$RP=B._$xs:O.startsWith(t,_+7,"ANCHOR_Y")?h._$RP=B._$us:O.startsWith(t,_+7,"SCALE_X")?h._$RP=B._$qs:O.startsWith(t,_+7,"SCALE_Y")?h._$RP=B._$Ys:O.startsWith(t,_+7,"X")?h._$RP=B._$ws:O.startsWith(t,_+7,"Y")&&(h._$RP=B._$Ns)):(h._$RP=B._$Fr,h._$4P=O.createString(t,_,a-_)),i.motions.push(h);var l=0,$=[];for(o=a+1;o<r&&("\r"!=(n=Q(t,o))&&"\n"!=n);++o)if(","!=n&&" "!=n&&"\t"!=n){var u=O._$LS(t,r,o,e);if(e[0]>0){$.push(u),l++;var p=e[0];if(p<o){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\n");break}o=p-1}}h._$I0=new Float32Array($),l>i._$yT&&(i._$yT=l)}}}else{for(var _=o,a=-1;o<r&&("\r"!=(n=Q(t,o))&&"\n"!=n);++o)if("="==n){a=o;break}var f=!1;if(a>=0)for(a==_+4&&"f"==Q(t,_+1)&&"p"==Q(t,_+2)&&"s"==Q(t,_+3)&&(f=!0),o=a+1;o<r&&("\r"!=(n=Q(t,o))&&"\n"!=n);++o)if(","!=n&&" "!=n&&"\t"!=n){var u=O._$LS(t,r,o,e);e[0]>0&&f&&5<u&&u<121&&(i._$D0=u),o=e[0]}for(;o<r&&("\n"!=Q(t,o)&&"\r"!=Q(t,o));++o);}else for(;o<r&&("\n"!=Q(t,o)&&"\r"!=Q(t,o));++o);}return i._$rr=1e3*i._$yT/i._$D0|0,i},J.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},J.prototype.getLoopDurationMSec=function(){return this._$rr},J.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var i=this.motions[t];console.log("_$wL[%s] [%d]. ",i._$4P,i._$I0.length);for(var e=0;e<i._$I0.length&&e<10;e++)console.log("%5.2f ,",i._$I0[e]);console.log("\n")}},J.prototype.updateParamExe=function(t,i,e,r){for(var o=i-r._$z2,n=o*this._$D0/1e3,s=0|n,_=n-s,a=0;a<this.motions.length;a++){var h=this.motions[a],l=h._$I0.length,$=h._$4P;if(h._$RP==B._$hs){var u=h._$I0[s>=l?l-1:s];t.setParamFloat($,u)}else if(B._$ws<=h._$RP&&h._$RP<=B._$Ys);else{var p,f=t.getParamIndex($),c=t.getModelContext(),d=c.getParamMax(f),g=c.getParamMin(f),y=.4*(d-g),m=c.getParamFloat(f),T=h._$I0[s>=l?l-1:s],P=h._$I0[s+1>=l?l-1:s+1];p=T<P&&P-T>y||T>P&&T-P>y?T:T+(P-T)*_;var S=m+(p-m)*e;t.setParamFloat($,S)}}s>=this._$yT&&(this._$E?(r._$z2=i,this.loopFadeIn&&(r._$bs=i)):r._$9L=!0),this._$eP=e},J.prototype._$r0=function(){return this._$E},J.prototype._$aL=function(t){this._$E=t},J.prototype._$S0=function(){return this._$D0},J.prototype._$U0=function(t){this._$D0=t},J.prototype.isLoopFadeIn=function(){return this.loopFadeIn},J.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},N.prototype.clear=function(){this.size=0},N.prototype.add=function(t){if(this._$P.length<=this.size){var i=new Float32Array(2*this.size);w._$jT(this._$P,0,i,0,this.size),this._$P=i}this._$P[this.size++]=t},N.prototype._$BL=function(){var t=new Float32Array(this.size);return w._$jT(this._$P,0,t,0,this.size),t},B._$Fr=0,B._$hs=1,B._$ws=100,B._$Ns=101,B._$xs=102,B._$us=103,B._$qs=104,B._$Ys=105,Z.prototype=new I,Z._$gT=new Array,Z.prototype._$zP=function(){this._$GS=new D,this._$GS._$zP()},Z.prototype._$F0=function(t){I.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),I.prototype.readV2_opacity.call(this,t)},Z.prototype.init=function(t){var i=new K(this),e=(this._$o+1)*(this._$A+1);return null!=i._$Cr&&(i._$Cr=null),i._$Cr=new Float32Array(2*e),null!=i._$hr&&(i._$hr=null),this._$32()?i._$hr=new Float32Array(2*e):i._$hr=null,i},Z.prototype._$Nr=function(t,i){var e=i;if(this._$GS._$Ur(t)){var r=this._$VT(),o=Z._$gT;o[0]=!1,v._$Vr(t,this._$GS,o,r,this._$Eo,e._$Cr,0,2),i._$Ib(o[0]),this.interpolateOpacity(t,this._$GS,i,o)}},Z.prototype._$2b=function(t,i){var e=i;if(e._$hS(!0),this._$32()){var r=this.getTargetBaseDataID();if(e._$8r==I._$ur&&(e._$8r=t.getBaseDataIndex(r)),e._$8r<0)at._$so&&_._$li("_$L _$0P _$G :: %s",r),e._$hS(!1);else{var o=t.getBaseData(e._$8r),n=t._$q2(e._$8r);if(null!=o&&n._$yo()){var s=n.getTotalScale();e.setTotalScale_notForClient(s);var a=n.getTotalOpacity();e.setTotalOpacity(a*e.getInterpolatedOpacity()),o._$nb(t,n,e._$Cr,e._$hr,this._$VT(),0,2),e._$hS(!0)}else e._$hS(!1)}}else e.setTotalOpacity(e.getInterpolatedOpacity())},Z.prototype._$nb=function(t,i,e,r,o,n,s){var _=i,a=null!=_._$hr?_._$hr:_._$Cr;Z.transformPoints_sdk2(e,r,o,n,s,a,this._$o,this._$A)},Z.transformPoints_sdk2=function(i,e,r,o,n,s,_,a){for(var h,l,$,u=r*n,p=0,f=0,c=0,d=0,g=0,y=0,m=!1,T=o;T<u;T+=n){var P,S,v,L;if(v=i[T],L=i[T+1],P=v*_,S=L*a,P<0||S<0||_<=P||a<=S){var M=_+1;if(!m){m=!0,p=.25*(s[2*(0+0*M)]+s[2*(_+0*M)]+s[2*(0+a*M)]+s[2*(_+a*M)]),f=.25*(s[2*(0+0*M)+1]+s[2*(_+0*M)+1]+s[2*(0+a*M)+1]+s[2*(_+a*M)+1]);var E=s[2*(_+a*M)]-s[2*(0+0*M)],A=s[2*(_+a*M)+1]-s[2*(0+0*M)+1],I=s[2*(_+0*M)]-s[2*(0+a*M)],w=s[2*(_+0*M)+1]-s[2*(0+a*M)+1];c=.5*(E+I),d=.5*(A+w),g=.5*(E-I),y=.5*(A-w),p-=.5*(c+g),f-=.5*(d+y)}if(-2<v&&v<3&&-2<L&&L<3)if(v<=0)if(L<=0){var x=s[2*(0+0*M)],O=s[2*(0+0*M)+1],D=p-2*c,R=f-2*d,b=p-2*g,F=f-2*y,C=p-2*c-2*g,N=f-2*d-2*y,B=.5*(v- -2),U=.5*(L- -2);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L>=1){var b=s[2*(0+a*M)],F=s[2*(0+a*M)+1],C=p-2*c+1*g,N=f-2*d+1*y,x=p+3*g,O=f+3*y,D=p-2*c+3*g,R=f-2*d+3*y,B=.5*(v- -2),U=.5*(L-1);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else{var G=0|S;G==a&&(G=a-1);var B=.5*(v- -2),U=S-G,Y=G/a,k=(G+1)/a,b=s[2*(0+G*M)],F=s[2*(0+G*M)+1],x=s[2*(0+(G+1)*M)],O=s[2*(0+(G+1)*M)+1],C=p-2*c+Y*g,N=f-2*d+Y*y,D=p-2*c+k*g,R=f-2*d+k*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(1<=v)if(L<=0){var D=s[2*(_+0*M)],R=s[2*(_+0*M)+1],x=p+3*c,O=f+3*d,C=p+1*c-2*g,N=f+1*d-2*y,b=p+3*c-2*g,F=f+3*d-2*y,B=.5*(v-1),U=.5*(L- -2);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L>=1){var C=s[2*(_+a*M)],N=s[2*(_+a*M)+1],b=p+3*c+1*g,F=f+3*d+1*y,D=p+1*c+3*g,R=f+1*d+3*y,x=p+3*c+3*g,O=f+3*d+3*y,B=.5*(v-1),U=.5*(L-1);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else{var G=0|S;G==a&&(G=a-1);var B=.5*(v-1),U=S-G,Y=G/a,k=(G+1)/a,C=s[2*(_+G*M)],N=s[2*(_+G*M)+1],D=s[2*(_+(G+1)*M)],R=s[2*(_+(G+1)*M)+1],b=p+3*c+Y*g,F=f+3*d+Y*y,x=p+3*c+k*g,O=f+3*d+k*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L<=0){var V=0|P;V==_&&(V=_-1);var B=P-V,U=.5*(L- -2),X=V/_,z=(V+1)/_,D=s[2*(V+0*M)],R=s[2*(V+0*M)+1],x=s[2*(V+1+0*M)],O=s[2*(V+1+0*M)+1],C=p+X*c-2*g,N=f+X*d-2*y,b=p+z*c-2*g,F=f+z*d-2*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L>=1){var V=0|P;V==_&&(V=_-1);var B=P-V,U=.5*(L-1),X=V/_,z=(V+1)/_,C=s[2*(V+a*M)],N=s[2*(V+a*M)+1],b=s[2*(V+1+a*M)],F=s[2*(V+1+a*M)+1],D=p+X*c+3*g,R=f+X*d+3*y,x=p+z*c+3*g,O=f+z*d+3*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else t.err.printf("_$li calc : %.4f , %.4f\t\t\t\t\t@@BDBoxGrid\n",v,L);else e[T]=p+v*c+L*g,e[T+1]=f+v*d+L*y}else l=P-(0|P),$=S-(0|S),h=2*((0|P)+(0|S)*(_+1)),l+$<1?(e[T]=s[h]*(1-l-$)+s[h+2]*l+s[h+2*(_+1)]*$,e[T+1]=s[h+1]*(1-l-$)+s[h+3]*l+s[h+2*(_+1)+1]*$):(e[T]=s[h+2*(_+1)+2]*(l-1+$)+s[h+2*(_+1)]*(1-l)+s[h+2]*(1-$),e[T+1]=s[h+2*(_+1)+3]*(l-1+$)+s[h+2*(_+1)+1]*(1-l)+s[h+3]*(1-$))}},Z.prototype.transformPoints_sdk1=function(t,i,e,r,o,n,s){for(var _,a,h,l,$,u,p,f=i,c=this._$o,d=this._$A,g=o*s,y=null!=f._$hr?f._$hr:f._$Cr,m=n;m<g;m+=s)at._$ts?(_=e[m],a=e[m+1],_<0?_=0:_>1&&(_=1),a<0?a=0:a>1&&(a=1),_*=c,a*=d,h=0|_,l=0|a,h>c-1&&(h=c-1),l>d-1&&(l=d-1),u=_-h,p=a-l,$=2*(h+l*(c+1))):(_=e[m]*c,a=e[m+1]*d,u=_-(0|_),p=a-(0|a),$=2*((0|_)+(0|a)*(c+1))),u+p<1?(r[m]=y[$]*(1-u-p)+y[$+2]*u+y[$+2*(c+1)]*p,r[m+1]=y[$+1]*(1-u-p)+y[$+3]*u+y[$+2*(c+1)+1]*p):(r[m]=y[$+2*(c+1)+2]*(u-1+p)+y[$+2*(c+1)]*(1-u)+y[$+2]*(1-p),r[m+1]=y[$+2*(c+1)+3]*(u-1+p)+y[$+2*(c+1)+1]*(1-u)+y[$+3]*(1-p))},Z.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Z.prototype.getType=function(){return I._$_b},K.prototype=new _t,tt._$42=0,tt.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},tt.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},tt.prototype.init=function(t){var i=new it(this);return i.setPartsOpacity(this.isVisible()?1:0),i},tt.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},tt.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},tt.prototype._$Zo=function(t){this._$3S=t},tt.prototype._$xo=function(t){this._$aS=t},tt.prototype.isVisible=function(){return this.visible},tt.prototype._$uL=function(){return this._$g0},tt.prototype._$KP=function(t){this.visible=t},tt.prototype._$ET=function(t){this._$g0=t},tt.prototype.getBaseData=function(){return this._$3S},tt.prototype.getDrawData=function(){return this._$aS},tt.prototype._$p2=function(){return this._$NL},tt.prototype._$ob=function(t){this._$NL=t},tt.prototype.getPartsID=function(){return this._$NL},tt.prototype._$MP=function(t){this._$NL=t},it.prototype=new $,it.prototype.getPartsOpacity=function(){return this._$VS},it.prototype.setPartsOpacity=function(t){this._$VS=t},et._$L7=function(){u._$27(),yt._$27(),b._$27(),l._$27()},et.prototype.toString=function(){return this.id},rt.prototype._$F0=function(t){},ot.prototype._$1s=function(){return this._$4S},ot.prototype._$zP=function(){this._$4S=new Array},ot.prototype._$F0=function(t){this._$4S=t._$nP()},ot.prototype._$Ks=function(t){this._$4S.push(t)},nt.tr=new gt,nt._$50=new gt,nt._$Ti=new Array(0,0),nt._$Pi=new Array(0,0),nt._$B=new Array(0,0),nt.prototype._$lP=function(t,i,e,r){this.viewport=new Array(t,i,e,r)},nt.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},nt.prototype._$ei=function(){this.context.restore()},nt.prototype.drawElements=function(t,i,e,r,o,n,s,a){try{o!=this._$Qo&&(this._$Qo=o,this.context.globalAlpha=o);for(var h=i.length,l=t.width,$=t.height,u=this.context,p=this._$xP,f=this._$uP,c=this._$6r,d=this._$3r,g=nt.tr,y=nt._$Ti,m=nt._$Pi,T=nt._$B,P=0;P<h;P+=3){u.save();var S=i[P],v=i[P+1],L=i[P+2],M=p+c*e[2*S],E=f+d*e[2*S+1],A=p+c*e[2*v],I=f+d*e[2*v+1],w=p+c*e[2*L],x=f+d*e[2*L+1];s&&(s._$PS(M,E,T),M=T[0],E=T[1],s._$PS(A,I,T),A=T[0],I=T[1],s._$PS(w,x,T),w=T[0],x=T[1]);var O=l*r[2*S],D=$-$*r[2*S+1],R=l*r[2*v],b=$-$*r[2*v+1],F=l*r[2*L],C=$-$*r[2*L+1],N=Math.atan2(b-D,R-O),B=Math.atan2(I-E,A-M),U=A-M,G=I-E,Y=Math.sqrt(U*U+G*G),k=R-O,V=b-D,X=Math.sqrt(k*k+V*V),z=Y/X;It._$ni(F,C,O,D,R-O,b-D,-(b-D),R-O,y),It._$ni(w,x,M,E,A-M,I-E,-(I-E),A-M,m);var H=(m[0]-y[0])/y[1],W=Math.min(O,R,F),j=Math.max(O,R,F),q=Math.min(D,b,C),J=Math.max(D,b,C),Q=Math.floor(W),Z=Math.floor(q),K=Math.ceil(j),tt=Math.ceil(J);g.identity(),g.translate(M,E),g.rotate(B),g.scale(1,m[1]/y[1]),g.shear(H,0),g.scale(z,z),g.rotate(-N),g.translate(-O,-D),g.setContext(u);if(n||(n=1.2),at.IGNORE_EXPAND&&(n=0),at.USE_CACHED_POLYGON_IMAGE){var it=a._$e0;if(it.gl_cacheImage=it.gl_cacheImage||{},!it.gl_cacheImage[P]){var et=nt.createCanvas(K-Q,tt-Z);at.DEBUG_DATA.LDGL_CANVAS_MB=at.DEBUG_DATA.LDGL_CANVAS_MB||0,at.DEBUG_DATA.LDGL_CANVAS_MB+=(K-Q)*(tt-Z)*4;var rt=et.getContext("2d");rt.translate(-Q,-Z),nt.clip(rt,g,n,Y,O,D,R,b,F,C,M,E,A,I,w,x),rt.drawImage(t,0,0),it.gl_cacheImage[P]={cacheCanvas:et,cacheContext:rt}}u.drawImage(it.gl_cacheImage[P].cacheCanvas,Q,Z)}else at.IGNORE_CLIP||nt.clip(u,g,n,Y,O,D,R,b,F,C,M,E,A,I,w,x),at.USE_ADJUST_TRANSLATION&&(W=0,j=l,q=0,J=$),u.drawImage(t,W,q,j-W,J-q,W,q,j-W,J-q);u.restore()}}catch(t){_._$Rb(t)}},nt.clip=function(t,i,e,r,o,n,s,_,a,h,l,$,u,p,f,c){e>.02?nt.expandClip(t,i,e,r,l,$,u,p,f,c):nt.clipWithTransform(t,null,o,n,s,_,a,h)},nt.expandClip=function(t,i,e,r,o,n,s,_,a,h){var l=s-o,$=_-n,u=a-o,p=h-n,f=l*p-$*u>0?e:-e,c=-$,d=l,g=a-s,y=h-_,m=-y,T=g,P=Math.sqrt(g*g+y*y),S=-p,v=u,L=Math.sqrt(u*u+p*p),M=o-f*c/r,E=n-f*d/r,A=s-f*c/r,I=_-f*d/r,w=s-f*m/P,x=_-f*T/P,O=a-f*m/P,D=h-f*T/P,R=o+f*S/L,b=n+f*v/L,F=a+f*S/L,C=h+f*v/L,N=nt._$50;return null!=i._$P2(N)&&(nt.clipWithTransform(t,N,M,E,A,I,w,x,O,D,F,C,R,b),!0)},nt.clipWithTransform=function(t,i,e,r,o,n,s,a){if(arguments.length<7)return void _._$li("err : @LDGL.clip()");if(!(arguments[1]instanceof gt))return void _._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");var h=nt._$B,l=i,$=arguments;if(t.beginPath(),l){l._$PS($[2],$[3],h),t.moveTo(h[0],h[1]);for(var u=4;u<$.length;u+=2)l._$PS($[u],$[u+1],h),t.lineTo(h[0],h[1])}else{t.moveTo($[2],$[3]);for(var u=4;u<$.length;u+=2)t.lineTo($[u],$[u+1])}t.clip()},nt.createCanvas=function(t,i){var e=document.createElement("canvas");return e.setAttribute("width",t),e.setAttribute("height",i),e||_._$li("err : "+e),e},nt.dumpValues=function(){for(var t="",i=0;i<arguments.length;i++)t+="["+i+"]= "+arguments[i].toFixed(3)+" , ";console.log(t)},st.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},st.prototype.getMinValue=function(){return this._$TT},st.prototype.getMaxValue=function(){return this._$LT},st.prototype.getDefaultValue=function(){return this._$FS},st.prototype.getParamID=function(){return this._$wL},_t.prototype._$yo=function(){return this._$AT&&!this._$JS},_t.prototype._$hS=function(t){this._$AT=t},_t.prototype._$GT=function(){return this._$e0},_t.prototype._$l2=function(t){this._$IP=t},_t.prototype.getPartsIndex=function(){return this._$IP},_t.prototype._$x2=function(){return this._$JS},_t.prototype._$Ib=function(t){this._$JS=t},_t.prototype.getTotalScale=function(){return this.totalScale},_t.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},_t.prototype.getInterpolatedOpacity=function(){return this._$7s},_t.prototype.setInterpolatedOpacity=function(t){this._$7s=t},_t.prototype.getTotalOpacity=function(t){return this.totalOpacity},_t.prototype.setTotalOpacity=function(t){this.totalOpacity=t},at._$2s="2.1.00_1",at._$Kr=201001e3,at._$sP=!0,at._$so=!0,at._$cb=!1,at._$3T=!0,at._$Ts=!0,at._$fb=!0,at._$ts=!0,at.L2D_DEFORMER_EXTEND=!0,at._$Wb=!1;at._$yr=!1,at._$Zs=!1,at.L2D_NO_ERROR=0,at._$i7=1e3,at._$9s=1001,at._$es=1100,at._$r7=2e3,at._$07=2001,at._$b7=2002,at._$H7=4e3,at.L2D_COLOR_BLEND_MODE_MULT=0,at.L2D_COLOR_BLEND_MODE_ADD=1,at.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,at._$6b=!0,at._$cT=0,at.clippingMaskBufferSize=256,at.glContext=new Array,at.frameBuffers=new Array,at.fTexture=new Array,at.IGNORE_CLIP=!1,at.IGNORE_EXPAND=!1,at.EXPAND_W=2,at.USE_ADJUST_TRANSLATION=!0,at.USE_CANVAS_TRANSFORM=!0,at.USE_CACHED_POLYGON_IMAGE=!1,at.DEBUG_DATA={},at.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},at.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_IOS_DEFAULT=at.PROFILE_IOS_QUALITY,at.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.initProfile=function(){Et.isIOS()?at.setupProfile(at.PROFILE_IOS_DEFAULT):Et.isAndroid()?at.setupProfile(at.PROFILE_ANDROID):at.setupProfile(at.PROFILE_DESKTOP)},at.setupProfile=function(t,i){if("number"==typeof t)switch(t){case 9901:t=at.PROFILE_IOS_SPEED;break;case 9902:t=at.PROFILE_IOS_QUALITY;break;case 9903:t=at.PROFILE_IOS_DEFAULT;break;case 9904:t=at.PROFILE_ANDROID;break;case 9905:t=at.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}arguments.length<2&&(i=!0),i&&console.log("profile : "+t.PROFILE_NAME);for(var e in t)at[e]=t[e],i&&console.log("  ["+e+"] = "+t[e])},at.init=function(){if(at._$6b){console.log("Live2D %s",at._$2s),at._$6b=!1;!0,at.initProfile()}},at.getVersionStr=function(){return at._$2s},at.getVersionNo=function(){return at._$Kr},at._$sT=function(t){at._$cT=t},at.getError=function(){var t=at._$cT;return at._$cT=0,t},at.dispose=function(){at.glContext=[],at.frameBuffers=[],at.fTexture=[]},at.setGL=function(t,i){var e=i||0;at.glContext[e]=t},at.getGL=function(t){return at.glContext[t]},at.setClippingMaskBufferSize=function(t){at.clippingMaskBufferSize=t},at.getClippingMaskBufferSize=function(){return at.clippingMaskBufferSize},at.deleteBuffer=function(t){at.getGL(t).deleteFramebuffer(at.frameBuffers[t].framebuffer),delete at.frameBuffers[t],delete at.glContext[t]},ht._$r2=function(t){return t<0?0:t>1?1:.5-.5*Math.cos(t*Lt.PI_F)},lt._$fr=-1,lt.prototype.toString=function(){return this._$ib},$t.prototype=new W,$t._$42=0,$t._$Os=30,$t._$ms=0,$t._$ns=1,$t._$_s=2,$t._$gT=new Array,$t.prototype._$_S=function(t){this._$LP=t},$t.prototype.getTextureNo=function(){return this._$LP},$t.prototype._$ZL=function(){return this._$Qi},$t.prototype._$H2=function(){return this._$JP},$t.prototype.getNumPoints=function(){return this._$d0},$t.prototype.getType=function(){return W._$wb},$t.prototype._$B2=function(t,i,e){var r=i,o=null!=r._$hr?r._$hr:r._$Cr;switch(U._$do){default:case U._$Ms:throw new Error("_$L _$ro ");case U._$Qs:for(var n=this._$d0-1;n>=0;--n)o[n*U._$No+4]=e}},$t.prototype._$zP=function(){this._$GS=new D,this._$GS._$zP()},$t.prototype._$F0=function(t){W.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var i=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var e=3*this._$Yo-1;e>=0;--e)this._$BP[e]=i[e];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=G._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var r=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(r)}0!=(this._$JP&$t._$Os)?this._$6s=(this._$JP&$t._$Os)>>1:this._$6s=$t._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},$t.prototype.init=function(t){var i=new ut(this),e=this._$d0*U._$No,r=this._$32();switch(null!=i._$Cr&&(i._$Cr=null),i._$Cr=new Float32Array(e),null!=i._$hr&&(i._$hr=null),i._$hr=r?new Float32Array(e):null,U._$do){default:case U._$Ms:if(U._$Ls)for(var o=this._$d0-1;o>=0;--o){var n=o<<1;this._$Qi[n+1]=1-this._$Qi[n+1]}break;case U._$Qs:for(var o=this._$d0-1;o>=0;--o){var n=o<<1,s=o*U._$No,_=this._$Qi[n],a=this._$Qi[n+1];i._$Cr[s]=_,i._$Cr[s+1]=a,i._$Cr[s+4]=0,r&&(i._$hr[s]=_,i._$hr[s+1]=a,i._$hr[s+4]=0)}}return i},$t.prototype._$Nr=function(t,i){var e=i;if(this!=e._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(W.prototype._$Nr.call(this,t,e),!e._$IS[0])){var r=$t._$gT;r[0]=!1,v._$Vr(t,this._$GS,r,this._$d0,this._$Eo,e._$Cr,U._$i2,U._$No)}},$t.prototype._$2b=function(t,i){try{this!=i._$GT()&&console.log("### assert!! ### ");var e=!1;i._$IS[0]&&(e=!0);var r=i;if(!e&&(W.prototype._$2b.call(this,t),this._$32())){var o=this.getTargetBaseDataID();if(r._$8r==W._$ur&&(r._$8r=t.getBaseDataIndex(o)),r._$8r<0)at._$so&&_._$li("_$L _$0P _$G :: %s",o);else{var n=t.getBaseData(r._$8r),s=t._$q2(r._$8r);null==n||s._$x2()?r._$AT=!1:(n._$nb(t,s,r._$Cr,r._$hr,this._$d0,U._$i2,U._$No),r._$AT=!0),r.baseOpacity=s.getTotalOpacity()}}}catch(t){throw t}},$t.prototype.draw=function(t,i,e){if(this!=e._$GT()&&console.log("### assert!! ### "),!e._$IS[0]){var r=e,o=this._$LP;o<0&&(o=1);var n=this.getOpacity(i,r)*e._$VS*e.baseOpacity,s=null!=r._$hr?r._$hr:r._$Cr;t.setClipBufPre_clipContextForDraw(e.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(o,3*this._$Yo,this._$BP,s,this._$Qi,n,this._$6s,r)}},$t.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);console.log("\n  _$5i _$30");for(var t=0;t<this._$Eo.length;t++){console.log("\n    _$30[%d] = ",t);for(var i=this._$Eo[t],e=0;e<i.length;e++)console.log("%6.2f, ",i[e])}console.log("\n")},$t.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},$t.prototype.getIndexArray=function(){return this._$BP},ut.prototype=new Mt,ut.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},pt.prototype._$HT=function(t){this.x=t.x,this.y=t.y},pt.prototype._$HT=function(t,i){this.x=t,this.y=i},ft.prototype=new i,ft.loadModel=function(t){var e=new ft;return i._$62(e,t),e},ft.loadModel=function(t,e){var r=e||0,o=new ft(r);return i._$62(o,t),o},ft._$to=function(){return new ft},ft._$er=function(t){var i=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==i.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+i._$PL());for(var e=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],r=ft.loadModel(i._$3b()),o=0;o<e.length;o++){var n=new _$5(e[o]);if(0==n.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+n._$PL());r.setTexture(o,_$nL._$_o(t,n._$3b()))}return r},ft.prototype.setGL=function(t){at.setGL(t)},ft.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},ft.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},ft.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},ft.prototype._$K2=function(){this.drawParamWebGL._$K2()},ft.prototype.setTexture=function(t,i){null==this.drawParamWebGL&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,i)},ft.prototype.setTexture=function(t,i){null==this.drawParamWebGL&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,i)},ft.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},ft.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},ft.prototype.getDrawParam=function(){return this.drawParamWebGL},ft.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},ft.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},ft.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},ft.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},ft.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},ct.prototype._$tb=function(){return this.motions},ct.prototype.startMotion=function(t,i){for(var e=null,r=this.motions.length,o=0;o<r;++o)null!=(e=this.motions[o])&&(e._$qS(e._$w0.getFadeOut()),this._$eb&&_._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n",r,e._$sr));if(null==t)return-1;e=new dt,e._$w0=t,this.motions.push(e);var n=e._$sr;return this._$eb&&_._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n",r,n),n},ct.prototype.updateParam=function(t){try{for(var i=!1,e=0;e<this.motions.length;e++){var r=this.motions[e];if(null!=r){var o=r._$w0;null!=o?(o.updateParam(t,r),i=!0,r.isFinished()&&(this._$eb&&_._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n",this.motions.length-1,r._$sr),this.motions.splice(e,1),e--)):(this.motions=this.motions.splice(e,1),e--)}else this.motions.splice(e,1),e--}return i}catch(t){return _._$li(t),!0}},ct.prototype.isFinished=function(t){if(arguments.length>=1){for(var i=0;i<this.motions.length;i++){var e=this.motions[i];if(null!=e&&(e._$sr==t&&!e.isFinished()))return!1}return!0}for(var i=0;i<this.motions.length;i++){var e=this.motions[i];if(null!=e){if(null!=e._$w0){if(!e.isFinished())return!1}else this.motions.splice(i,1),i--}else this.motions.splice(i,1),i--}return!0},ct.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var i=this.motions[t];if(null!=i){i._$w0;this.motions.splice(t,1),t--}else this.motions.splice(t,1),t--}},ct.prototype._$Zr=function(t){this._$eb=t},ct.prototype._$e=function(){console.log("-- _$R --\n");for(var t=0;t<this.motions.length;t++){var i=this.motions[t],e=i._$w0;console.log("MotionQueueEnt[%d] :: %s\n",this.motions.length,e.toString())}},dt._$Gs=0,dt.prototype.isFinished=function(){return this._$9L},dt.prototype._$qS=function(t){var i=w.getUserTimeMSec(),e=i+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},dt.prototype._$Bs=function(){return this._$sr},gt.prototype.setContext=function(t){var i=this.m;t.transform(i[0],i[1],i[3],i[4],i[6],i[7])},gt.prototype.toString=function(){for(var t="LDTransform { ",i=0;i<9;i++)t+=this.m[i].toFixed(2)+" ,";return t+=" }"},gt.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},gt.prototype._$PS=function(t,i,e){null==e&&(e=new Array(0,0));var r=this.m;return e[0]=r[0]*t+r[3]*i+r[6],e[1]=r[1]*t+r[4]*i+r[7],e},gt.prototype._$P2=function(t){t||(t=new gt);var i=this.m,e=i[0],r=i[1],o=i[2],n=i[3],s=i[4],_=i[5],a=i[6],h=i[7],l=i[8],$=e*s*l+r*_*a+o*n*h-e*_*h-o*s*a-r*n*l;if(0==$)return null;var u=1/$;return t.m[0]=u*(s*l-h*_),t.m[1]=u*(h*o-r*l),t.m[2]=u*(r*_-s*o),t.m[3]=u*(a*_-n*l),t.m[4]=u*(e*l-a*o),t.m[5]=u*(n*o-e*_),t.m[6]=u*(n*h-a*s),t.m[7]=u*(a*r-e*h),t.m[8]=u*(e*s-n*r),t},gt.prototype.transform=function(t,i,e){null==e&&(e=new Array(0,0));var r=this.m;return e[0]=r[0]*t+r[3]*i+r[6],e[1]=r[1]*t+r[4]*i+r[7],e},gt.prototype.translate=function(t,i){var e=this.m;e[6]=e[0]*t+e[3]*i+e[6],e[7]=e[1]*t+e[4]*i+e[7],e[8]=e[2]*t+e[5]*i+e[8]},gt.prototype.scale=function(t,i){var e=this.m;e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=i,e[4]*=i,e[5]*=i},gt.prototype.shear=function(t,i){var e=this.m,r=e[0]+e[3]*i,o=e[1]+e[4]*i,n=e[2]+e[5]*i;e[3]=e[0]*t+e[3],e[4]=e[1]*t+e[4],e[5]=e[2]*t+e[5],e[0]=r,e[1]=o,e[2]=n},gt.prototype.rotate=function(t){var i=this.m,e=Math.cos(t),r=Math.sin(t),o=i[0]*e+i[3]*r,n=i[1]*e+i[4]*r,s=i[2]*e+i[5]*r;i[3]=-i[0]*r+i[3]*e,i[4]=-i[1]*r+i[4]*e,i[5]=-i[2]*r+i[5]*e,i[0]=o,i[1]=n,i[2]=s},gt.prototype.concatenate=function(t){var i=this.m,e=t.m,r=i[0]*e[0]+i[3]*e[1]+i[6]*e[2],o=i[1]*e[0]+i[4]*e[1]+i[7]*e[2],n=i[2]*e[0]+i[5]*e[1]+i[8]*e[2],s=i[0]*e[3]+i[3]*e[4]+i[6]*e[5],_=i[1]*e[3]+i[4]*e[4]+i[7]*e[5],a=i[2]*e[3]+i[5]*e[4]+i[8]*e[5],h=i[0]*e[6]+i[3]*e[7]+i[6]*e[8],l=i[1]*e[6]+i[4]*e[7]+i[7]*e[8],$=i[2]*e[6]+i[5]*e[7]+i[8]*e[8];m[0]=r,m[1]=o,m[2]=n,m[3]=s,m[4]=_,m[5]=a,m[6]=h,m[7]=l,m[8]=$},yt.prototype=new et,yt._$eT=null,yt._$tP=new Object,yt._$2o=function(){return null==yt._$eT&&(yt._$eT=yt.getID("DST_BASE")),yt._$eT},yt._$27=function(){yt._$tP.clear(),yt._$eT=null},yt.getID=function(t){var i=yt._$tP[t];return null==i&&(i=new yt(t),yt._$tP[t]=i),i},yt.prototype._$3s=function(){return new yt},mt.prototype=new E,mt._$9r=function(t){return new Float32Array(t)},mt._$vb=function(t){return new Int16Array(t)},mt._$cr=function(t,i){return null==t||t._$yL()<i.length?(t=mt._$9r(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},mt._$mb=function(t,i){return null==t||t._$yL()<i.length?(t=mt._$vb(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},mt._$Hs=function(){return this._$Gr},mt._$as=function(t){this._$Gr=t},mt.prototype.getGL=function(){return this.gl},mt.prototype.setGL=function(t){this.gl=t},mt.prototype.setTransform=function(t){this.transform=t},mt.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},mt.prototype._$Uo=function(t,i,e,r,o,n,s,_){if(!(n<.01&&null==this.clipBufPre_clipContextMask)){var a=(n>.9&&at.EXPAND_W,this.gl);if(null==this.gl)throw new Error("gl is null");var h=1*this._$C0*n,l=1*this._$tT*n,$=1*this._$WL*n,u=this._$lT*n;if(null!=this.clipBufPre_clipContextMask){a.frontFace(a.CCW),a.useProgram(this.shaderProgram),this._$vS=Tt(a,this._$vS,r),this._$no=Pt(a,this._$no,e),a.enableVertexAttribArray(this.a_position_Loc),a.vertexAttribPointer(this.a_position_Loc,2,a.FLOAT,!1,0,0),this._$NT=Tt(a,this._$NT,o),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.textures[t]),a.uniform1i(this.s_texture0_Loc,1),a.enableVertexAttribArray(this.a_texCoord_Loc),a.vertexAttribPointer(this.a_texCoord_Loc,2,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var p=this.getClipBufPre_clipContextMask().layoutChannelNo,f=this.getChannelFlagAsColor(p);a.uniform4f(this.u_channelFlag,f.r,f.g,f.b,f.a);var c=this.getClipBufPre_clipContextMask().layoutBounds;a.uniform4f(this.u_baseColor_Loc,2*c.x-1,2*c.y-1,2*c._$EL()-1,2*c._$5T()-1),a.uniform1i(this.u_maskFlag_Loc,!0)}else if(null!=this.getClipBufPre_clipContextDraw()){a.useProgram(this.shaderProgramOff),this._$vS=Tt(a,this._$vS,r),this._$no=Pt(a,this._$no,e),a.enableVertexAttribArray(this.a_position_Loc_Off),a.vertexAttribPointer(this.a_position_Loc_Off,2,a.FLOAT,!1,0,0),this._$NT=Tt(a,this._$NT,o),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.textures[t]),a.uniform1i(this.s_texture0_Loc_Off,1),a.enableVertexAttribArray(this.a_texCoord_Loc_Off),a.vertexAttribPointer(this.a_texCoord_Loc_Off,2,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),a.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,at.fTexture[this.glno]),a.uniform1i(this.s_texture1_Loc_Off,2);var p=this.getClipBufPre_clipContextDraw().layoutChannelNo,f=this.getChannelFlagAsColor(p);a.uniform4f(this.u_channelFlag_Loc_Off,f.r,f.g,f.b,f.a),a.uniform4f(this.u_baseColor_Loc_Off,h,l,$,u)}else a.useProgram(this.shaderProgram),this._$vS=Tt(a,this._$vS,r),this._$no=Pt(a,this._$no,e),a.enableVertexAttribArray(this.a_position_Loc),a.vertexAttribPointer(this.a_position_Loc,2,a.FLOAT,!1,0,0),this._$NT=Tt(a,this._$NT,o),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.textures[t]),a.uniform1i(this.s_texture0_Loc,1),a.enableVertexAttribArray(this.a_texCoord_Loc),a.vertexAttribPointer(this.a_texCoord_Loc,2,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),a.uniform4f(this.u_baseColor_Loc,h,l,$,u),a.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(a.CULL_FACE):this.gl.disable(a.CULL_FACE),this.gl.enable(a.BLEND);var d,g,y,m;if(null!=this.clipBufPre_clipContextMask)d=a.ONE,g=a.ONE_MINUS_SRC_ALPHA,y=a.ONE,m=a.ONE_MINUS_SRC_ALPHA;else switch(s){case $t._$ms:d=a.ONE,g=a.ONE_MINUS_SRC_ALPHA,y=a.ONE,m=a.ONE_MINUS_SRC_ALPHA;break;case $t._$ns:d=a.ONE,g=a.ONE,y=a.ZERO,m=a.ONE;break;case $t._$_s:d=a.DST_COLOR,g=a.ONE_MINUS_SRC_ALPHA,y=a.ZERO,m=a.ONE}a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(d,g,y,m),this.anisotropyExt&&a.texParameteri(a.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var T=e.length;a.drawElements(a.TRIANGLES,T,a.UNSIGNED_SHORT,0),a.bindTexture(a.TEXTURE_2D,null)}},mt.prototype._$Rs=function(){throw new Error("_$Rs")},mt.prototype._$Ds=function(t){throw new Error("_$Ds")},mt.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++){0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)}},mt.prototype.setTexture=function(t,i){this.textures[t]=i},mt.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},mt.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},mt.prototype.compileShader=function(t,i){var e=this.gl,r=i,o=e.createShader(t);if(null==o)return _._$Ji("_$L0 to create shader"),null;if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var n=e.getShaderInfoLog(o);return _._$Ji("_$L0 to compile shader : "+n),e.deleteShader(o),null}return o},mt.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return _._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return _._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return _._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return _._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),!t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)){var i=t.getProgramInfoLog(this.shaderProgram);return _._$Ji("_$L0 to link program: "+i),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},mt.prototype.createFramebuffer=function(){var t=this.gl,i=at.clippingMaskBufferSize,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,i,i),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r);var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,i,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),at.fTexture[this.glno]=o,{framebuffer:e,renderbuffer:r,texture:at.fTexture[this.glno]}},St.prototype._$fP=function(){var t,i,e,r=this._$ST();if(0==(128&r))return 255&r;if(0==(128&(t=this._$ST())))return(127&r)<<7|127&t;if(0==(128&(i=this._$ST())))return(127&r)<<14|(127&t)<<7|255&i;if(0==(128&(e=this._$ST())))return(127&r)<<21|(127&t)<<14|(127&i)<<7|255&e;throw new lt("_$L _$0P  _")},St.prototype.getFormatVersion=function(){return this._$S2},St.prototype._$gr=function(t){this._$S2=t},St.prototype._$3L=function(){return this._$fP()},St.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},St.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},St.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},St.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},St.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},St.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new lt("_$L _$q read long")},St.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var xt=!0;St.prototype._$bT=function(){this._$zT();var t=this._$3L(),i=null;if(xt)try{var e=new ArrayBuffer(2*t);i=new Uint16Array(e);for(var r=0;r<t;++r)i[r]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,i)}catch(t){xt=!1}try{var o=new Array;if(null==i)for(var r=0;r<t;++r)o[r]=this._$T.getUint8(this._$F++);else for(var r=0;r<t;++r)o[r]=i[r];return String.fromCharCode.apply(null,o)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},St.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),i=new Int32Array(t),e=0;e<t;e++)i[e]=this._$T.getInt32(this._$F),this._$F+=4;return i},St.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),i=new Float32Array(t),e=0;e<t;e++)i[e]=this._$T.getFloat32(this._$F),this._$F+=4;return i},St.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),i=new Float64Array(t),e=0;e<t;e++)i[e]=this._$T.getFloat64(this._$F),this._$F+=8;return i},St.prototype._$nP=function(){return this._$Jb(-1)},St.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==G._$7P){var i=this._$6L();if(0<=i&&i<this._$Ko.length)return this._$Ko[i];throw new lt("_$sL _$4i @_$m0")}var e=this._$4b(t);return this._$Ko.push(e),e},St.prototype._$4b=function(t){if(0==t)return null;if(50==t){var i=this._$bT(),e=b.getID(i);return e}if(51==t){var i=this._$bT(),e=yt.getID(i);return e}if(134==t){var i=this._$bT(),e=l.getID(i);return e}if(60==t){var i=this._$bT(),e=u.getID(i);return e}if(t>=48){var r=G._$9o(t);return null!=r?(r._$F0(this),r):null}switch(t){case 1:return this._$bT();case 10:return new n(this._$6L(),!0);case 11:return new S(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new S(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new L(this._$mP(),this._$mP());case 14:return new L(this._$_T(),this._$_T());case 15:for(var o=this._$3L(),e=new Array(o),s=0;s<o;s++)e[s]=this._$nP();return e;case 17:var e=new F(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return e;case 21:return new h(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new pt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new lt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new lt("_$6 _$q : _$nP() NO _$i : "+t)}},St.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},St.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},vt.prototype._$wP=function(t,i,e){for(var r=0;r<e;r++){for(var o=0;o<i;o++){var n=2*(o+r*i);console.log("(% 7.3f , % 7.3f) , ",t[n],t[n+1])}console.log("\n")}console.log("\n")},Lt._$2S=Math.PI/180,Lt._$bS=Math.PI/180,Lt._$wS=180/Math.PI,Lt._$NS=180/Math.PI,Lt.PI_F=Math.PI,Lt._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],Lt._$92=function(t,i){var e=Math.atan2(t[1],t[0]),r=Math.atan2(i[1],i[0]);return Lt._$tS(e,r)},Lt._$tS=function(t,i){for(var e=t-i;e<-Math.PI;)e+=2*Math.PI;for(;e>Math.PI;)e-=2*Math.PI;return e},Lt._$9=function(t){return Math.sin(t)},Lt.fcos=function(t){return Math.cos(t)},Mt.prototype._$u2=function(){return this._$IS[0]},Mt.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},Mt.prototype._$GT=function(){return this._$e0},Et._$W2=0,Et.SYSTEM_INFO=null,Et.USER_AGENT=navigator.userAgent,Et.isIPhone=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone},Et.isIOS=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone||Et.SYSTEM_INFO._isIPad},Et.isAndroid=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isAndroid},Et.getOSVersion=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO.version},Et.getOS=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone||Et.SYSTEM_INFO._isIPad?"iOS":Et.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Et.setup=function(){function t(t,i){for(var e=t.substring(i).split(/[ _,;\.]/),r=0,o=0;o<=2&&!isNaN(e[o]);o++){var n=parseInt(e[o]);if(n<0||n>999){_._$li("err : "+n+" @UtHtml5.setup()"),r=0;break}r+=n*Math.pow(1e3,2-o)}return r}var i,e=Et.USER_AGENT,r=Et.SYSTEM_INFO={userAgent:e};if((i=e.indexOf("iPhone OS "))>=0)r.os="iPhone",r._isIPhone=!0,r.version=t(e,i+"iPhone OS ".length);else if((i=e.indexOf("iPad"))>=0){if((i=e.indexOf("CPU OS"))<0)return void _._$li(" err : "+e+" @UtHtml5.setup()");r.os="iPad",r._isIPad=!0,r.version=t(e,i+"CPU OS ".length)}else(i=e.indexOf("Android"))>=0?(r.os="Android",r._isAndroid=!0,r.version=t(e,i+"Android ".length)):(r.os="-",r.version=-1)},window.UtSystem=w,window.UtDebug=_,window.LDTransform=gt,window.LDGL=nt,window.Live2D=at,window.Live2DModelWebGL=ft,window.Live2DModelJS=q,window.Live2DMotion=J,window.MotionQueueManager=ct,window.PhysicsHair=f,window.AMotion=s,window.PartsDataID=l,window.DrawDataID=b,window.BaseDataID=yt,window.ParamID=u,at.init();var At=!1}()}).call(i,e(7))},function(t,i){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),n.Live2DFramework.setPlatformManager(new _.default)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=o;var n=e(0),s=e(9),_=r(s),a=e(10),h=r(a),l=e(1),$=r(l);o.prototype.createModel=function(){var t=new h.default;return this.models.push(t),t},o.prototype.changeModel=function(t,i){if(this.reloadFlg){this.reloadFlg=!1;this.releaseModel(0,t),this.createModel(),this.models[0].load(t,i)}},o.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},o.prototype.releaseModel=function(t,i){this.models.length<=t||(this.models[t].release(i),delete this.models[t],this.models.splice(t,1))},o.prototype.numModels=function(){return this.models.length},o.prototype.setDrag=function(t,i){for(var e=0;e<this.models.length;e++)this.models[e].setDrag(t,i)},o.prototype.maxScaleEvent=function(){$.default.DEBUG_LOG&&console.log("Max scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion($.default.MOTION_GROUP_PINCH_IN,$.default.PRIORITY_NORMAL)},o.prototype.minScaleEvent=function(){$.default.DEBUG_LOG&&console.log("Min scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion($.default.MOTION_GROUP_PINCH_OUT,$.default.PRIORITY_NORMAL)},o.prototype.tapEvent=function(t,i){$.default.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+i);for(var e=0;e<this.models.length;e++)this.models[e].hitTest($.default.HIT_AREA_HEAD,t,i)?($.default.DEBUG_LOG&&console.log("Tap face."),this.models[e].setRandomExpression()):this.models[e].hitTest($.default.HIT_AREA_BODY,t,i)?($.default.DEBUG_LOG&&console.log("Tap body. models["+e+"]"),this.models[e].startRandomMotion($.default.MOTION_GROUP_TAP_BODY,$.default.PRIORITY_NORMAL)):this.models[e].hitTestCustom("head",t,i)?($.default.DEBUG_LOG&&console.log("Tap face."),this.models[e].startRandomMotion($.default.MOTION_GROUP_FLICK_HEAD,$.default.PRIORITY_NORMAL)):this.models[e].hitTestCustom("body",t,i)&&($.default.DEBUG_LOG&&console.log("Tap body. models["+e+"]"),this.models[e].startRandomMotion($.default.MOTION_GROUP_TAP_BODY,$.default.PRIORITY_NORMAL));return!0}},function(t,i,e){"use strict";function r(){}Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;var o=e(2);var requestCache={};r.prototype.loadBytes=function(t,i){if(requestCache[t]!==undefined){i(requestCache[t]);return;}var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){switch(e.status){case 200:requestCache[t]=e.response;i(e.response);break;default:console.error("Failed to load ("+e.status+") : "+t)}},e.send(null)},r.prototype.loadString=function(t){this.loadBytes(t,function(t){return t})},r.prototype.loadLive2DModel=function(t,i){var e=null;this.loadBytes(t,function(t){e=Live2DModelWebGL.loadModel(t),i(e)})},r.prototype.loadTexture=function(t,i,e,r){var n=new Image;n.crossOrigin="Anonymous",n.src=e;n.onload=function(){var e=(0,o.getContext)(),s=e.createTexture();if(!s)return console.error("Failed to generate gl texture name."),-1;0==t.isPremultipliedAlpha()&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D),t.setTexture(i,s),s=null,"function"==typeof r&&r()},n.onerror=function(){console.error("Failed to load image : "+e)}},r.prototype.jsonParseFromBytes=function(t){var i,e=new Uint8Array(t,0,3);return i=239==e[0]&&187==e[1]&&191==e[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(i)},r.prototype.log=function(t){}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){n.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(i,"__esModule",{value:!0}),i.default=o;var n=e(0),s=e(11),_=r(s),a=e(1),h=r(a),l=e(3),$=r(l);o.prototype=new n.L2DBaseModel,o.prototype.load=function(t,i,e){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=i.substring(0,i.lastIndexOf("/")+1),this.modelSetting=new _.default;var r=this;this.modelSetting.loadModelSetting(i,function(){var t=r.modelHomeDir+r.modelSetting.getModelFile();r.loadModelData(t,function(t){for(var i=0;i<r.modelSetting.getTextureNum();i++){if(/^https?:\/\/|^\/\//i.test(r.modelSetting.getTextureFile(i)))var o=r.modelSetting.getTextureFile(i);else var o=r.modelHomeDir+r.modelSetting.getTextureFile(i);r.loadTexture(i,o,function(){if(r.isTexLoaded){if(r.modelSetting.getExpressionNum()>0){r.expressions={};for(var t=0;t<r.modelSetting.getExpressionNum();t++){var i=r.modelSetting.getExpressionName(t),o=r.modelHomeDir+r.modelSetting.getExpressionFile(t);r.loadExpression(i,o)}}else r.expressionManager=null,r.expressions={};if(r.eyeBlink,null!=r.modelSetting.getPhysicsFile()?r.loadPhysics(r.modelHomeDir+r.modelSetting.getPhysicsFile()):r.physics=null,null!=r.modelSetting.getPoseFile()?r.loadPose(r.modelHomeDir+r.modelSetting.getPoseFile(),function(){r.pose.updateParam(r.live2DModel)}):r.pose=null,null!=r.modelSetting.getLayout()){var n=r.modelSetting.getLayout();null!=n.width&&r.modelMatrix.setWidth(n.width),null!=n.height&&r.modelMatrix.setHeight(n.height),null!=n.x&&r.modelMatrix.setX(n.x),null!=n.y&&r.modelMatrix.setY(n.y),null!=n.center_x&&r.modelMatrix.centerX(n.center_x),null!=n.center_y&&r.modelMatrix.centerY(n.center_y),null!=n.top&&r.modelMatrix.top(n.top),null!=n.bottom&&r.modelMatrix.bottom(n.bottom),null!=n.left&&r.modelMatrix.left(n.left),null!=n.right&&r.modelMatrix.right(n.right)}if(null!=r.modelSetting.getHitAreasCustom()){var s=r.modelSetting.getHitAreasCustom();null!=s.head_x&&(h.default.hit_areas_custom_head_x=s.head_x),null!=s.head_y&&(h.default.hit_areas_custom_head_y=s.head_y),null!=s.body_x&&(h.default.hit_areas_custom_body_x=s.body_x),null!=s.body_y&&(h.default.hit_areas_custom_body_y=s.body_y)}for(var t=0;t<r.modelSetting.getInitParamNum();t++)r.live2DModel.setParamFloat(r.modelSetting.getInitParamID(t),r.modelSetting.getInitParamValue(t));for(var t=0;t<r.modelSetting.getInitPartsVisibleNum();t++)r.live2DModel.setPartsOpacity(r.modelSetting.getInitPartsVisibleID(t),r.modelSetting.getInitPartsVisibleValue(t));r.live2DModel.saveParam(),r.preloadMotionGroup(h.default.MOTION_GROUP_IDLE),r.preloadMotionGroup(h.default.MOTION_GROUP_SLEEPY),r.mainMotionManager.stopAllMotions(),r.setUpdating(!1),r.setInitialized(!0),"function"==typeof e&&e()}})}})})},o.prototype.release=function(t){var i=n.Live2DFramework.getPlatformManager();t.deleteTexture(i.texture)},o.prototype.preloadMotionGroup=function(t){for(var i=this,e=0;e<this.modelSetting.getMotionNum(t);e++){var r=this.modelSetting.getMotionFile(t,e);this.loadMotion(r,this.modelHomeDir+r,function(r){r.setFadeIn(i.modelSetting.getMotionFadeIn(t,e)),r.setFadeOut(i.modelSetting.getMotionFadeOut(t,e))})}},o.prototype.update=function(){if(null==this.live2DModel)return void(h.default.DEBUG_LOG&&console.error("Failed to update."));var t=UtSystem.getUserTimeMSec()-this.startTimeMSec,i=t/1e3,e=2*i*Math.PI;if(this.mainMotionManager.isFinished()){"1"===sessionStorage.getItem("Sleepy")?this.startRandomMotion(h.default.MOTION_GROUP_SLEEPY,h.default.PRIORITY_SLEEPY):this.startRandomMotion(h.default.MOTION_GROUP_IDLE,h.default.PRIORITY_IDLE)}this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(e/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(e/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(e/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(e/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(e/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()},o.prototype.setRandomExpression=function(){var t=[];for(var i in this.expressions)t.push(i);var e=parseInt(Math.random()*t.length);this.setExpression(t[e])},o.prototype.startRandomMotion=function(t,i){var e=this.modelSetting.getMotionNum(t),r=parseInt(Math.random()*e);this.startMotion(t,r,i)},o.prototype.startMotion=function(t,i,e){var r=this.modelSetting.getMotionFile(t,i);if(null==r||""==r)return void(h.default.DEBUG_LOG&&console.error("Failed to motion."));if(e==h.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(e);else if(!this.mainMotionManager.reserveMotion(e))return void(h.default.DEBUG_LOG&&console.log("Motion is running."));var o,n=this;null==this.motions[t]?this.loadMotion(null,this.modelHomeDir+r,function(r){o=r,n.setFadeInFadeOut(t,i,e,o)}):(o=this.motions[t],n.setFadeInFadeOut(t,i,e,o))},o.prototype.setFadeInFadeOut=function(t,i,e,r){var o=this.modelSetting.getMotionFile(t,i);if(r.setFadeIn(this.modelSetting.getMotionFadeIn(t,i)),r.setFadeOut(this.modelSetting.getMotionFadeOut(t,i)),h.default.DEBUG_LOG&&console.log("Start motion : "+o),null==this.modelSetting.getMotionSound(t,i))this.mainMotionManager.startMotionPrio(r,e);else{var n=this.modelSetting.getMotionSound(t,i),s=document.createElement("audio");s.src=this.modelHomeDir+n,h.default.DEBUG_LOG&&console.log("Start sound : "+n),s.play(),this.mainMotionManager.startMotionPrio(r,e)}},o.prototype.setExpression=function(t){var i=this.expressions[t];h.default.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(i,!1)},o.prototype.draw=function(t){$.default.push(),$.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=$.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),$.default.pop()},o.prototype.hitTest=function(t,i,e){for(var r=this.modelSetting.getHitAreaNum(),o=0;o<r;o++)if(t==this.modelSetting.getHitAreaName(o)){var n=this.modelSetting.getHitAreaID(o);return this.hitTestSimple(n,i,e)}return!1},o.prototype.hitTestCustom=function(t,i,e){return"head"==t?this.hitTestSimpleCustom(h.default.hit_areas_custom_head_x,h.default.hit_areas_custom_head_y,i,e):"body"==t&&this.hitTestSimpleCustom(h.default.hit_areas_custom_body_x,h.default.hit_areas_custom_body_y,i,e)}},function(t,i,e){"use strict";function r(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.HIT_AREAS_CUSTOM="hit_areas_custom",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;var o=e(0);r.prototype.loadModelSetting=function(t,i){var e=this;o.Live2DFramework.getPlatformManager().loadBytes(t,function(t){var r=String.fromCharCode.apply(null,new Uint8Array(t));e.json=JSON.parse(r),i()})},r.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},r.prototype.getModelFile=function(){return this.json[this.MODEL]},r.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},r.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},r.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},r.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},r.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},r.prototype.getPoseFile=function(){return this.json[this.POSE]},r.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},r.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},r.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},r.prototype.getLayout=function(){return this.json[this.LAYOUT]},r.prototype.getHitAreasCustom=function(){return this.json[this.HIT_AREAS_CUSTOM]},r.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},r.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},r.prototype.getMotionFile=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]?null:this.json[this.MOTION_GROUPS][t][i][this.FILE]},r.prototype.getMotionSound=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]||null==this.json[this.MOTION_GROUPS][t][i][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][i][this.SOUND]},r.prototype.getMotionFadeIn=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]||null==this.json[this.MOTION_GROUPS][t][i][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][i][this.FADE_IN]},r.prototype.getMotionFadeOut=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]||null==this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT]},r.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},r.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},r.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},r.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},r.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}}]);]]></content>
    
  </entry>
  
  
  
</search>
